[
  {
    "timestamp": "2025-08-22T06:08:54.536Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:08:54.537Z",
    "level": "info",
    "category": "_GENERANDO_LOGS_DE_PRUEBA_PARA",
    "message": "üß™ Generando logs de prueba para dashboard...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.537Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_GENERANDO_LOGS_DE_PRUEBA_PARA",
      "level": "info",
      "message": "üß™ Generando logs de prueba para dashboard..."
    }
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "LOGS_DE_PRUEBA_GENERADOS_PARA_",
    "message": "Logs de prueba generados para dashboard",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.538Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_DE_PRUEBA_GENERADOS_PARA_",
      "level": "info",
      "message": "Logs de prueba generados para dashboard"
    }
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.538Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.538Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:08:54.538Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:08:54.625Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.625Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 9,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:08:54.625Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:54.625Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 9,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  },
  {
    "timestamp": "2025-08-22T06:08:55.943Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:08:55.943Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-22T06:08:55.944Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "5945ec69-5ce3-431f-92d0-f846ee7c3908",
      "timestamp": "2025-08-22T06:08:55.944Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "5945ec69-5ce3-431f-92d0-f846ee7c3908",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-22T06:08:56.323Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:03.706Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:03.709Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:03.709Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:03.709Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "99443b8d-a847-4768-affa-33753c75d444",
      "timestamp": "2025-08-22T06:09:03.709Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:03.709Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "99443b8d-a847-4768-affa-33753c75d444",
      "timestamp": "2025-08-22T06:09:03.709Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:03.710Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:03.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.119Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.119Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.120Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.120Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.226Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contrase√±a v√°lida (campo password)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.226Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contrase√±a v√°lida (campo password)"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.227Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "99443b8d-a847-4768-affa-33753c75d444",
      "timestamp": "2025-08-22T06:09:04.227Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.313Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.313Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.313Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "99443b8d-a847-4768-affa-33753c75d444",
      "timestamp": "2025-08-22T06:09:04.313Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.473Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.473Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "√çndices creados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "√çndices creados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "20a78da9-f1bf-4bf7-a363-a56da83db81c",
      "userEmail": "admin@company.com",
      "familyId": "7f9d06c6-b4d1-43e8-abf7-645168651ff9",
      "deviceId": "48eed9c5-7b6d-46d6-b5b6-32626f7d89f4",
      "level": "info",
      "message": "Refresh token creado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "20a78da9-f1bf-4bf7-a363-a56da83db81c",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "99443b8d-a847-4768-affa-33753c75d444",
      "timestamp": "2025-08-22T06:09:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "48eed9c5-7b6d-46d6-b5b6-32626f7d89f4",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.645Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:04.646Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:04.646Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "48eed9c5-7b6d-46d6-b5b6-32626f7d89f4",
      "level": "info",
      "message": "Login completado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:04.650Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:05.145Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "57ea5e54-acf7-4a3c-bc49-428644c3c51c",
      "timestamp": "2025-08-22T06:09:05.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.149Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "57ea5e54-acf7-4a3c-bc49-428644c3c51c",
      "timestamp": "2025-08-22T06:09:05.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755843844,
      "iat": 1755842944,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.149Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "57ea5e54-acf7-4a3c-bc49-428644c3c51c",
      "timestamp": "2025-08-22T06:09:05.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.168Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.168Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.170Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.170Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.171Z",
    "level": "info",
    "category": "SOCKET_FIREBASE_INIT_SUCCESS",
    "message": "Socket.IO: Firebase inicializado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FIREBASE_INIT_SUCCESS",
      "level": "info",
      "message": "Socket.IO: Firebase inicializado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.171Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.171Z",
    "level": "info",
    "category": "SOCKET_AUTH_DB_ATTEMPT",
    "message": "Socket.IO: Attempting to get user from database",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ATTEMPT",
      "email": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "userModelAvailable": true,
      "level": "info",
      "message": "Socket.IO: Attempting to get user from database"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.223Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "57ea5e54-acf7-4a3c-bc49-428644c3c51c",
      "timestamp": "2025-08-22T06:09:05.223Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.224Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "57ea5e54-acf7-4a3c-bc49-428644c3c51c",
      "timestamp": "2025-08-22T06:09:05.224Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "78ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.224Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "8b153c7a-ae84-4548-aae2-3ac642d762bf",
      "timestamp": "2025-08-22T06:09:05.224Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "8b153c7a-ae84-4548-aae2-3ac642d762bf",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.228Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.228Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.228Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"57ea5e54-acf7-4a3c-bc49-428644c3c51c\",\"traceId\":\"8b153c7a-ae84-4548-aae2-3ac642d762bf\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:05.342Z",
    "level": "info",
    "category": "SOCKET_AUTH_USER_SUCCESS",
    "message": "Socket.IO: User retrieved successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.342Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_USER_SUCCESS",
      "email": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "userRole": "admin",
      "level": "info",
      "message": "Socket.IO: User retrieved successfully"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.342Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.342Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.343Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.343Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.344Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "_1LzvslD...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.345Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-22T06:09:05.344Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.345Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.365Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "conversations_repo:root_empty_fallback",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.365Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversations_repo:root_empty_fallback",
      "collectionPath": "conversations",
      "fallback": "contacts/*/conversations",
      "note": "Leyendo desde contacts/{contactId}/conversations",
      "level": "warn",
      "message": "conversations_repo:root_empty_fallback"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.445Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.445Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.448Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.448Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.449Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.449Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "_1LzvslD...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.449Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.449Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.449Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.449Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.646Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.646Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 2,
      "filters": {
        "participants": "admin@company.com",
        "limit": 20,
        "sortBy": "lastMessageAt",
        "sortOrder": "desc"
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.648Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:05.648Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.648Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.832Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": true,
      "hasConversations": false,
      "resultKeys": [
        "0",
        "1"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.833Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.833Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.833Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.833Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.963Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:05.963Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.963Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:05.963Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:05.964Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:05.964Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:05.964Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.153Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.153Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.153Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.153Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.153Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.153Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.154Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.154Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.156Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.156Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "_1LzvslD...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.157Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.157Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.205Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.205Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactId": "4ZyCPeBTFluOuxbnJ2HX",
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.205Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.205Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:06.436Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:06.436Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "_1LzvslDNSBv8oPsAAAB",
      "level": "info",
      "message": "User requesting state sync"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.092Z",
    "level": "info",
    "category": "MESSAGES_API",
    "message": "MESSAGES_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5b1f3ef9-9a2c-4ee2-b806-30f421f8e85d",
      "timestamp": "2025-08-22T06:09:08.092Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "5b1f3ef9-9a2c-4ee2-b806-30f421f8e85d",
      "userCtx": null,
      "category": "MESSAGES_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "limit": "50"
      },
      "level": "info",
      "message": "MESSAGES_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.093Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:08.093Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.093Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:08.094Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:08.094Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.097Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:08.097Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_...",
      "participantsCount": 1,
      "level": "info",
      "message": "Usuario es participante directo de la conversaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.098Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:08.098Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:08.098Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:08.278Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:08.278Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.545Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:08.545Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "totalResults": 1,
      "hasMore": false,
      "queryTime": "89ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:08.546Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:08.546Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "count": 1,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "89ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:10.137Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:10.137Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:10.138Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:10.138Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:10.138Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:10.138Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "_1LzvslD...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:10.138Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:10.138Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:10.145Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:10.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:11.948Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:11.948Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "55f540ef-729a-4ccd-8812-4230df1278f6",
      "timestamp": "2025-08-22T06:09:11.948Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "method": "POST",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:11.949Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "55f540ef-729a-4ccd-8812-4230df1278f6",
      "timestamp": "2025-08-22T06:09:11.949Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755843844,
      "iat": 1755842944,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:11.950Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "55f540ef-729a-4ccd-8812-4230df1278f6",
      "timestamp": "2025-08-22T06:09:11.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:11.950Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:11.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.013Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.013Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.014Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "55f540ef-729a-4ccd-8812-4230df1278f6",
      "timestamp": "2025-08-22T06:09:12.014Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.014Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "55f540ef-729a-4ccd-8812-4230df1278f6",
      "timestamp": "2025-08-22T06:09:12.014Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "duration": "66ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.014Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:12.014Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.014Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:12.014Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.014Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:12.015Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageId autogenerado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-22T06:09:12.015Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "generatedMessageId": "c7850071-932b-4b9a-9364-addbdafce9cc",
      "level": "info",
      "message": "MessageId autogenerado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.017Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensaje validado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:12.189Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.189Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactId": "4ZyCPeBTFluOuxbnJ2HX",
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.697Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.697Z",
      "service": "utalk-backend",
      "environment": "production",
      "correlationId": "append_outbound_1755842952190_zawomh3of",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "c7850071-932b-4b9a-9364-addbdafce9cc",
      "from": "whatsapp:+5214793176502",
      "to": "whatsapp:+5214773790184",
      "type": "text",
      "hasMedia": false,
      "mediaCount": 0,
      "bodyLen": 4,
      "level": "info",
      "message": "TWILIO:REQUEST"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.741Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "TWILIO:RESPONSE_ERR",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.741Z",
      "service": "utalk-backend",
      "environment": "production",
      "error": "Authenticate",
      "errorCode": 20003,
      "from": "whatsapp:+5214793176502",
      "to": "whatsapp:+5214773790184",
      "hasMedia": false,
      "level": "error",
      "message": "TWILIO:RESPONSE_ERR"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.761Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "TWILIO:RESPONSE_ERR Authenticate",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "correlationId": "append_outbound_1755842952190_zawomh3of",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "c7850071-932b-4b9a-9364-addbdafce9cc",
      "code": 20003,
      "message": "TWILIO:RESPONSE_ERR Authenticate",
      "more": "https://www.twilio.com/docs/errors/20003",
      "level": "error"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.947Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "Error en appendOutbound - manejo robusto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "append_outbound_1755842952190_zawomh3of",
      "timestamp": "2025-08-22T06:09:12.947Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_",
      "messageId": "c7850071-932b-4b9a-9",
      "errorName": "Error",
      "errorMessage": "Authenticate",
      "duration": 757,
      "level": "error",
      "message": "Error en appendOutbound - manejo robusto"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.966Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "Error enviando mensaje:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:12.985Z",
    "level": "warn",
    "category": "RESPONSE_ERROR",
    "message": "ResponseHandler.error Verifica TWILIO_ACCOUNT_SID / TWILIO_AUTH_TOKEN",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:12.985Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPONSE_ERROR",
      "statusCode": 424,
      "errorType": "TWILIO_AUTH_FAILED",
      "errorCode": "Credenciales de Twilio inv√°lidas (code 20003)",
      "message": "ResponseHandler.error Verifica TWILIO_ACCOUNT_SID / TWILIO_AUTH_TOKEN",
      "level": "warn"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:12.986Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "‚ö†Ô∏è Petici√≥n HTTP con advertencia",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:30.721Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.721Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.724Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.724Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.724Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.724Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.724Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.724Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.725Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.725Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "NbWINJiy...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.725Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.725Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "totalConnected": 1,
      "connectedAt": "2025-08-22T06:09:30.725Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.725Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.725Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.827Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.827Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.827Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.827Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.827Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.827Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "NbWINJiy...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.827Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.827Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:30.827Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:30.827Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.095Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.095Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 2,
      "filters": {
        "participants": "admin@company.com",
        "limit": 100,
        "includeMessages": false
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.095Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.095Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": true,
      "hasConversations": false,
      "resultKeys": [
        "0",
        "1"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.096Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.096Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.096Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.096Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.290Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.290Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "NbWINJiy...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:31.290Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:31.290Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "NbWINJiysnSl4qouAAAE",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:40.136Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:40.138Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:40.138Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:40.139Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:40.139Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:40.139Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:40.139Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "NbWINJiy...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:40.139Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:40.139Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 3,
      "totalReRegistered": 4,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:40.141Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:40.141Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.581Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:41.581Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.581Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "40413cf3-1414-4fe8-acb3-8c7eddc201e8",
      "timestamp": "2025-08-22T06:09:41.581Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "40413cf3-1414-4fe8-acb3-8c7eddc201e8",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.581Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:41.688Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:41.691Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T06:09:41.775Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:41.775Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.776Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:41.776Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:41.776Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.776Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:41.776Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T06:09:41.867Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:41.867Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 154,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T06:09:41.867Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T06:09:41.867Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  }
]