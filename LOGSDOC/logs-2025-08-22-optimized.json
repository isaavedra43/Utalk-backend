[
  {
    "timestamp": "2025-08-22T05:26:23.349Z",
    "level": "info",
    "category": "LOGGER_CONFIG",
    "message": "Logger configurado para Railway: solo errores cr√≠ticos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.349Z",
      "service": "utalk-backend",
      "environment": "railway",
      "category": "LOGGER_CONFIG",
      "level": "info",
      "message": "Logger configurado para Railway: solo errores cr√≠ticos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:23.451Z",
    "level": "info",
    "category": "CACHE_INIT",
    "message": "‚úÖ UnifiedCacheService inicializado con l√≠mites adaptativos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.451Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_INIT",
      "maxMapsPerInstance": 15737,
      "maxEntriesPerMap": 247513,
      "totalMemory": "384GB",
      "availableMemory": "121GB",
      "level": "info",
      "message": "‚úÖ UnifiedCacheService inicializado con l√≠mites adaptativos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:23.493Z",
    "level": "info",
    "category": "RATE_LIMIT_REDIS_DEBUG",
    "message": "üîç Debug Rate Limit Redis configuration:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.493Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_REDIS_DEBUG",
      "redisUrl": "SET",
      "enableRedis": "true",
      "hasRedisUrl": true,
      "level": "info",
      "message": "üîç Debug Rate Limit Redis configuration:"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:23.691Z",
    "level": "info",
    "category": "FIREBASE_SYNC_INIT",
    "message": "üî• FIREBASE - Inicializado de forma inmediata (sync)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.691Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_SYNC_INIT",
      "projectId": "utalk-a893a",
      "appName": "[DEFAULT]",
      "firestoreAvailable": true,
      "storageAvailable": true,
      "level": "info",
      "message": "üî• FIREBASE - Inicializado de forma inmediata (sync)"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:23.812Z",
    "level": "info",
    "category": "PERFORMANCE_METRICS_INIT",
    "message": "PerformanceMetricsService inicializado con optimizaciones",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.812Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "PERFORMANCE_METRICS_INIT",
      "batchSize": 50,
      "batchInterval": 5000,
      "level": "info",
      "message": "PerformanceMetricsService inicializado con optimizaciones"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:23.986Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:23.986Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.139Z",
    "level": "info",
    "category": "BATCH_INIT",
    "message": "üöÄ Initializing Enterprise Batch Service...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.139Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT",
      "batchSize": 500,
      "maxConcurrentBatches": 10,
      "retryAttempts": 3,
      "level": "info",
      "message": "üöÄ Initializing Enterprise Batch Service..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.140Z",
    "level": "info",
    "category": "BATCH_INIT_SUCCESS",
    "message": "‚úÖ Enterprise Batch Service initialized successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.140Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT_SUCCESS",
      "level": "info",
      "message": "‚úÖ Enterprise Batch Service initialized successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.141Z",
    "level": "info",
    "category": "SHARDING_INIT",
    "message": "üöÄ Initializing Enterprise Sharding Service...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.141Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT",
      "collections": [
        "messages",
        "conversations",
        "logs",
        "analytics"
      ],
      "level": "info",
      "message": "üöÄ Initializing Enterprise Sharding Service..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.141Z",
    "level": "info",
    "category": "SHARDING_INIT_SUCCESS",
    "message": "‚úÖ Enterprise Sharding Service initialized successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.141Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT_SUCCESS",
      "level": "info",
      "message": "‚úÖ Enterprise Sharding Service initialized successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.170Z",
    "level": "info",
    "category": "LOG_DASHBOARD_INIT",
    "message": "‚úÖ LogMonitorService importado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.170Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOG_DASHBOARD_INIT",
      "level": "info",
      "message": "‚úÖ LogMonitorService importado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.170Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "üîß Iniciando validaci√≥n de variables de entorno",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.170Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "level": "info",
      "message": "üîß Iniciando validaci√≥n de variables de entorno"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.172Z",
    "level": "info",
    "category": "ENV_VALIDATION_SUCCESS",
    "message": "‚úÖ Validaci√≥n de entorno completada exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.172Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION_SUCCESS",
      "configKeys": 10,
      "level": "info",
      "message": "‚úÖ Validaci√≥n de entorno completada exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.173Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Verificando configuraci√≥n de puerto Railway",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.173Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "portType": "string",
      "level": "info",
      "message": "Verificando configuraci√≥n de puerto Railway"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.173Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Railway PORT configurado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.173Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "level": "info",
      "message": "Railway PORT configurado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.174Z",
    "level": "info",
    "category": "SERVER_INIT",
    "message": "üöÄ Iniciando servidor optimizado...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_INIT",
      "startTime": 1755840384173,
      "level": "info",
      "message": "üöÄ Iniciando servidor optimizado..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.174Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Validaci√≥n de variables de entorno cr√≠ticas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "criticalVars": {
        "PORT": "3001",
        "NODE_ENV": "production",
        "JWT_SECRET": "***SET***"
      },
      "level": "info",
      "message": "Validaci√≥n de variables de entorno cr√≠ticas"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.174Z",
    "level": "warn",
    "category": "ENV_VALIDATION",
    "message": "Variable obsoleta detectada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "variableName": "REDIS_URL",
      "recommendation": "Se puede eliminar de Railway",
      "level": "warn",
      "message": "Variable obsoleta detectada"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.174Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Variables Railway requeridas validadas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "requiredVars": [
        "PORT",
        "NODE_ENV"
      ],
      "level": "info",
      "message": "Variables Railway requeridas validadas"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.175Z",
    "level": "info",
    "category": "MIDDLEWARE_SETUP",
    "message": "üõ°Ô∏è Configurando middlewares b√°sicos...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SETUP",
      "level": "info",
      "message": "üõ°Ô∏è Configurando middlewares b√°sicos..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.178Z",
    "level": "info",
    "category": "MIDDLEWARE_SUCCESS",
    "message": "‚úÖ Middlewares b√°sicos configurados",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.178Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SUCCESS",
      "trustProxy": true,
      "level": "info",
      "message": "‚úÖ Middlewares b√°sicos configurados"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.179Z",
    "level": "info",
    "category": "ROUTES_SETUP",
    "message": "üõ£Ô∏è Configurando rutas de la aplicaci√≥n...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.179Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SETUP",
      "level": "info",
      "message": "üõ£Ô∏è Configurando rutas de la aplicaci√≥n..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.180Z",
    "level": "info",
    "category": "ROUTES_SUCCESS",
    "message": "‚úÖ Rutas configuradas exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.180Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SUCCESS",
      "totalRoutes": 40,
      "level": "info",
      "message": "‚úÖ Rutas configuradas exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.180Z",
    "level": "info",
    "category": "ERROR_HANDLING_SETUP_SUCCESS",
    "message": "‚úÖ Manejo de errores mejorado configurado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.180Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ERROR_HANDLING_SETUP_SUCCESS",
      "level": "info",
      "message": "‚úÖ Manejo de errores mejorado configurado"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.192Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "üéâ Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:26:24.193Z",
    "level": "info",
    "category": "HEALTH_MONITORING_START",
    "message": "üè• Iniciando monitoreo de salud enterprise...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.193Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_START",
      "level": "info",
      "message": "üè• Iniciando monitoreo de salud enterprise..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.193Z",
    "level": "info",
    "category": "HEALTH_MONITORING_SUCCESS",
    "message": "‚úÖ Monitoreo de salud enterprise iniciado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.193Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_SUCCESS",
      "level": "info",
      "message": "‚úÖ Monitoreo de salud enterprise iniciado"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.193Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "üéâ Servidor iniciado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.193Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTED",
      "startupTime": "20ms",
      "port": 3001,
      "level": "info",
      "message": "üéâ Servidor iniciado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.194Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION",
    "message": "üöÄ Aplicando optimizaciones de inicio...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.194Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION",
      "startTime": 1755840383351,
      "level": "info",
      "message": "üöÄ Aplicando optimizaciones de inicio..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.195Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION",
    "message": "‚è±Ô∏è Timeouts agresivos configurados para Railway",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.195Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION",
      "timeouts": {
        "connectTimeout": 5000,
        "commandTimeout": 3000,
        "keepAlive": 30000,
        "maxRetries": 0,
        "retryDelay": 100,
        "maxLoadingTimeout": 5000,
        "healthCheckTimeout": 3000,
        "socketTimeout": 10000,
        "socketKeepAlive": 30000
      },
      "level": "info",
      "message": "‚è±Ô∏è Timeouts agresivos configurados para Railway"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.196Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION_SUCCESS",
    "message": "‚úÖ Optimizaciones de inicio aplicadas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION_SUCCESS",
      "optimizationTime": "845ms",
      "optimizationsApplied": 4,
      "level": "info",
      "message": "‚úÖ Optimizaciones de inicio aplicadas"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.196Z",
    "level": "info",
    "category": "SERVICE_INIT_BACKGROUND",
    "message": "üîÑ Inicializando servicios en segundo plano...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT_BACKGROUND",
      "level": "info",
      "message": "üîÑ Inicializando servicios en segundo plano..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.196Z",
    "level": "info",
    "category": "REDIS_URL_DEBUG",
    "message": "üîç Debug Redis URL configuration:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REDIS_URL_DEBUG",
      "redisUrl": "redis://default:IJhn...",
      "enableRedis": "true",
      "isRailway": false,
      "level": "info",
      "message": "üîç Debug Redis URL configuration:"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.196Z",
    "level": "warn",
    "category": "RAILWAY_REDIS_CONFIG",
    "message": "‚ö†Ô∏è Detectada URL interna de Railway, verificando configuraci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_REDIS_CONFIG",
      "redisUrl": "redis://default:IJhnojCtJPPFHk...",
      "level": "warn",
      "message": "‚ö†Ô∏è Detectada URL interna de Railway, verificando configuraci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.197Z",
    "level": "info",
    "category": "REDIS_DEBUG",
    "message": "üîç Debug Redis configuration:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.197Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REDIS_DEBUG",
      "redisUrl": "SET",
      "enableRedis": "true",
      "hasRedisUrl": true,
      "level": "info",
      "message": "üîç Debug Redis configuration:"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.202Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Campaign Queue Service inicializado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.202Z",
      "service": "utalk-backend",
      "environment": "production",
      "redisConnected": true,
      "queuesCreated": [
        "campaign-processing",
        "message-processing"
      ],
      "twilioLimits": {
        "messagesPerSecond": 10,
        "messagesPerMinute": 600,
        "messagesPerHour": 36000,
        "maxConcurrent": 50
      },
      "optimizationLevel": "RAILWAY_OPTIMIZED",
      "level": "info",
      "message": "‚úÖ Campaign Queue Service inicializado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.203Z",
    "level": "info",
    "category": "QUEUE_SERVICE_INIT",
    "message": "Servicios de colas inicializados correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.203Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "QUEUE_SERVICE_INIT",
      "level": "info",
      "message": "Servicios de colas inicializados correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.203Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "üîå Inicializando Socket.IO enterprise...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.203Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "level": "info",
      "message": "üîå Inicializando Socket.IO enterprise..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.248Z",
    "level": "info",
    "category": "SOCKET_DEPS_INJECTION",
    "message": "Socket.IO: Dependencies injected",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.248Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_DEPS_INJECTION",
      "userModelAvailable": true,
      "conversationModelAvailable": true,
      "messageModelAvailable": true,
      "userModelType": "Function",
      "level": "info",
      "message": "Socket.IO: Dependencies injected"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.248Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "üöÄ Initializing Enterprise Socket.IO Manager...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.248Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "nodeEnv": "production",
      "level": "info",
      "message": "üöÄ Initializing Enterprise Socket.IO Manager..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.248Z",
    "level": "info",
    "category": "SOCKET_MEMORY_INIT",
    "message": "üß† Initializing managed memory maps...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.248Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_INIT",
      "level": "info",
      "message": "üß† Initializing managed memory maps..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_connectedUsers",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_connectedUsers",
      "totalMaps": 1,
      "level": "info",
      "message": "Mapa gestionado creado: socket_connectedUsers"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_userConversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_userConversations",
      "totalMaps": 2,
      "level": "info",
      "message": "Mapa gestionado creado: socket_userConversations"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_conversationUsers",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_conversationUsers",
      "totalMaps": 3,
      "level": "info",
      "message": "Mapa gestionado creado: socket_conversationUsers"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_userRoles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_userRoles",
      "totalMaps": 4,
      "level": "info",
      "message": "Mapa gestionado creado: socket_userRoles"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_rateLimits",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_rateLimits",
      "totalMaps": 5,
      "level": "info",
      "message": "Mapa gestionado creado: socket_rateLimits"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_typingUsers",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_typingUsers",
      "totalMaps": 6,
      "level": "info",
      "message": "Mapa gestionado creado: socket_typingUsers"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_eventListeners",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_eventListeners",
      "totalMaps": 7,
      "level": "info",
      "message": "Mapa gestionado creado: socket_eventListeners"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "SOCKET_MEMORY_SUCCESS",
    "message": "‚úÖ Managed memory maps initialized successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_SUCCESS",
      "mapsCount": 9,
      "totalMaxEntries": 1460000,
      "level": "info",
      "message": "‚úÖ Managed memory maps initialized successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.249Z",
    "level": "info",
    "category": "SOCKET_CONFIG",
    "message": "üîß Configuring Socket.IO server...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG",
      "level": "info",
      "message": "üîß Configuring Socket.IO server..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.252Z",
    "level": "info",
    "category": "SOCKET_CONFIG_SUCCESS",
    "message": "‚úÖ Socket.IO server configured successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.252Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG_SUCCESS",
      "corsConfig": "unified",
      "level": "info",
      "message": "‚úÖ Socket.IO server configured successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.252Z",
    "level": "info",
    "category": "SOCKET_AUTH_SETUP",
    "message": "üîê Setting up authentication middleware...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.252Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SETUP",
      "level": "info",
      "message": "üîê Setting up authentication middleware..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.252Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "‚úÖ Authentication middleware configured successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.252Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "level": "info",
      "message": "‚úÖ Authentication middleware configured successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.252Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SETUP",
    "message": "üì° Setting up event handlers...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.252Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SETUP",
      "level": "info",
      "message": "üì° Setting up event handlers..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.252Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SUCCESS",
    "message": "‚úÖ Event handlers configured successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.252Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SUCCESS",
      "level": "info",
      "message": "‚úÖ Event handlers configured successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SOCKET_MONITORING_SUCCESS",
    "message": "‚úÖ Socket.IO monitoring configured",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MONITORING_SUCCESS",
      "intervals": {
        "metrics": "60s",
        "memoryCleanup": "2min",
        "memoryLeakDetection": "5min",
        "rateLimitCleanup": "30s",
        "listenerVerification": "10s"
      },
      "level": "info",
      "message": "‚úÖ Socket.IO monitoring configured"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SOCKET_SHUTDOWN_SETUP",
    "message": "‚úÖ Socket.IO graceful shutdown configured",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SHUTDOWN_SETUP",
      "level": "info",
      "message": "‚úÖ Socket.IO graceful shutdown configured"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "‚úÖ Enterprise Socket.IO Manager initialized successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SUCCESS",
      "features": {
        "authenticationMiddleware": true,
        "memoryManagement": true,
        "rateLimiting": true,
        "presenceTracking": true,
        "stateSync": true,
        "errorHandling": true,
        "monitoring": true,
        "gracefulShutdown": true
      },
      "level": "info",
      "message": "‚úÖ Enterprise Socket.IO Manager initialized successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SOCKET_MANAGER_REGISTRADO_GLOB",
    "message": "Socket manager registrado globalmente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MANAGER_REGISTRADO_GLOB",
      "level": "info",
      "message": "Socket manager registrado globalmente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "SOCKETS:READY",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasServer": true,
      "hasManager": true,
      "category": "SOCKET_SUCCESS",
      "memoryManaged": true,
      "maxConnections": 50000,
      "level": "info",
      "message": "SOCKETS:READY"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "üè• Inicializando health checks con Circuit Breaker...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "üè• Inicializando health checks con Circuit Breaker..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "üè• Health Check Service DESACTIVADO temporalmente para permitir despliegue...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "üè• Health Check Service DESACTIVADO temporalmente para permitir despliegue..."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "HEALTH_SUCCESS",
    "message": "‚úÖ Health Check Service marcado como saludable (desactivado).",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_SUCCESS",
      "level": "info",
      "message": "‚úÖ Health Check Service marcado como saludable (desactivado)."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.253Z",
    "level": "info",
    "category": "SERVICE_INIT_BACKGROUND_SUCCESS",
    "message": "‚úÖ Todos los servicios inicializados correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT_BACKGROUND_SUCCESS",
      "level": "info",
      "message": "‚úÖ Todos los servicios inicializados correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.263Z",
    "level": "info",
    "category": "RATE_LIMIT_INIT",
    "message": "‚úÖ Rate Limiting usando Redis persistente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:24.263Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_INIT",
      "store": "redis",
      "url": "redis://***@redis.railway.internal:6379",
      "level": "info",
      "message": "‚úÖ Rate Limiting usando Redis persistente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:24.973Z",
    "level": "info",
    "category": "HEALTH_CHECK",
    "message": "Health check solicitado desde Railway",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "100.64.0.2",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "100.64.0.2",
      "userAgent": "RailwayHealthCheck/1.0",
      "timestamp": "2025-08-22T05:26:24.973Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_CHECK",
      "level": "info",
      "message": "Health check solicitado desde Railway"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:34.254Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO_START",
    "message": "Auto cleanup iniciado (optimizado)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:34.254Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO_START",
      "interval": "120s",
      "maxAge": "1800s",
      "maxCalls": 500,
      "memoryPressureThreshold": "80%",
      "level": "info",
      "message": "Auto cleanup iniciado (optimizado)"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:39.955Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:26:39.958Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:39.958Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:39.958Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "56de1698-6d9e-4eb2-a7eb-0415fc6704a1",
      "timestamp": "2025-08-22T05:26:39.958Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:39.958Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "56de1698-6d9e-4eb2-a7eb-0415fc6704a1",
      "timestamp": "2025-08-22T05:26:39.958Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:39.959Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:39.959Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.310Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.310Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.310Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.310Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.419Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contrase√±a v√°lida (campo password)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.419Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contrase√±a v√°lida (campo password)"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.419Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "56de1698-6d9e-4eb2-a7eb-0415fc6704a1",
      "timestamp": "2025-08-22T05:26:40.419Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.506Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.506Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.506Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "56de1698-6d9e-4eb2-a7eb-0415fc6704a1",
      "timestamp": "2025-08-22T05:26:40.506Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.645Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.737Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "√çndices creados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.737Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "√çndices creados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.737Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.737Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "531aeec1-f55e-429b-8eef-40123a3014a6",
      "userEmail": "admin@company.com",
      "familyId": "f34d4430-ceb2-4a6a-b44c-75135721f68b",
      "deviceId": "dfccce4e-281f-47aa-9581-ec81c60616ce",
      "level": "info",
      "message": "Refresh token creado"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.737Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.737Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "531aeec1-f55e-429b-8eef-40123a3014a6",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.737Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.737Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.738Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "56de1698-6d9e-4eb2-a7eb-0415fc6704a1",
      "timestamp": "2025-08-22T05:26:40.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "dfccce4e-281f-47aa-9581-ec81c60616ce",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.738Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:26:40.738Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:40.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "dfccce4e-281f-47aa-9581-ec81c60616ce",
      "level": "info",
      "message": "Login completado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:40.743Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:26:41.147Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ae96748c-477d-4884-bda4-0649f4bfe243",
      "timestamp": "2025-08-22T05:26:41.147Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.149Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ae96748c-477d-4884-bda4-0649f4bfe243",
      "timestamp": "2025-08-22T05:26:41.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755841300,
      "iat": 1755840400,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.149Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ae96748c-477d-4884-bda4-0649f4bfe243",
      "timestamp": "2025-08-22T05:26:41.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.160Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.160Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.162Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.162Z",
    "level": "info",
    "category": "SOCKET_FIREBASE_INIT_SUCCESS",
    "message": "Socket.IO: Firebase inicializado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FIREBASE_INIT_SUCCESS",
      "level": "info",
      "message": "Socket.IO: Firebase inicializado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.162Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.162Z",
    "level": "info",
    "category": "SOCKET_AUTH_DB_ATTEMPT",
    "message": "Socket.IO: Attempting to get user from database",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ATTEMPT",
      "email": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "userModelAvailable": true,
      "level": "info",
      "message": "Socket.IO: Attempting to get user from database"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.218Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ae96748c-477d-4884-bda4-0649f4bfe243",
      "timestamp": "2025-08-22T05:26:41.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.218Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "ae96748c-477d-4884-bda4-0649f4bfe243",
      "timestamp": "2025-08-22T05:26:41.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "71ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.218Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "46200ee8-eb94-44a9-85e5-c91a8340707e",
      "timestamp": "2025-08-22T05:26:41.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "46200ee8-eb94-44a9-85e5-c91a8340707e",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.221Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.221Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.221Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"ae96748c-477d-4884-bda4-0649f4bfe243\",\"traceId\":\"46200ee8-eb94-44a9-85e5-c91a8340707e\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:26:41.329Z",
    "level": "info",
    "category": "SOCKET_AUTH_USER_SUCCESS",
    "message": "Socket.IO: User retrieved successfully",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_USER_SUCCESS",
      "email": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "userRole": "admin",
      "level": "info",
      "message": "Socket.IO: User retrieved successfully"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.329Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.329Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.330Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.330Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "S0VJUrAI...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.331Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.331Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-22T05:26:41.330Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.331Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.331Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.383Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "conversations_repo:root_empty_fallback",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversations_repo:root_empty_fallback",
      "collectionPath": "conversations",
      "fallback": "contacts/*/conversations",
      "note": "Leyendo desde contacts/{contactId}/conversations",
      "level": "warn",
      "message": "conversations_repo:root_empty_fallback"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.431Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.431Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.433Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.433Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.433Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.433Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.434Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.434Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "S0VJUrAI...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.434Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.434Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.434Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.434Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.617Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.617Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 1,
      "filters": {
        "participants": "admin@company.com",
        "limit": 20,
        "sortBy": "lastMessageAt",
        "sortOrder": "desc"
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.618Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:26:41.618Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.618Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.651Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.651Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": true,
      "hasConversations": false,
      "resultKeys": [
        "0"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.652Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.652Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.652Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.652Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.773Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.773Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.773Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.773Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.773Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.773Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.773Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.773Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.774Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.774Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 1,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "S0VJUrAI...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.775Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.775Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.916Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:26:41.916Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.916Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:26:41.916Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:41.917Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:26:41.917Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:41.917Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:42.092Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:42.092Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactId": "4ZyCPeBTFluOuxbnJ2HX",
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:42.092Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:42.092Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:42.423Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:42.423Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "S0VJUrAINU5clARzAAAB",
      "level": "info",
      "message": "User requesting state sync"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:44.253Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:44.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:44.253Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:44.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:44.253Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:44.253Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "S0VJUrAI...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:44.254Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:44.254Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-22T05:26:54.259Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:26:54.259Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.671Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:10.671Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "8799d7ad-1a26-4989-a142-9bfaee0a2807",
      "timestamp": "2025-08-22T05:27:10.671Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.673Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "8799d7ad-1a26-4989-a142-9bfaee0a2807",
      "timestamp": "2025-08-22T05:27:10.673Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755841300,
      "iat": 1755840400,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.673Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "8799d7ad-1a26-4989-a142-9bfaee0a2807",
      "timestamp": "2025-08-22T05:27:10.673Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.673Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:10.673Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.856Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:10.856Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.856Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "8799d7ad-1a26-4989-a142-9bfaee0a2807",
      "timestamp": "2025-08-22T05:27:10.856Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.856Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "8799d7ad-1a26-4989-a142-9bfaee0a2807",
      "timestamp": "2025-08-22T05:27:10.856Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "duration": "185ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.857Z",
    "level": "info",
    "category": "MESSAGES_API",
    "message": "MESSAGES_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "73f78e37-55c9-4713-a3d9-dedd50e85164",
      "timestamp": "2025-08-22T05:27:10.857Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "73f78e37-55c9-4713-a3d9-dedd50e85164",
      "userCtx": null,
      "category": "MESSAGES_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "limit": "50"
      },
      "level": "info",
      "message": "MESSAGES_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.857Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:10.857Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.858Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:10.858Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:10.858Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.860Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:10.860Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactId": "4ZyCPeBTFluOuxbnJ2HX",
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.861Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:10.861Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_...",
      "participantsCount": 1,
      "level": "info",
      "message": "Usuario es participante directo de la conversaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:10.861Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:10.862Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:10.862Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:11.039Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:11.039Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.393Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:11.393Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "totalResults": 1,
      "hasMore": false,
      "queryTime": "121ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.393Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:11.393Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "count": 1,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "121ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.395Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:11.587Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:11.587Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.587Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:11.587Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.587Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:11.587Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:11.587Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:11.777Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:11.777Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:24.253Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:24.257Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:24.257Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.215Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:26.216Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d3048652-0b41-4a4d-ba9f-94c278bb14e8",
      "timestamp": "2025-08-22T05:27:26.216Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "method": "POST",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.218Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d3048652-0b41-4a4d-ba9f-94c278bb14e8",
      "timestamp": "2025-08-22T05:27:26.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755841300,
      "iat": 1755840400,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.218Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d3048652-0b41-4a4d-ba9f-94c278bb14e8",
      "timestamp": "2025-08-22T05:27:26.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.218Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:26.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.288Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:26.288Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.288Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d3048652-0b41-4a4d-ba9f-94c278bb14e8",
      "timestamp": "2025-08-22T05:27:26.288Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.289Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "d3048652-0b41-4a4d-ba9f-94c278bb14e8",
      "timestamp": "2025-08-22T05:27:26.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "duration": "72ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.289Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:26.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.289Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:26.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.289Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:26.290Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageId autogenerado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-22T05:27:26.290Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "generatedMessageId": "ad48d4bb-67fb-4b16-b088-f9e60ab31802",
      "level": "info",
      "message": "MessageId autogenerado"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.292Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensaje validado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:26.474Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:26.474Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactId": "4ZyCPeBTFluOuxbnJ2HX",
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n encontrada en contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.476Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã Listando usuarios",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:26.476Z",
      "service": "utalk-backend",
      "environment": "production",
      "options": {
        "isActive": true,
        "limit": 1000
      },
      "level": "info",
      "message": "üìã Listando usuarios"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.580Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "Error listando usuarios",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:26.604Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "Error obteniendo usuarios activos para participants (outbound)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:26.691Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "Error enviando mensaje:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:26.714Z",
    "level": "warn",
    "category": "RESPONSE_ERROR",
    "message": "ResponseHandler.error Contacto no encontrado para outbound",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:26.714Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPONSE_ERROR",
      "statusCode": 500,
      "errorType": "UNKNOWN",
      "errorCode": "UNKNOWN",
      "message": "ResponseHandler.error Contacto no encontrado para outbound",
      "level": "warn"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:26.715Z",
    "level": "error",
    "category": "HTTP_SERVER_ERROR",
    "message": "‚ùå Petici√≥n HTTP con error",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:54.257Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:54.257Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.639Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:55.639Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.640Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "b7e69468-bd0e-47a9-bdf0-daf0cdfa4057",
      "timestamp": "2025-08-22T05:27:55.640Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "b7e69468-bd0e-47a9-bdf0-daf0cdfa4057",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.640Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:55.799Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:55.802Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-22T05:27:55.891Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:55.891Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.891Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:55.891Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:55.891Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.892Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:55.892Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-22T05:27:55.986Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:55.986Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 196,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-22T05:27:55.986Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-22T05:27:55.986Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  }
]