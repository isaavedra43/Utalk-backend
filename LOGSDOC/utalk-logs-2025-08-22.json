{
  "exportDate": "2025-08-22T05:42:29.145Z",
  "totalLogs": 147,
  "logs": [
    {
      "timestamp": "2025-08-22T05:34:53.935Z",
      "level": "info",
      "message": "[2025-08-22T05:34:53.935Z] [INFO] [SYSTEM] Iniciando aplicaci√≥n UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-22T05:34:53.935Z\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:34:53.944Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:34:53.944Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:41:52.649Z",
      "level": "info",
      "message": "[2025-08-22T05:41:52.649Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:41:52.657Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:41:53.944Z",
      "level": "info",
      "message": "[2025-08-22T05:41:53.944Z] [INFO] [AUTH] Respuesta del backend recibida | Data: {\n  \"status\": 200,\n  \"hasData\": true,\n  \"dataKeys\": [\n    \"success\",\n    \"message\",\n    \"timestamp\",\n    \"data\"\n  ],\n  \"fullResponse\": {\n    \"success\": true,\n    \"message\": \"Login exitoso\",\n    \"timestamp\": \"2025-08-22T05:41:53.957Z\",\n    \"data\": {\n      \"success\": true,\n      \"message\": \"Login exitoso\",\n      \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MTMxMywiZXhwIjoxNzU1ODQyMjEzLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.0RZ0gYIguiAYGVx_TzPXzeASiJaOBdc6t3JccNieygE\",\n      \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImZhbWlseUlkIjoiZjI3ZjIzYzQtYzFhYS00YTc1LTk3YjItMDU3NGQ4MmFjMzQ1IiwiZGV2aWNlSWQiOiI3ZDNjMGFjNC0zZmQzLTQ0NDktOGY3OS0xYzE4NWE2YTIwMjgiLCJpYXQiOjE3NTU4NDEzMTMsImV4cCI6MTc1NjQ0NjExMywiYXVkIjoidXRhbGstYXBpIiwiaXNzIjoidXRhbGstYmFja2VuZCJ9.j6awr9elP6CTs1wJ8-5tpGXQDUSdEbjZ8Xnlf2wnMio\",\n      \"expiresIn\": \"15m\",\n      \"refreshExpiresIn\": \"7d\",\n      \"user\": {\n        \"id\": \"admin@company.com\",\n        \"email\": \"admin@company.com\",\n        \"name\": \"Administrador del Sistema\",\n        \"phone\": null,\n        \"role\": \"admin\",\n        \"permissions\": [\n          \"users.read\",\n          \"users.write\",\n          \"users.delete\",\n          \"conversations.read\",\n          \"conversations.write\",\n          \"conversations.delete\",\n          \"messages.read\",\n          \"messages.write\",\n          \"campaigns.read\",\n          \"campaigns.write\",\n          \"campaigns.delete\",\n          \"dashboard.read\",\n          \"settings.read\",\n          \"settings.write\",\n          \"crm.read\",\n          \"crm.write\"\n        ],\n        \"department\": \"admin\",\n        \"isActive\": true,\n        \"settings\": {\n          \"notifications\": true,\n          \"language\": \"es\",\n          \"timezone\": \"America/Mexico_City\"\n        },\n        \"lastLoginAt\": {\n          \"_seconds\": 1752719278,\n          \"_nanoseconds\": 484000000\n        },\n        \"createdAt\": {\n          \"_seconds\": 1755841313,\n          \"_nanoseconds\": 548000000\n        },\n        \"updatedAt\": {\n          \"_seconds\": 1753925658,\n          \"_nanoseconds\": 131000000\n        },\n        \"performance\": null\n      },\n      \"deviceInfo\": {\n        \"deviceId\": \"7d3c0ac4-3fd3-4449-8f79-1c185a6a2028\",\n        \"deviceType\": \"web\",\n        \"loginAt\": \"2025-08-22T05:41:53.742Z\"\n      }\n    }\n  }\n}"
    },
    {
      "timestamp": "2025-08-22T05:41:53.944Z",
      "level": "info",
      "message": "[2025-08-22T05:41:53.944Z] [INFO] [AUTH] Tokens extra√≠dos | Data: {\n  \"hasAccessToken\": true,\n  \"hasRefreshToken\": true,\n  \"hasUserData\": true,\n  \"accessTokenLength\": 428,\n  \"refreshTokenLength\": 501\n}"
    },
    {
      "timestamp": "2025-08-22T05:41:53.944Z",
      "level": "info",
      "message": "[2025-08-22T05:41:53.944Z] [INFO] [AUTH] Login exitoso - Usuario autenticado | Data: {\n  \"userId\": \"admin@company.com\",\n  \"userEmail\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:41:53.947Z",
      "level": "info",
      "message": "‚úÖ Login exitoso, navegando al chat..."
    },
    {
      "timestamp": "2025-08-22T05:41:53.956Z",
      "level": "info",
      "message": "üîå Iniciando conexi√≥n de socket..."
    },
    {
      "timestamp": "2025-08-22T05:41:53.956Z",
      "level": "info",
      "message": "üîå Configurando socket con URL: wss://utalk-backend-production.up.railway.app",
      "data": [
        "üîå Configurando socket con URL:",
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:53.956Z",
      "level": "info",
      "message": "üîå Token disponible: S√≠",
      "data": [
        "üîå Token disponible:",
        "S√≠"
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:53.956Z",
      "level": "info",
      "message": "üîå Configuraci√≥n de entorno: {\n  \"WS_URL\": \"wss://utalk-backend-production.up.railway.app\",\n  \"BACKEND_URL\": \"https://utalk-backend-production.up.railway.app\",\n  \"DEV_MODE\": true\n}",
      "data": [
        "üîå Configuraci√≥n de entorno:",
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": true
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:53.956Z",
      "level": "info",
      "message": "üîå Informaci√≥n del usuario para socket: {\n  \"workspaceId\": \"default_workspace\",\n  \"tenantId\": \"default_tenant\",\n  \"userId\": \"admin@company.com\",\n  \"email\": \"admin@company.com\"\n}",
      "data": [
        "üîå Informaci√≥n del usuario para socket:",
        {
          "workspaceId": "default_workspace",
          "tenantId": "default_tenant",
          "userId": "admin@company.com",
          "email": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:53.957Z",
      "level": "info",
      "message": "üîå Conectando socket expl√≠citamente..."
    },
    {
      "timestamp": "2025-08-22T05:41:53.958Z",
      "level": "info",
      "message": "üîå Socket creado, conexi√≥n iniciada autom√°ticamente"
    },
    {
      "timestamp": "2025-08-22T05:41:53.958Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:41:53.960Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 1/5 en 1000ms"
    },
    {
      "timestamp": "2025-08-22T05:41:54.045Z",
      "level": "info",
      "message": "‚úÖ Login exitoso {\n  \"tiempoTotal\": \"420120ms\",\n  \"timestamp\": \"2025-08-22T05:41:54.045Z\"\n}",
      "data": [
        "‚úÖ Login exitoso",
        {
          "tiempoTotal": "420120ms",
          "timestamp": "2025-08-22T05:41:54.045Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.256Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": null\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.256Z",
      "level": "info",
      "message": "üßπ [DEBUG] No hay conversaci√≥n seleccionada, limpiando perfil..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.257Z",
      "level": "info",
      "message": "üîå useConversationSync - Cleanup por desconexi√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.258Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": null\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.258Z",
      "level": "info",
      "message": "üßπ [DEBUG] No hay conversaci√≥n seleccionada, limpiando perfil..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.258Z",
      "level": "info",
      "message": "üîå useConversationSync - Cleanup por desconexi√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.545Z",
      "level": "info",
      "message": "‚úÖ WebSocket: Conectado exitosamente {\n  \"socketId\": \"yMpVlWx7JCcJZDnYAAAB\",\n  \"url\": \"wss://utalk-backend-production.up.railway.app\",\n  \"timestamp\": \"2025-08-22T05:41:54.545Z\",\n  \"workspaceId\": \"default_workspace\",\n  \"tenantId\": \"default_tenant\",\n  \"userId\": \"admin@company.com\"\n}",
      "data": [
        "‚úÖ WebSocket: Conectado exitosamente",
        {
          "socketId": "yMpVlWx7JCcJZDnYAAAB",
          "url": "wss://utalk-backend-production.up.railway.app",
          "timestamp": "2025-08-22T05:41:54.545Z",
          "workspaceId": "default_workspace",
          "tenantId": "default_tenant",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.545Z",
      "level": "info",
      "message": "‚úÖ Socket conectado exitosamente: {\n  \"socketId\": \"yMpVlWx7JCcJZDnYAAAB\",\n  \"timestamp\": \"2025-08-22T05:41:54.545Z\",\n  \"reconnectAttempts\": 0\n}",
      "data": [
        "‚úÖ Socket conectado exitosamente:",
        {
          "socketId": "yMpVlWx7JCcJZDnYAAAB",
          "timestamp": "2025-08-22T05:41:54.545Z",
          "reconnectAttempts": 0
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.549Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:41:54.553Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Cache miss en store, creando nueva petici√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîÑ Cargando perfil del cliente: conv_+5214773790184_+5214793176502",
      "data": [
        "üîÑ Cargando perfil del cliente:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîç [DEBUG] Iniciando getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Cache miss, haciendo petici√≥n a API..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.894Z",
      "level": "info",
      "message": "üîÑ [RETRY] Intento 1 para getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üì° [DEBUG] Haciendo petici√≥n a: /api/conversations/conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîÑ useChat - Cambio de conversaci√≥n detectado: {\n  \"anterior\": null,\n  \"nueva\": \"\"\n}",
      "data": [
        "üîÑ useChat - Cambio de conversaci√≥n detectado:",
        {
          "anterior": null,
          "nueva": ""
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.895Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.896Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.896Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:41:54.896Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.901Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 2,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 2,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.901Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 2,\n  \"serverUnreadCount\": 2,\n  \"finalUnreadCount\": 2,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 2,
          "serverUnreadCount": 2,
          "finalUnreadCount": 2,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:54.983Z",
      "level": "info",
      "message": "‚úÖ Estado sincronizado desde servidor (versi√≥n undefined)"
    },
    {
      "timestamp": "2025-08-22T05:41:54.983Z",
      "level": "info",
      "message": "üîå useConversationSync - Estado sincronizado: {\n  \"conversations\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"status\": \"open\",\n      \"customerPhone\": \"+5214773790184\",\n      \"assignedTo\": null,\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"temp_1755840250062\",\n        \"content\": \"Nuevo mensaje recibido\",\n        \"direction\": \"inbound\",\n        \"timestamp\": \"2025-08-22T05:24:10.062Z\"\n      },\n      \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n      \"unreadCount\": 2,\n      \"messageCount\": 2,\n      \"participants\": [\n        \"admin@company.com\"\n      ],\n      \"createdAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755840909,\n        \"_nanoseconds\": 436000000\n      }\n    }\n  ],\n  \"unreadCounts\": {\n    \"conv_+5214773790184_+5214793176502\": 4\n  },\n  \"onlineUsers\": {},\n  \"serverTime\": \"2025-08-22T05:41:55.059Z\",\n  \"syncId\": \"initial_1755841315059\"\n}",
      "data": [
        "üîå useConversationSync - Estado sincronizado:",
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "temp_1755840250062",
                "content": "Nuevo mensaje recibido",
                "direction": "inbound",
                "timestamp": "2025-08-22T05:24:10.062Z"
              },
              "lastMessageAt": "2025-08-22T05:24:10.062Z",
              "unreadCount": 2,
              "messageCount": 2,
              "participants": [
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              },
              "updatedAt": {
                "_seconds": 1755840909,
                "_nanoseconds": 436000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 4
          },
          "onlineUsers": {},
          "serverTime": "2025-08-22T05:41:55.059Z",
          "syncId": "initial_1755841315059"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "üì° [DEBUG] Respuesta recibida: status=200, success=true, hasData=true"
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Datos de conversaci√≥n obtenidos: {\n  \"customerPhone\": \"+5214773790184\",\n  \"status\": \"open\",\n  \"unreadCount\": 2,\n  \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n  \"createdAt\": {\n    \"_seconds\": 1755840250,\n    \"_nanoseconds\": 557000000\n  }\n}",
      "data": [
        "‚úÖ [DEBUG] Datos de conversaci√≥n obtenidos:",
        {
          "customerPhone": "+5214773790184",
          "status": "open",
          "unreadCount": 2,
          "lastMessageAt": "2025-08-22T05:24:10.062Z",
          "createdAt": {
            "_seconds": 1755840250,
            "_nanoseconds": 557000000
          }
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "‚ö†Ô∏è [DEBUG] Backend devolvi√≥ conversaci√≥n sin datos de contacto"
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "üîß [DEBUG] Formateando perfil del cliente..."
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil formateado exitosamente: {\n  \"name\": \"Cliente sin nombre\",\n  \"phone\": \"+5214773790184\",\n  \"channel\": \"whatsapp\",\n  \"status\": \"open\"\n}",
      "data": [
        "‚úÖ [DEBUG] Perfil formateado exitosamente:",
        {
          "name": "Cliente sin nombre",
          "phone": "+5214773790184",
          "channel": "whatsapp",
          "status": "open"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "‚úÖ [RETRY] √âxito en intento 1 para getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "üíæ [DEBUG] Perfil guardado en cache"
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de clientProfileService: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de clientProfileService:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "‚úÖ Perfil cargado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:41:55.380Z",
      "level": "info",
      "message": "üßπ [DEBUG] Limpieza completada para: conv_+5214773790184_+5214793176502",
      "data": [
        "üßπ [DEBUG] Limpieza completada para:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:41:55.899Z",
      "level": "info",
      "message": "üîå Socket ya conectado, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:41:55.909Z",
      "level": "info",
      "message": "üîÑ Estado sincronizado con servidor"
    },
    {
      "timestamp": "2025-08-22T05:41:55.910Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:41:55.917Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:41:56.298Z",
      "level": "info",
      "message": "‚úÖ Estado sincronizado desde servidor (versi√≥n undefined)"
    },
    {
      "timestamp": "2025-08-22T05:41:56.298Z",
      "level": "info",
      "message": "üîå useConversationSync - Estado sincronizado: {\n  \"conversations\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"status\": \"open\",\n      \"customerPhone\": \"+5214773790184\",\n      \"assignedTo\": null,\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"temp_1755840250062\",\n        \"content\": \"Nuevo mensaje recibido\",\n        \"direction\": \"inbound\",\n        \"timestamp\": \"2025-08-22T05:24:10.062Z\"\n      },\n      \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n      \"unreadCount\": 2,\n      \"messageCount\": 2,\n      \"participants\": [\n        \"admin@company.com\"\n      ],\n      \"createdAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755840909,\n        \"_nanoseconds\": 436000000\n      }\n    }\n  ],\n  \"unreadCounts\": {\n    \"conv_+5214773790184_+5214793176502\": 4\n  },\n  \"onlineUsers\": {},\n  \"serverTime\": \"2025-08-22T05:41:56.336Z\",\n  \"syncId\": 1755841316336\n}",
      "data": [
        "üîå useConversationSync - Estado sincronizado:",
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "temp_1755840250062",
                "content": "Nuevo mensaje recibido",
                "direction": "inbound",
                "timestamp": "2025-08-22T05:24:10.062Z"
              },
              "lastMessageAt": "2025-08-22T05:24:10.062Z",
              "unreadCount": 2,
              "messageCount": 2,
              "participants": [
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              },
              "updatedAt": {
                "_seconds": 1755840909,
                "_nanoseconds": 436000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 4
          },
          "onlineUsers": {},
          "serverTime": "2025-08-22T05:41:56.336Z",
          "syncId": 1755841316336
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.297Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.298Z",
      "level": "info",
      "message": "‚úÖ useConversationActions - Conversaci√≥n seleccionada: conv_+5214773790184_+5214793176502",
      "data": [
        "‚úÖ useConversationActions - Conversaci√≥n seleccionada:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.317Z",
      "level": "info",
      "message": "üîÑ useChat - Cambio de conversaci√≥n detectado: {\n  \"anterior\": \"\",\n  \"nueva\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ useChat - Cambio de conversaci√≥n detectado:",
        {
          "anterior": "",
          "nueva": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.317Z",
      "level": "info",
      "message": "üéß useChat - Configurando listeners para conversaci√≥n: conv_+5214773790184_+5214793176502",
      "data": [
        "üéß useChat - Configurando listeners para conversaci√≥n:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.317Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a getProfile..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:42:08.318Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 2,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 2,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Ya cargando perfil, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de getProfile: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\",\n  \"profileChannel\": \"whatsapp\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de getProfile:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184",
          "profileChannel": "whatsapp"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil obtenido, actualizando estado..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.330Z",
      "level": "info",
      "message": "üèÅ [DEBUG] Finalizando carga..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 0,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 0,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 0,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 0,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a getProfile..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de getProfile: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\",\n  \"profileChannel\": \"whatsapp\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de getProfile:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184",
          "profileChannel": "whatsapp"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil obtenido, actualizando estado..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.333Z",
      "level": "info",
      "message": "üèÅ [DEBUG] Finalizando carga..."
    },
    {
      "timestamp": "2025-08-22T05:42:08.346Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.318Z",
      "level": "info",
      "message": "üîó useChat - Uni√©ndose a conversaci√≥n: conv_+5214773790184_+5214793176502",
      "data": [
        "üîó useChat - Uni√©ndose a conversaci√≥n:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.318Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n joinConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n joinConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.319Z",
      "level": "info",
      "message": "üîó Room ID generado (formato simplificado): {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"roomId\": \"conversation:conv_+5214773790184_+5214793176502\",\n  \"userId\": \"admin@company.com\"\n}",
      "data": [
        "üîó Room ID generado (formato simplificado):",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "roomId": "conversation:conv_+5214773790184_+5214793176502",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.319Z",
      "level": "info",
      "message": "üîó join-conversation - Room ID generado: conversation:conv_+5214773790184_+5214793176502",
      "data": [
        "üîó join-conversation - Room ID generado:",
        "conversation:conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.319Z",
      "level": "info",
      "message": "üîó Uniendo a conversaci√≥n: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:42:09.319Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.319Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n loadMessages: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n loadMessages:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:09.604Z",
      "level": "info",
      "message": "üîå useConversationSync - Usuario se uni√≥ a conversaci√≥n: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"roomId\": \"ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502\",\n  \"onlineUsers\": [\n    \"admin@company.com\"\n  ],\n  \"success\": true,\n  \"timestamp\": \"2025-08-22T05:42:09.680Z\"\n}",
      "data": [
        "üîå useConversationSync - Usuario se uni√≥ a conversaci√≥n:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
          "onlineUsers": [
            "admin@company.com"
          ],
          "success": true,
          "timestamp": "2025-08-22T05:42:09.680Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.124Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n loadConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n loadConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.124Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.124Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n getConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n getConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.127Z",
      "level": "info",
      "message": "‚úÖ useChat - Mensajes cargados exitosamente, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-22T05:42:10.135Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.135Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:42:10.136Z",
      "level": "info",
      "message": "üëÅÔ∏è Marcando mensajes como le√≠dos: [\n  \"temp_1755840250062\"\n]",
      "data": [
        "üëÅÔ∏è Marcando mensajes como le√≠dos:",
        [
          "temp_1755840250062"
        ]
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.136Z",
      "level": "info",
      "message": "‚úÖ Mensajes marcados como le√≠dos: conv_+5214773790184_+5214793176502 - 1 mensajes"
    },
    {
      "timestamp": "2025-08-22T05:42:10.136Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.136Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:42:10.517Z",
      "level": "info",
      "message": "‚úÖ useChat - Conversaci√≥n cargada: {}",
      "data": [
        "‚úÖ useChat - Conversaci√≥n cargada:",
        {}
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:10.529Z",
      "level": "info",
      "message": "‚úÖ useChat - Mensajes cargados, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-22T05:42:12.487Z",
      "level": "info",
      "message": "‚úçÔ∏è Iniciando indicador de escritura"
    },
    {
      "timestamp": "2025-08-22T05:42:14.013Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n sendMessage: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n sendMessage:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:14.013Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:14.013Z",
      "level": "info",
      "message": "‚ö†Ô∏è useChat - Mensaje ya se est√° enviando, ignorando env√≠o duplicado"
    },
    {
      "timestamp": "2025-08-22T05:42:15.488Z",
      "level": "info",
      "message": "‚èπÔ∏è Deteniendo indicador de escritura (timeout)"
    },
    {
      "timestamp": "2025-08-22T05:42:16.549Z",
      "level": "info",
      "message": "üîå WebSocket: Desconectado {\n  \"reason\": \"transport close\",\n  \"timestamp\": \"2025-08-22T05:42:16.549Z\"\n}",
      "data": [
        "üîå WebSocket: Desconectado",
        {
          "reason": "transport close",
          "timestamp": "2025-08-22T05:42:16.549Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.549Z",
      "level": "info",
      "message": "‚ùå Socket desconectado: {\n  \"reason\": \"transport close\",\n  \"timestamp\": \"2025-08-22T05:42:16.549Z\",\n  \"reconnectAttempts\": 0\n}",
      "data": [
        "‚ùå Socket desconectado:",
        {
          "reason": "transport close",
          "timestamp": "2025-08-22T05:42:16.549Z",
          "reconnectAttempts": 0
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.549Z",
      "level": "info",
      "message": "üîÑ Intentando reconexi√≥n autom√°tica..."
    },
    {
      "timestamp": "2025-08-22T05:42:16.549Z",
      "level": "info",
      "message": "üîÑ Reconexi√≥n en 2000ms (intento 1/5)"
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üìä ChatComponent - Estado actualizado (CR√çTICO): {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"isConnected\": false,\n  \"isJoined\": true,\n  \"loading\": false,\n  \"error\": null,\n  \"messagesCount\": 1\n}",
      "data": [
        "üìä ChatComponent - Estado actualizado (CR√çTICO):",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "isConnected": false,
          "isJoined": true,
          "loading": false,
          "error": null,
          "messagesCount": 1
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå useConversationSync - Cleanup por desconexi√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Iniciando conexi√≥n de socket..."
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Configurando socket con URL: wss://utalk-backend-production.up.railway.app",
      "data": [
        "üîå Configurando socket con URL:",
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Token disponible: S√≠",
      "data": [
        "üîå Token disponible:",
        "S√≠"
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Configuraci√≥n de entorno: {\n  \"WS_URL\": \"wss://utalk-backend-production.up.railway.app\",\n  \"BACKEND_URL\": \"https://utalk-backend-production.up.railway.app\",\n  \"DEV_MODE\": true\n}",
      "data": [
        "üîå Configuraci√≥n de entorno:",
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": true
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Informaci√≥n del usuario para socket: {\n  \"workspaceId\": \"default_workspace\",\n  \"tenantId\": \"default_tenant\",\n  \"userId\": \"admin@company.com\",\n  \"email\": \"admin@company.com\"\n}",
      "data": [
        "üîå Informaci√≥n del usuario para socket:",
        {
          "workspaceId": "default_workspace",
          "tenantId": "default_tenant",
          "userId": "admin@company.com",
          "email": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Conectando socket expl√≠citamente..."
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Socket creado, conexi√≥n iniciada autom√°ticamente"
    },
    {
      "timestamp": "2025-08-22T05:42:16.559Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:42:16.560Z",
      "level": "error",
      "message": "[2025-08-22T05:42:16.560Z] [ERROR] [API] API Error: POST /api/conversations/conv_+5214773790184_+5214793176502/messages | Data: {\n  \"message\": \"Network Error\"\n} | Error: Network Error | Stack: AxiosError: Network Error\n    at XMLHttpRequest.handleError (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1615:14)"
    },
    {
      "timestamp": "2025-08-22T05:42:16.560Z",
      "level": "error",
      "message": "[2025-08-22T05:42:16.560Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/conversations/conv_+5214773790184_+5214793176502/messages\",\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: Network Error | Stack: AxiosError: Network Error\n    at XMLHttpRequest.handleError (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1615:14)"
    },
    {
      "timestamp": "2025-08-22T05:42:16.561Z",
      "level": "error",
      "message": "‚ùå Error enviando mensaje: {\n  \"message\": \"Network Error\",\n  \"name\": \"AxiosError\",\n  \"stack\": \"AxiosError: Network Error\\n    at XMLHttpRequest.handleError (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1615:14)\\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:2143:41)\\n    at async Object.sendMessage (http://localhost:5173/src/services/messages.ts?t=1755821749120:21:22)\\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755821749120:499:24\\n    at async handleSend (http://localhost:5173/src/components/chat/ChatComponent.tsx?t=1755821749120:341:7)\",\n  \"config\": {\n    \"transitional\": {\n      \"silentJSONParsing\": true,\n      \"forcedJSONParsing\": true,\n      \"clarifyTimeoutError\": false\n    },\n    \"adapter\": [\n      \"xhr\",\n      \"http\",\n      \"fetch\"\n    ],\n    \"transformRequest\": [\n      null\n    ],\n    \"transformResponse\": [\n      null\n    ],\n    \"timeout\": 30000,\n    \"xsrfCookieName\": \"XSRF-TOKEN\",\n    \"xsrfHeaderName\": \"X-XSRF-TOKEN\",\n    \"maxContentLength\": -1,\n    \"maxBodyLength\": -1,\n    \"env\": {},\n    \"headers\": {\n      \"Accept\": \"application/json, text/plain, */*\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MTMxMywiZXhwIjoxNzU1ODQyMjEzLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.0RZ0gYIguiAYGVx_TzPXzeASiJaOBdc6t3JccNieygE\"\n    },\n    \"baseURL\": \"https://utalk-backend-production.up.railway.app\",\n    \"method\": \"post\",\n    \"url\": \"/api/conversations/conv_+5214773790184_+5214793176502/messages\",\n    \"data\": \"{\\\"content\\\":\\\"HOLA\\\",\\\"type\\\":\\\"text\\\",\\\"metadata\\\":{},\\\"senderIdentifier\\\":\\\"agent:admin@company.com\\\",\\\"recipientIdentifier\\\":\\\"whatsapp:+5214773790184\\\"}\",\n    \"allowAbsoluteUrls\": true\n  },\n  \"code\": \"ERR_NETWORK\"\n}",
      "data": [
        "‚ùå Error enviando mensaje:",
        {
          "message": "Network Error",
          "name": "AxiosError",
          "stack": "AxiosError: Network Error\n    at XMLHttpRequest.handleError (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1615:14)\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:2143:41)\n    at async Object.sendMessage (http://localhost:5173/src/services/messages.ts?t=1755821749120:21:22)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755821749120:499:24\n    at async handleSend (http://localhost:5173/src/components/chat/ChatComponent.tsx?t=1755821749120:341:7)",
          "config": {
            "transitional": {
              "silentJSONParsing": true,
              "forcedJSONParsing": true,
              "clarifyTimeoutError": false
            },
            "adapter": [
              "xhr",
              "http",
              "fetch"
            ],
            "transformRequest": [
              null
            ],
            "transformResponse": [
              null
            ],
            "timeout": 30000,
            "xsrfCookieName": "XSRF-TOKEN",
            "xsrfHeaderName": "X-XSRF-TOKEN",
            "maxContentLength": -1,
            "maxBodyLength": -1,
            "env": {},
            "headers": {
              "Accept": "application/json, text/plain, */*",
              "Content-Type": "application/json",
              "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MTMxMywiZXhwIjoxNzU1ODQyMjEzLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.0RZ0gYIguiAYGVx_TzPXzeASiJaOBdc6t3JccNieygE"
            },
            "baseURL": "https://utalk-backend-production.up.railway.app",
            "method": "post",
            "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
            "data": "{\"content\":\"HOLA\",\"type\":\"text\",\"metadata\":{},\"senderIdentifier\":\"agent:admin@company.com\",\"recipientIdentifier\":\"whatsapp:+5214773790184\"}",
            "allowAbsoluteUrls": true
          },
          "code": "ERR_NETWORK"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.570Z",
      "level": "info",
      "message": "üìä ChatComponent - Estado actualizado (CR√çTICO): {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"isConnected\": false,\n  \"isJoined\": true,\n  \"loading\": false,\n  \"error\": \"Network Error\",\n  \"messagesCount\": 1\n}",
      "data": [
        "üìä ChatComponent - Estado actualizado (CR√çTICO):",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "isConnected": false,
          "isJoined": true,
          "loading": false,
          "error": "Network Error",
          "messagesCount": 1
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:42:16.570Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 1/5 en 1000ms"
    },
    {
      "timestamp": "2025-08-22T05:42:17.575Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:42:17.591Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 2/5 en 2000ms"
    },
    {
      "timestamp": "2025-08-22T05:42:19.593Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:42:19.615Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 3/5 en 4000ms"
    },
    {
      "timestamp": "2025-08-22T05:42:23.616Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:42:23.635Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 4/5 en 8000ms"
    }
  ]
}