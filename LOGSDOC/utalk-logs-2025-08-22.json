{
  "exportDate": "2025-08-22T05:27:37.052Z",
  "totalLogs": 126,
  "logs": [
    {
      "timestamp": "2025-08-22T05:25:50.826Z",
      "level": "info",
      "message": "[2025-08-22T05:25:50.826Z] [INFO] [SYSTEM] Iniciando aplicaci√≥n UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-22T05:25:50.826Z\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:25:50.843Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:25:50.844Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:26:39.720Z",
      "level": "info",
      "message": "[2025-08-22T05:26:39.720Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:26:39.727Z",
      "level": "info",
      "message": "üîê useAuth - No hay tokens en localStorage"
    },
    {
      "timestamp": "2025-08-22T05:26:40.675Z",
      "level": "info",
      "message": "[2025-08-22T05:26:40.675Z] [INFO] [AUTH] Respuesta del backend recibida | Data: {\n  \"status\": 200,\n  \"hasData\": true,\n  \"dataKeys\": [\n    \"success\",\n    \"message\",\n    \"timestamp\",\n    \"data\"\n  ],\n  \"fullResponse\": {\n    \"success\": true,\n    \"message\": \"Login exitoso\",\n    \"timestamp\": \"2025-08-22T05:26:40.739Z\",\n    \"data\": {\n      \"success\": true,\n      \"message\": \"Login exitoso\",\n      \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MDQwMCwiZXhwIjoxNzU1ODQxMzAwLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.30ElSvV9MOGqaBAomRfa6yK5BDamMfq3MDm0yBU1Sh4\",\n      \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImZhbWlseUlkIjoiY2YwYzA0MTgtNGY3My00MzU4LTllNTgtMjgzMzQwMDAxMzMyIiwiZGV2aWNlSWQiOiJkZmNjY2U0ZS0yODFmLTQ3YWEtOTU4MS1lYzgxYzYwNjE2Y2UiLCJpYXQiOjE3NTU4NDA0MDAsImV4cCI6MTc1NjQ0NTIwMCwiYXVkIjoidXRhbGstYXBpIiwiaXNzIjoidXRhbGstYmFja2VuZCJ9.8YDjbkx0JPuATZXndmGQeVitmxnnwYOZYHyQG9Cm-FM\",\n      \"expiresIn\": \"15m\",\n      \"refreshExpiresIn\": \"7d\",\n      \"user\": {\n        \"id\": \"admin@company.com\",\n        \"email\": \"admin@company.com\",\n        \"name\": \"Administrador del Sistema\",\n        \"phone\": null,\n        \"role\": \"admin\",\n        \"permissions\": [\n          \"users.read\",\n          \"users.write\",\n          \"users.delete\",\n          \"conversations.read\",\n          \"conversations.write\",\n          \"conversations.delete\",\n          \"messages.read\",\n          \"messages.write\",\n          \"campaigns.read\",\n          \"campaigns.write\",\n          \"campaigns.delete\",\n          \"dashboard.read\",\n          \"settings.read\",\n          \"settings.write\",\n          \"crm.read\",\n          \"crm.write\"\n        ],\n        \"department\": \"admin\",\n        \"isActive\": true,\n        \"settings\": {\n          \"notifications\": true,\n          \"language\": \"es\",\n          \"timezone\": \"America/Mexico_City\"\n        },\n        \"lastLoginAt\": {\n          \"_seconds\": 1752719278,\n          \"_nanoseconds\": 484000000\n        },\n        \"createdAt\": {\n          \"_seconds\": 1755840400,\n          \"_nanoseconds\": 310000000\n        },\n        \"updatedAt\": {\n          \"_seconds\": 1753925658,\n          \"_nanoseconds\": 131000000\n        },\n        \"performance\": null\n      },\n      \"deviceInfo\": {\n        \"deviceId\": \"dfccce4e-281f-47aa-9581-ec81c60616ce\",\n        \"deviceType\": \"web\",\n        \"loginAt\": \"2025-08-22T05:26:40.510Z\"\n      }\n    }\n  }\n}"
    },
    {
      "timestamp": "2025-08-22T05:26:40.675Z",
      "level": "info",
      "message": "[2025-08-22T05:26:40.675Z] [INFO] [AUTH] Tokens extra√≠dos | Data: {\n  \"hasAccessToken\": true,\n  \"hasRefreshToken\": true,\n  \"hasUserData\": true,\n  \"accessTokenLength\": 428,\n  \"refreshTokenLength\": 501\n}"
    },
    {
      "timestamp": "2025-08-22T05:26:40.675Z",
      "level": "info",
      "message": "[2025-08-22T05:26:40.675Z] [INFO] [AUTH] Login exitoso - Usuario autenticado | Data: {\n  \"userId\": \"admin@company.com\",\n  \"userEmail\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-22T05:26:40.679Z",
      "level": "info",
      "message": "‚úÖ Login exitoso, navegando al chat..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.686Z",
      "level": "info",
      "message": "üîå Iniciando conexi√≥n de socket..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.687Z",
      "level": "info",
      "message": "üîå Configurando socket con URL: wss://utalk-backend-production.up.railway.app",
      "data": [
        "üîå Configurando socket con URL:",
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.687Z",
      "level": "info",
      "message": "üîå Token disponible: S√≠",
      "data": [
        "üîå Token disponible:",
        "S√≠"
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.687Z",
      "level": "info",
      "message": "üîå Configuraci√≥n de entorno: {\n  \"WS_URL\": \"wss://utalk-backend-production.up.railway.app\",\n  \"BACKEND_URL\": \"https://utalk-backend-production.up.railway.app\",\n  \"DEV_MODE\": true\n}",
      "data": [
        "üîå Configuraci√≥n de entorno:",
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": true
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.687Z",
      "level": "info",
      "message": "üîå Informaci√≥n del usuario para socket: {\n  \"workspaceId\": \"default_workspace\",\n  \"tenantId\": \"default_tenant\",\n  \"userId\": \"admin@company.com\",\n  \"email\": \"admin@company.com\"\n}",
      "data": [
        "üîå Informaci√≥n del usuario para socket:",
        {
          "workspaceId": "default_workspace",
          "tenantId": "default_tenant",
          "userId": "admin@company.com",
          "email": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.688Z",
      "level": "info",
      "message": "üîå Conectando socket expl√≠citamente..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.689Z",
      "level": "info",
      "message": "üîå Socket creado, conexi√≥n iniciada autom√°ticamente"
    },
    {
      "timestamp": "2025-08-22T05:26:40.689Z",
      "level": "info",
      "message": "üîå Ya hay una conexi√≥n en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.691Z",
      "level": "info",
      "message": "üîÑ Intento de reconexi√≥n 1/5 en 1000ms"
    },
    {
      "timestamp": "2025-08-22T05:26:40.776Z",
      "level": "info",
      "message": "‚úÖ Login exitoso {\n  \"tiempoTotal\": \"49958ms\",\n  \"timestamp\": \"2025-08-22T05:26:40.776Z\"\n}",
      "data": [
        "‚úÖ Login exitoso",
        {
          "tiempoTotal": "49958ms",
          "timestamp": "2025-08-22T05:26:40.776Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.988Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": null\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.988Z",
      "level": "info",
      "message": "üßπ [DEBUG] No hay conversaci√≥n seleccionada, limpiando perfil..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.990Z",
      "level": "info",
      "message": "üîå useConversationSync - Cleanup por desconexi√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.991Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": null\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:40.991Z",
      "level": "info",
      "message": "üßπ [DEBUG] No hay conversaci√≥n seleccionada, limpiando perfil..."
    },
    {
      "timestamp": "2025-08-22T05:26:40.991Z",
      "level": "info",
      "message": "üîå useConversationSync - Cleanup por desconexi√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.262Z",
      "level": "info",
      "message": "‚úÖ WebSocket: Conectado exitosamente {\n  \"socketId\": \"S0VJUrAINU5clARzAAAB\",\n  \"url\": \"wss://utalk-backend-production.up.railway.app\",\n  \"timestamp\": \"2025-08-22T05:26:41.262Z\",\n  \"workspaceId\": \"default_workspace\",\n  \"tenantId\": \"default_tenant\",\n  \"userId\": \"admin@company.com\"\n}",
      "data": [
        "‚úÖ WebSocket: Conectado exitosamente",
        {
          "socketId": "S0VJUrAINU5clARzAAAB",
          "url": "wss://utalk-backend-production.up.railway.app",
          "timestamp": "2025-08-22T05:26:41.262Z",
          "workspaceId": "default_workspace",
          "tenantId": "default_tenant",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.262Z",
      "level": "info",
      "message": "‚úÖ Socket conectado exitosamente: {\n  \"socketId\": \"S0VJUrAINU5clARzAAAB\",\n  \"timestamp\": \"2025-08-22T05:26:41.262Z\",\n  \"reconnectAttempts\": 0\n}",
      "data": [
        "‚úÖ Socket conectado exitosamente:",
        {
          "socketId": "S0VJUrAINU5clARzAAAB",
          "timestamp": "2025-08-22T05:26:41.262Z",
          "reconnectAttempts": 0
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.267Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:26:41.269Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Cache miss en store, creando nueva petici√≥n..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîÑ Cargando perfil del cliente: conv_+5214773790184_+5214793176502",
      "data": [
        "üîÑ Cargando perfil del cliente:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîç [DEBUG] Iniciando getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Cache miss, haciendo petici√≥n a API..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.682Z",
      "level": "info",
      "message": "üîÑ [RETRY] Intento 1 para getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üì° [DEBUG] Haciendo petici√≥n a: /api/conversations/conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.683Z",
      "level": "info",
      "message": "üîÑ useChat - Cambio de conversaci√≥n detectado: {\n  \"anterior\": null,\n  \"nueva\": \"\"\n}",
      "data": [
        "üîÑ useChat - Cambio de conversaci√≥n detectado:",
        {
          "anterior": null,
          "nueva": ""
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîÑ Petici√≥n ya en curso, esperando resultado..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.684Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.692Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 1,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 1,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.692Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 1,\n  \"serverUnreadCount\": 1,\n  \"finalUnreadCount\": 1,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 1,
          "serverUnreadCount": 1,
          "finalUnreadCount": 1,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.695Z",
      "level": "info",
      "message": "üîå Socket ya conectado, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:26:41.703Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:26:41.709Z",
      "level": "info",
      "message": "‚úÖ Estado sincronizado desde servidor (versi√≥n undefined)"
    },
    {
      "timestamp": "2025-08-22T05:26:41.709Z",
      "level": "info",
      "message": "üîå useConversationSync - Estado sincronizado: {\n  \"conversations\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"status\": \"open\",\n      \"customerPhone\": \"+5214773790184\",\n      \"assignedTo\": null,\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"temp_1755840250062\",\n        \"content\": \"Nuevo mensaje recibido\",\n        \"direction\": \"inbound\",\n        \"timestamp\": \"2025-08-22T05:24:10.062Z\"\n      },\n      \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n      \"unreadCount\": 1,\n      \"messageCount\": 1,\n      \"participants\": [\n        \"admin@company.com\"\n      ],\n      \"createdAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      }\n    }\n  ],\n  \"unreadCounts\": {\n    \"conv_+5214773790184_+5214793176502\": 4\n  },\n  \"onlineUsers\": {},\n  \"serverTime\": \"2025-08-22T05:26:41.773Z\",\n  \"syncId\": \"initial_1755840401773\"\n}",
      "data": [
        "üîå useConversationSync - Estado sincronizado:",
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "temp_1755840250062",
                "content": "Nuevo mensaje recibido",
                "direction": "inbound",
                "timestamp": "2025-08-22T05:24:10.062Z"
              },
              "lastMessageAt": "2025-08-22T05:24:10.062Z",
              "unreadCount": 1,
              "messageCount": 1,
              "participants": [
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              },
              "updatedAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 4
          },
          "onlineUsers": {},
          "serverTime": "2025-08-22T05:26:41.773Z",
          "syncId": "initial_1755840401773"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:41.709Z",
      "level": "info",
      "message": "‚úÖ WebSocket conectado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "üì° [DEBUG] Respuesta recibida: status=200, success=true, hasData=true"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Datos de conversaci√≥n obtenidos: {\n  \"customerPhone\": \"+5214773790184\",\n  \"status\": \"open\",\n  \"unreadCount\": 1,\n  \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n  \"createdAt\": {\n    \"_seconds\": 1755840250,\n    \"_nanoseconds\": 557000000\n  }\n}",
      "data": [
        "‚úÖ [DEBUG] Datos de conversaci√≥n obtenidos:",
        {
          "customerPhone": "+5214773790184",
          "status": "open",
          "unreadCount": 1,
          "lastMessageAt": "2025-08-22T05:24:10.062Z",
          "createdAt": {
            "_seconds": 1755840250,
            "_nanoseconds": 557000000
          }
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "‚ö†Ô∏è [DEBUG] Backend devolvi√≥ conversaci√≥n sin datos de contacto"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "üîß [DEBUG] Formateando perfil del cliente..."
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil formateado exitosamente: {\n  \"name\": \"Cliente sin nombre\",\n  \"phone\": \"+5214773790184\",\n  \"channel\": \"whatsapp\",\n  \"status\": \"open\"\n}",
      "data": [
        "‚úÖ [DEBUG] Perfil formateado exitosamente:",
        {
          "name": "Cliente sin nombre",
          "phone": "+5214773790184",
          "channel": "whatsapp",
          "status": "open"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "‚úÖ [RETRY] √âxito en intento 1 para getCompleteClientProfile: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "üíæ [DEBUG] Perfil guardado en cache"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de clientProfileService: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de clientProfileService:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "‚úÖ Perfil cargado exitosamente"
    },
    {
      "timestamp": "2025-08-22T05:26:42.069Z",
      "level": "info",
      "message": "üßπ [DEBUG] Limpieza completada para: conv_+5214773790184_+5214793176502",
      "data": [
        "üßπ [DEBUG] Limpieza completada para:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:26:42.270Z",
      "level": "info",
      "message": "üîÑ Estado sincronizado con servidor"
    },
    {
      "timestamp": "2025-08-22T05:26:42.611Z",
      "level": "info",
      "message": "‚úÖ Estado sincronizado desde servidor (versi√≥n undefined)"
    },
    {
      "timestamp": "2025-08-22T05:26:42.611Z",
      "level": "info",
      "message": "üîå useConversationSync - Estado sincronizado: {\n  \"conversations\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"status\": \"open\",\n      \"customerPhone\": \"+5214773790184\",\n      \"assignedTo\": null,\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"temp_1755840250062\",\n        \"content\": \"Nuevo mensaje recibido\",\n        \"direction\": \"inbound\",\n        \"timestamp\": \"2025-08-22T05:24:10.062Z\"\n      },\n      \"lastMessageAt\": \"2025-08-22T05:24:10.062Z\",\n      \"unreadCount\": 1,\n      \"messageCount\": 1,\n      \"participants\": [\n        \"admin@company.com\"\n      ],\n      \"createdAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755840250,\n        \"_nanoseconds\": 557000000\n      }\n    }\n  ],\n  \"unreadCounts\": {\n    \"conv_+5214773790184_+5214793176502\": 4\n  },\n  \"onlineUsers\": {},\n  \"serverTime\": \"2025-08-22T05:26:42.677Z\",\n  \"syncId\": 1755840402677\n}",
      "data": [
        "üîå useConversationSync - Estado sincronizado:",
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "temp_1755840250062",
                "content": "Nuevo mensaje recibido",
                "direction": "inbound",
                "timestamp": "2025-08-22T05:24:10.062Z"
              },
              "lastMessageAt": "2025-08-22T05:24:10.062Z",
              "unreadCount": 1,
              "messageCount": 1,
              "participants": [
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              },
              "updatedAt": {
                "_seconds": 1755840250,
                "_nanoseconds": 557000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 4
          },
          "onlineUsers": {},
          "serverTime": "2025-08-22T05:26:42.677Z",
          "syncId": 1755840402677
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.470Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.472Z",
      "level": "info",
      "message": "‚úÖ useConversationActions - Conversaci√≥n seleccionada: conv_+5214773790184_+5214793176502",
      "data": [
        "‚úÖ useConversationActions - Conversaci√≥n seleccionada:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.511Z",
      "level": "info",
      "message": "üîÑ useChat - Cambio de conversaci√≥n detectado: {\n  \"anterior\": \"\",\n  \"nueva\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ useChat - Cambio de conversaci√≥n detectado:",
        {
          "anterior": "",
          "nueva": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.512Z",
      "level": "info",
      "message": "üéß useChat - Configurando listeners para conversaci√≥n: conv_+5214773790184_+5214793176502",
      "data": [
        "üéß useChat - Configurando listeners para conversaci√≥n:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.512Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a getProfile..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:27:09.513Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 1,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 1,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üîÑ [DEBUG] Ya cargando perfil, saltando..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de getProfile: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\",\n  \"profileChannel\": \"whatsapp\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de getProfile:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184",
          "profileChannel": "whatsapp"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil obtenido, actualizando estado..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.536Z",
      "level": "info",
      "message": "üèÅ [DEBUG] Finalizando carga..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 0,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 0,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üîç ConversationItem Debug: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"storeUnreadCount\": 0,\n  \"serverUnreadCount\": 0,\n  \"finalUnreadCount\": 0,\n  \"prevUnreadCount\": 0,\n  \"hasNewMessage\": false\n}",
      "data": [
        "üîç ConversationItem Debug:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "storeUnreadCount": 0,
          "serverUnreadCount": 0,
          "finalUnreadCount": 0,
          "prevUnreadCount": 0,
          "hasNewMessage": false
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥: {\n  \"selectedConversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîÑ [DEBUG] useEffect RightSidebar - selectedConversationId cambi√≥:",
        {
          "selectedConversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a loadClientProfile..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üìû [DEBUG] Llamando a getProfile..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üìä [DEBUG] Resultado de getProfile: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"hasProfile\": true,\n  \"profileName\": \"Cliente sin nombre\",\n  \"profilePhone\": \"+5214773790184\",\n  \"profileChannel\": \"whatsapp\"\n}",
      "data": [
        "üìä [DEBUG] Resultado de getProfile:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "hasProfile": true,
          "profileName": "Cliente sin nombre",
          "profilePhone": "+5214773790184",
          "profileChannel": "whatsapp"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "‚úÖ [DEBUG] Perfil obtenido, actualizando estado..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.543Z",
      "level": "info",
      "message": "üèÅ [DEBUG] Finalizando carga..."
    },
    {
      "timestamp": "2025-08-22T05:27:09.566Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.513Z",
      "level": "info",
      "message": "üîó useChat - Uni√©ndose a conversaci√≥n: conv_+5214773790184_+5214793176502",
      "data": [
        "üîó useChat - Uni√©ndose a conversaci√≥n:",
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.513Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n joinConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n joinConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.513Z",
      "level": "info",
      "message": "üîó Room ID generado (formato simplificado): {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"roomId\": \"conversation:conv_+5214773790184_+5214793176502\",\n  \"userId\": \"admin@company.com\"\n}",
      "data": [
        "üîó Room ID generado (formato simplificado):",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "roomId": "conversation:conv_+5214773790184_+5214793176502",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.514Z",
      "level": "info",
      "message": "üîó join-conversation - Room ID generado: conversation:conv_+5214773790184_+5214793176502",
      "data": [
        "üîó join-conversation - Room ID generado:",
        "conversation:conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.514Z",
      "level": "info",
      "message": "üîó Uniendo a conversaci√≥n: conv_+5214773790184_+5214793176502"
    },
    {
      "timestamp": "2025-08-22T05:27:10.514Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.514Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n loadMessages: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n loadMessages:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:10.794Z",
      "level": "info",
      "message": "üîå useConversationSync - Usuario se uni√≥ a conversaci√≥n: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"roomId\": \"ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502\",\n  \"onlineUsers\": [\n    \"admin@company.com\"\n  ],\n  \"success\": true,\n  \"timestamp\": \"2025-08-22T05:27:10.861Z\"\n}",
      "data": [
        "üîå useConversationSync - Usuario se uni√≥ a conversaci√≥n:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
          "onlineUsers": [
            "admin@company.com"
          ],
          "success": true,
          "timestamp": "2025-08-22T05:27:10.861Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.356Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n loadConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n loadConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.356Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.356Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n getConversation: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n getConversation:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.359Z",
      "level": "info",
      "message": "‚úÖ useChat - Mensajes cargados exitosamente, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-22T05:27:11.367Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.367Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:27:11.370Z",
      "level": "info",
      "message": "üëÅÔ∏è Marcando mensajes como le√≠dos: [\n  \"temp_1755840250062\"\n]",
      "data": [
        "üëÅÔ∏è Marcando mensajes como le√≠dos:",
        [
          "temp_1755840250062"
        ]
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.370Z",
      "level": "info",
      "message": "‚úÖ Mensajes marcados como le√≠dos: conv_+5214773790184_+5214793176502 - 1 mensajes"
    },
    {
      "timestamp": "2025-08-22T05:27:11.370Z",
      "level": "info",
      "message": "üîç [DEBUG] useClientProfileStore.getProfile iniciado: {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\"\n}",
      "data": [
        "üîç [DEBUG] useClientProfileStore.getProfile iniciado:",
        {
          "conversationId": "conv_+5214773790184_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.370Z",
      "level": "info",
      "message": "‚úÖ Usando perfil desde cache"
    },
    {
      "timestamp": "2025-08-22T05:27:11.710Z",
      "level": "info",
      "message": "‚úÖ useChat - Conversaci√≥n cargada: {}",
      "data": [
        "‚úÖ useChat - Conversaci√≥n cargada:",
        {}
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:11.730Z",
      "level": "info",
      "message": "‚úÖ useChat - Mensajes cargados, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-22T05:27:23.993Z",
      "level": "info",
      "message": "‚úçÔ∏è Iniciando indicador de escritura"
    },
    {
      "timestamp": "2025-08-22T05:27:25.965Z",
      "level": "info",
      "message": "üîç ID de Conversaci√≥n sendMessage: {\n  \"id\": \"conv_+5214773790184_+5214793176502\",\n  \"isValid\": true,\n  \"phones\": {\n    \"phone1\": \"+5214773790184\",\n    \"phone2\": \"+5214793176502\"\n  },\n  \"length\": 34\n}",
      "data": [
        "üîç ID de Conversaci√≥n sendMessage:",
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:25.965Z",
      "level": "info",
      "message": "üîó ID de conversaci√≥n codificado correctamente en URL | Data: {\n  \"originalId\": \"conv_+5214773790184_+5214793176502\",\n  \"sanitizedId\": \"conv_+5214773790184_+5214793176502\",\n  \"encodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"encodeConversationIdForUrl\"\n}",
      "data": [
        "üîó ID de conversaci√≥n codificado correctamente en URL | Data:",
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:25.965Z",
      "level": "info",
      "message": "‚ö†Ô∏è useChat - Mensaje ya se est√° enviando, ignorando env√≠o duplicado"
    },
    {
      "timestamp": "2025-08-22T05:27:26.716Z",
      "level": "error",
      "message": "[2025-08-22T05:27:26.716Z] [ERROR] [API] API Error: POST /api/conversations/conv_+5214773790184_+5214793176502/messages | Data: {\n  \"status\": 500,\n  \"data\": {\n    \"success\": false,\n    \"error\": {\n      \"type\": \"INTERNAL_SERVER_ERROR\",\n      \"code\": \"UNKNOWN_ERROR\",\n      \"message\": \"Contacto no encontrado para outbound\",\n      \"timestamp\": \"2025-08-22T05:27:26.714Z\"\n    }\n  },\n  \"message\": \"Request failed with status code 500\"\n} | Error: Request failed with status code 500 | Stack: AxiosError: Request failed with status code 500\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1585:7)"
    },
    {
      "timestamp": "2025-08-22T05:27:26.717Z",
      "level": "error",
      "message": "[2025-08-22T05:27:26.716Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/conversations/conv_+5214773790184_+5214793176502/messages\",\n  \"status\": 500,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"success\": false,\n    \"error\": {\n      \"type\": \"INTERNAL_SERVER_ERROR\",\n      \"code\": \"UNKNOWN_ERROR\",\n      \"message\": \"Contacto no encontrado para outbound\",\n      \"timestamp\": \"2025-08-22T05:27:26.714Z\"\n    }\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 500 | Stack: AxiosError: Request failed with status code 500\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1585:7)"
    },
    {
      "timestamp": "2025-08-22T05:27:26.717Z",
      "level": "error",
      "message": "‚ùå Error enviando mensaje: {\n  \"message\": \"Request failed with status code 500\",\n  \"name\": \"AxiosError\",\n  \"stack\": \"AxiosError: Request failed with status code 500\\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1253:12)\\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1585:7)\\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:2143:41)\\n    at async Object.sendMessage (http://localhost:5173/src/services/messages.ts?t=1755821749120:21:22)\\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755821749120:499:24\\n    at async handleSend (http://localhost:5173/src/components/chat/ChatComponent.tsx?t=1755821749120:341:7)\",\n  \"config\": {\n    \"transitional\": {\n      \"silentJSONParsing\": true,\n      \"forcedJSONParsing\": true,\n      \"clarifyTimeoutError\": false\n    },\n    \"adapter\": [\n      \"xhr\",\n      \"http\",\n      \"fetch\"\n    ],\n    \"transformRequest\": [\n      null\n    ],\n    \"transformResponse\": [\n      null\n    ],\n    \"timeout\": 30000,\n    \"xsrfCookieName\": \"XSRF-TOKEN\",\n    \"xsrfHeaderName\": \"X-XSRF-TOKEN\",\n    \"maxContentLength\": -1,\n    \"maxBodyLength\": -1,\n    \"env\": {},\n    \"headers\": {\n      \"Accept\": \"application/json, text/plain, */*\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MDQwMCwiZXhwIjoxNzU1ODQxMzAwLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.30ElSvV9MOGqaBAomRfa6yK5BDamMfq3MDm0yBU1Sh4\"\n    },\n    \"baseURL\": \"https://utalk-backend-production.up.railway.app\",\n    \"method\": \"post\",\n    \"url\": \"/api/conversations/conv_+5214773790184_+5214793176502/messages\",\n    \"data\": \"{\\\"content\\\":\\\"HOLA\\\",\\\"type\\\":\\\"text\\\",\\\"metadata\\\":{},\\\"senderIdentifier\\\":\\\"agent:admin@company.com\\\",\\\"recipientIdentifier\\\":\\\"whatsapp:+5214773790184\\\"}\",\n    \"allowAbsoluteUrls\": true\n  },\n  \"code\": \"ERR_BAD_RESPONSE\",\n  \"status\": 500\n}",
      "data": [
        "‚ùå Error enviando mensaje:",
        {
          "message": "Request failed with status code 500",
          "name": "AxiosError",
          "stack": "AxiosError: Request failed with status code 500\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:1585:7)\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=08b416d7:2143:41)\n    at async Object.sendMessage (http://localhost:5173/src/services/messages.ts?t=1755821749120:21:22)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755821749120:499:24\n    at async handleSend (http://localhost:5173/src/components/chat/ChatComponent.tsx?t=1755821749120:341:7)",
          "config": {
            "transitional": {
              "silentJSONParsing": true,
              "forcedJSONParsing": true,
              "clarifyTimeoutError": false
            },
            "adapter": [
              "xhr",
              "http",
              "fetch"
            ],
            "transformRequest": [
              null
            ],
            "transformResponse": [
              null
            ],
            "timeout": 30000,
            "xsrfCookieName": "XSRF-TOKEN",
            "xsrfHeaderName": "X-XSRF-TOKEN",
            "maxContentLength": -1,
            "maxBodyLength": -1,
            "env": {},
            "headers": {
              "Accept": "application/json, text/plain, */*",
              "Content-Type": "application/json",
              "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHRfd29ya3NwYWNlIiwidGVuYW50SWQiOiJkZWZhdWx0X3RlbmFudCIsImlhdCI6MTc1NTg0MDQwMCwiZXhwIjoxNzU1ODQxMzAwLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.30ElSvV9MOGqaBAomRfa6yK5BDamMfq3MDm0yBU1Sh4"
            },
            "baseURL": "https://utalk-backend-production.up.railway.app",
            "method": "post",
            "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
            "data": "{\"content\":\"HOLA\",\"type\":\"text\",\"metadata\":{},\"senderIdentifier\":\"agent:admin@company.com\",\"recipientIdentifier\":\"whatsapp:+5214773790184\"}",
            "allowAbsoluteUrls": true
          },
          "code": "ERR_BAD_RESPONSE",
          "status": 500
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:26.722Z",
      "level": "info",
      "message": "üìä ChatComponent - Estado actualizado (CR√çTICO): {\n  \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n  \"isConnected\": true,\n  \"isJoined\": true,\n  \"loading\": false,\n  \"error\": \"Request failed with status code 500\",\n  \"messagesCount\": 1\n}",
      "data": [
        "üìä ChatComponent - Estado actualizado (CR√çTICO):",
        {
          "conversationId": "conv_+5214773790184_+5214793176502",
          "isConnected": true,
          "isJoined": true,
          "loading": false,
          "error": "Request failed with status code 500",
          "messagesCount": 1
        }
      ]
    },
    {
      "timestamp": "2025-08-22T05:27:26.995Z",
      "level": "info",
      "message": "‚èπÔ∏è Deteniendo indicador de escritura (timeout)"
    }
  ]
}