[
  {
    "timestamp": "2025-08-21T19:02:37.348Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:02:42.008Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:42.008Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:42.840Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:02:42.844Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:42.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:42.844Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c4ea103e-57d4-458e-bb7d-23e605a15098",
      "timestamp": "2025-08-21T19:02:42.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:42.844Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c4ea103e-57d4-458e-bb7d-23e605a15098",
      "timestamp": "2025-08-21T19:02:42.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:42.845Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:42.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.385Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.385Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.385Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.385Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.492Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contrase√±a v√°lida (campo password)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contrase√±a v√°lida (campo password)"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.492Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c4ea103e-57d4-458e-bb7d-23e605a15098",
      "timestamp": "2025-08-21T19:02:43.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.608Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.608Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c4ea103e-57d4-458e-bb7d-23e605a15098",
      "timestamp": "2025-08-21T19:02:43.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.739Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.739Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.844Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "√çndices creados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "√çndices creados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.844Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "7c47b656-1037-486d-83f1-16d49dd5a5b2",
      "userEmail": "admin@company.com",
      "familyId": "a103bee2-a18a-4fe4-b9a6-fe3f71a4134a",
      "deviceId": "40b82a32-95f0-4918-910d-70bc74d0a96d",
      "level": "info",
      "message": "Refresh token creado"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.845Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "7c47b656-1037-486d-83f1-16d49dd5a5b2",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.845Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.845Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c4ea103e-57d4-458e-bb7d-23e605a15098",
      "timestamp": "2025-08-21T19:02:43.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "40b82a32-95f0-4918-910d-70bc74d0a96d",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.845Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:02:43.845Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:43.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "40b82a32-95f0-4918-910d-70bc74d0a96d",
      "level": "info",
      "message": "Login completado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:43.848Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:02:44.262Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c19306fd-da7a-478b-9235-6ddcea676aef",
      "timestamp": "2025-08-21T19:02:44.262Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.265Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c19306fd-da7a-478b-9235-6ddcea676aef",
      "timestamp": "2025-08-21T19:02:44.265Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755803863,
      "iat": 1755802963,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.265Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c19306fd-da7a-478b-9235-6ddcea676aef",
      "timestamp": "2025-08-21T19:02:44.265Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.343Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c19306fd-da7a-478b-9235-6ddcea676aef",
      "timestamp": "2025-08-21T19:02:44.343Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.344Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "c19306fd-da7a-478b-9235-6ddcea676aef",
      "timestamp": "2025-08-21T19:02:44.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "83ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.344Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "81cc049f-2f69-4049-8d87-a1fc6e183b84",
      "timestamp": "2025-08-21T19:02:44.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "81cc049f-2f69-4049-8d87-a1fc6e183b84",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.349Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.349Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.349Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"c19306fd-da7a-478b-9235-6ddcea676aef\",\"traceId\":\"81cc049f-2f69-4049-8d87-a1fc6e183b84\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:02:44.406Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.406Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.408Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.408Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.409Z",
    "level": "info",
    "category": "SOCKET_FIREBASE_INIT_SUCCESS",
    "message": "Socket.IO: Firebase inicializado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FIREBASE_INIT_SUCCESS",
      "level": "info",
      "message": "Socket.IO: Firebase inicializado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.409Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.409Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.409Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.409Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.411Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.411Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "Of7_uKYe...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.411Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.411Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T19:02:44.411Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.412Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.412Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.497Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:02:44.497Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.497Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.513Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.513Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.515Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.515Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.515Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.515Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.516Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.516Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "Of7_uKYe...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.516Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.516Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.516Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.516Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.516Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.516Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
      "level": "info"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.648Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.648Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.649Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.649Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.649Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.649Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.857Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T19:02:44.857Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.857Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T19:02:44.857Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.858Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:02:44.858Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.858Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.936Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 0,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.936Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.936Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.936Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.938Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "socketId": "Of7_uKYe...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:44.939Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:44.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:45.049Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:02:45.492Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:45.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "Of7_uKYe2NG4CZZ5AAAB",
      "level": "info",
      "message": "User requesting state sync"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:52.000Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:52.000Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:52.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:52.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:52.001Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:52.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "Of7_uKYe...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-21T19:02:52.001Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:02:52.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.861Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:03:03.862Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d27df5cc-c5a9-4849-a7fc-10c0a3c43940",
      "timestamp": "2025-08-21T19:03:03.862Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations",
      "method": "POST",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.864Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d27df5cc-c5a9-4849-a7fc-10c0a3c43940",
      "timestamp": "2025-08-21T19:03:03.864Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755803863,
      "iat": 1755802963,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.864Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d27df5cc-c5a9-4849-a7fc-10c0a3c43940",
      "timestamp": "2025-08-21T19:03:03.864Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.864Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:03.864Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.949Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:03.949Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.950Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d27df5cc-c5a9-4849-a7fc-10c0a3c43940",
      "timestamp": "2025-08-21T19:03:03.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.950Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "d27df5cc-c5a9-4849-a7fc-10c0a3c43940",
      "timestamp": "2025-08-21T19:03:03.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations",
      "duration": "88ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.953Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "Validaci√≥n de request fall√≥",
    "userId": "admin@company.com",
    "endpoint": "/api/conversations",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "/api/conversations",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:03.953Z",
      "service": "utalk-backend",
      "environment": "production",
      "method": "POST",
      "errors": [
        {
          "field": "body",
          "message": "Datos inv√°lidos"
        }
      ],
      "level": "warn",
      "message": "Validaci√≥n de request fall√≥"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:03.954Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "‚ö†Ô∏è Petici√≥n HTTP con advertencia",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:03:12.000Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:03:12.006Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:12.006Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.193Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:28.193Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.193Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "bf400f24-4a6e-4825-a924-bcd90f736e32",
      "timestamp": "2025-08-21T19:03:28.193Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "bf400f24-4a6e-4825-a924-bcd90f736e32",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.193Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:03:28.294Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:03:28.298Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T19:03:28.381Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:28.381Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.382Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:03:28.382Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:28.382Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.382Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:03:28.383Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T19:03:28.471Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:28.471Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 90,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T19:03:28.471Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T19:03:28.471Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 90,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  }
]