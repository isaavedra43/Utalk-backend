[
  {
    "id": 1755736267836.9702,
    "timestamp": "2025-08-21T00:31:07.836Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:31:07.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 50,
      "activeListeners": 50,
      "memoryPressure": "94.96%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736257840.6255,
    "timestamp": "2025-08-21T00:30:57.840Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:57.840Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736257835.5164,
    "timestamp": "2025-08-21T00:30:57.835Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:57.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 2
      },
      "period": "60004ms",
      "memoryUsage": {
        "rss": 131518464,
        "heapTotal": 54915072,
        "heapUsed": 51972264,
        "external": 3761703,
        "arrayBuffers": 295568
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736257834.263,
    "timestamp": "2025-08-21T00:30:57.834Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:57.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
      "cleanedSockets": 0,
      "cleanedConversations": 0,
      "cleanedEventListeners": 1,
      "cleanedRateLimit": 0,
      "memoryPressure": "94.60%",
      "currentStats": {
        "connectedUsers": 1,
        "activeConversations": 1,
        "eventListeners": 2,
        "rateLimitEntries": 2,
        "typingUsers": 0
      },
      "memoryUsage": {
        "heapUsed": "50MB",
        "heapTotal": "52MB",
        "external": "4MB"
      },
      "level": "info",
      "message": "Socket.IO memory cleanup completed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736257832.2427,
    "timestamp": "2025-08-21T00:30:57.832Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736227839.8462,
    "timestamp": "2025-08-21T00:30:27.839Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:27.839Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205293.9307,
    "timestamp": "2025-08-21T00:30:05.293Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "05ebc6e7-e4bb-4906-ba2d-077a709b7173",
      "timestamp": "2025-08-21T00:30:05.292Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "18ms",
      "responseSize": "85733 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "05ebc6e7-e4bb-4906-ba2d-077a709b7173"
      },
      "performance": {
        "duration": 18,
        "responseSize": 85733,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205277.7334,
    "timestamp": "2025-08-21T00:30:05.277Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.277Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205277.3987,
    "timestamp": "2025-08-21T00:30:05.277Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.277Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 352,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205275.847,
    "timestamp": "2025-08-21T00:30:05.275Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "05ebc6e7-e4bb-4906-ba2d-077a709b7173",
      "timestamp": "2025-08-21T00:30:05.274Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205190.231,
    "timestamp": "2025-08-21T00:30:05.190Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "bcab1af6-8bb9-4cab-8362-c225fadd3527",
      "timestamp": "2025-08-21T00:30:05.190Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "18ms",
      "responseSize": "4403 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "bcab1af6-8bb9-4cab-8362-c225fadd3527"
      },
      "performance": {
        "duration": 18,
        "responseSize": 4403,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205187.7388,
    "timestamp": "2025-08-21T00:30:05.187Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a78a04ec-627f-48ee-8cdd-3a2d91563070",
      "timestamp": "2025-08-21T00:30:05.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "26ms",
      "responseSize": "77041 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "a78a04ec-627f-48ee-8cdd-3a2d91563070"
      },
      "performance": {
        "duration": 26,
        "responseSize": 77041,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205176.053,
    "timestamp": "2025-08-21T00:30:05.176Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.176Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENVIANDO_RESPUESTA_",
      "data": {
        "success": true,
        "data": {
          "stats": {
            "total": 345,
            "lastHour": 345,
            "last24Hours": 345,
            "byLevel": {
              "info": 328,
              "warn": 13,
              "error": 4,
              "debug": 0
            },
            "byCategory": {
              "_OBTENIENDO_STATS_": 2,
              "HTTP_REQUEST_START": 14,
              "RESPUESTA_GETLOGS": 1,
              "LOGS_OBTENIDOS": 1,
              "HTTP_SUCCESS": 10,
              "ENVIANDO_RESPUESTA_": 1,
              "_RATE_LIMIT_METRICS_OBTENIDOS_": 1,
              "_OBTENIENDO_RATE_LIMIT_METRICS": 1,
              "_STATS_OBTENIDOS_": 1,
              "DASHBOARD": 1,
              "DASHBOARD_SECURITY": 1,
              "_DASHBOARD_HTML_SOLICITADO_DES": 1,
              "SYSTEM": 78,
              "SOCKET_METRICS": 1,
              "HTTP_CLIENT_ERROR": 2,
              "RESPONSE_ERROR": 1,
              "SOCKET_EMIT_FILE_UPLOADED": 1,
              "SOCKET_CONVERSATION_FILES_UPDATED": 1,
              "SOCKET_FILE_COUNT_ERROR": 1,
              "SOCKET_EMIT_FILE_READY": 1,
              "image": 3,
              "AUTH_SUCCESS": 7,
              "AUTH_USER_FOUND": 7,
              "AUTH_USER_LOOKUP": 7,
              "AUTH_JWT_SUCCESS": 7,
              "AUTH_START": 8,
              "CORS_ORIGIN_ALLOWED_": 10,
              "CORS_ALLOWED": 14,
              "_CORS_ORIGIN_CHECK_": 10,
              "SOCKET_LISTENERS_VERIFICATION": 1,
              "SOCKET_LISTENERS_RE_REGISTERED": 2,
              "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_COMPLETE": 2,
              "SOCKET_INITIAL_SYNC_SEND": 2,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS": 2,
              "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_UNREAD": 2,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 2,
              "SOCKET_CONVERSATIONS_CALL_SUCCESS": 3,
              "SOCKET_CONVERSATIONS_CALL": 3,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS": 2,
              "SOCKET_INITIAL_SYNC_START": 2,
              "SOCKET_INITIAL_SYNC_IMMEDIATE": 2,
              "SOCKET_HEARTBEAT_SETUP": 2,
              "MESSAGES_API": 1,
              "SOCKET_WORKSPACE_JOIN": 2,
              "SOCKET_USER_CONNECTED": 2,
              "SOCKET_AUTH_WORKSPACE_TEST": 2,
              "SOCKET_AUTH_SUCCESS": 3,
              "SOCKET_AUTH_DB_ERROR": 2,
              "SOCKET_AUTH_FIREBASE_AVAILABLE": 2,
              "SOCKET_AUTH_CLAIMS_EXTRACTED": 2,
              "SOCKET_AUTH_JWT_CONFIG": 2,
              "SOCKET_CORS_ALLOWED": 2,
              "SOCKET_CORS_ORIGIN_ALLOWED_": 2,
              "_SOCKET_CORS_ORIGIN_CHECK_": 2,
              "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
              "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
              "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
              "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
              "SOCKET_SYNC_STATE": 1,
              "SOCKET_LISTENERS_CREATION": 1,
              "SOCKET_FIREBASE_INIT_SUCCESS": 1,
              "CACHE": 1,
              "CACHE_MISS": 1,
              "DB": 1,
              "CONVERSATIONS_API": 1,
              "AUTH_LOGIN_SUCCESS": 1,
              "AUTH_OPERATION": 4,
              "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATED": 1,
              "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
              "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
              "DATABASE_OPERATION": 3,
              "AUTH_LOGIN_START": 1,
              "AUTH_JWT_FAILURE": 1,
              "AUTH_TOKEN_EXPIRED": 1,
              "AUTH_VERIFY_ACCESS_FAIL": 2,
              "AUTH_LOGOUT": 1,
              "EVENT_CLEANUP_AUTO_START": 1,
              "HEALTH_CHECK": 1,
              "RATE_LIMIT_INIT": 1,
              "SERVICE_INIT_BACKGROUND_SUCCESS": 1,
              "HEALTH_SUCCESS": 1,
              "HEALTH_INIT": 2,
              "SOCKET_SUCCESS": 2,
              "SOCKET_MANAGER_REGISTRADO_GLOB": 1,
              "SOCKET_SHUTDOWN_SETUP": 1,
              "SOCKET_MONITORING_SUCCESS": 1,
              "SOCKET_EVENTS_SUCCESS": 1,
              "SOCKET_EVENTS_SETUP": 1,
              "SOCKET_AUTH_SETUP": 1,
              "SOCKET_CONFIG_SUCCESS": 1,
              "SOCKET_CONFIG": 1,
              "SOCKET_MEMORY_SUCCESS": 1,
              "CACHE_MAP_CREATED": 7,
              "SOCKET_MEMORY_INIT": 1,
              "SOCKET_INIT": 2,
              "SOCKET_DEPS_INJECTION": 1,
              "QUEUE_SERVICE_INIT": 1,
              "REDIS_DEBUG": 1,
              "RAILWAY_REDIS_CONFIG": 1,
              "REDIS_URL_DEBUG": 1,
              "SERVICE_INIT_BACKGROUND": 1,
              "STARTUP_OPTIMIZATION_SUCCESS": 1,
              "STARTUP_OPTIMIZATION": 2,
              "SERVER_STARTED": 2,
              "HEALTH_MONITORING_SUCCESS": 1,
              "HEALTH_MONITORING_START": 1,
              "ERROR_HANDLING_SETUP_SUCCESS": 1,
              "ROUTES_SUCCESS": 1,
              "ROUTES_SETUP": 1,
              "MIDDLEWARE_SUCCESS": 1,
              "MIDDLEWARE_SETUP": 1,
              "ENV_VALIDATION": 4,
              "SERVER_INIT": 1,
              "RAILWAY_CONFIG": 2,
              "ENV_VALIDATION_SUCCESS": 1,
              "LOG_DASHBOARD_INIT": 1,
              "SHARDING_INIT_SUCCESS": 1,
              "SHARDING_INIT": 1,
              "BATCH_INIT_SUCCESS": 1,
              "BATCH_INIT": 1,
              "PERFORMANCE_METRICS_INIT": 1,
              "FIREBASE_SYNC_INIT": 1,
              "RATE_LIMIT_REDIS_DEBUG": 1,
              "CACHE_INIT": 1,
              "LOGGER_CONFIG": 1
            },
            "topUsers": {
              "system": 339,
              "admin@company.com": 5,
              "anonymous": 1
            },
            "topEndpoints": {
              "unknown": 342,
              "/logs": 1,
              "/": 1,
              "/api/conversations": 1
            }
          },
          "rateLimitMetrics": {
            "total": 0,
            "lastHour": 0,
            "byUser": {},
            "byEndpoint": {},
            "timeline": [
              {
                "timestamp": "2025-08-20T23:30:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:35:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:40:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:45:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:50:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:55:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:00:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:05:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:10:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:15:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:20:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:25:05.175Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:30:05.175Z",
                "count": 0
              }
            ]
          },
          "timestamp": "2025-08-21T00:30:05.176Z"
        }
      },
      "level": "info",
      "message": "Enviando respuesta:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205175.9036,
    "timestamp": "2025-08-21T00:30:05.175Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "📈 Rate limit metrics obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
      "data": {
        "total": 0,
        "lastHour": 0,
        "byUser": {},
        "byEndpoint": {},
        "timeline": [
          {
            "timestamp": "2025-08-20T23:30:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:35:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:40:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:45:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:50:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:55:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:00:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:05:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:10:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:15:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:20:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:25:05.175Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:30:05.175Z",
            "count": 0
          }
        ]
      },
      "level": "info",
      "message": "📈 Rate limit metrics obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205175.4104,
    "timestamp": "2025-08-21T00:30:05.175Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "📈 Obteniendo rate limit metrics...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "📈 Obteniendo rate limit metrics..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205175.4685,
    "timestamp": "2025-08-21T00:30:05.175Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "📊 Stats obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_STATS_OBTENIDOS_",
      "data": {
        "total": 345,
        "lastHour": 345,
        "last24Hours": 345,
        "byLevel": {
          "info": 328,
          "warn": 13,
          "error": 4,
          "debug": 0
        },
        "byCategory": {
          "_OBTENIENDO_STATS_": 2,
          "HTTP_REQUEST_START": 14,
          "RESPUESTA_GETLOGS": 1,
          "LOGS_OBTENIDOS": 1,
          "HTTP_SUCCESS": 10,
          "ENVIANDO_RESPUESTA_": 1,
          "_RATE_LIMIT_METRICS_OBTENIDOS_": 1,
          "_OBTENIENDO_RATE_LIMIT_METRICS": 1,
          "_STATS_OBTENIDOS_": 1,
          "DASHBOARD": 1,
          "DASHBOARD_SECURITY": 1,
          "_DASHBOARD_HTML_SOLICITADO_DES": 1,
          "SYSTEM": 78,
          "SOCKET_METRICS": 1,
          "HTTP_CLIENT_ERROR": 2,
          "RESPONSE_ERROR": 1,
          "SOCKET_EMIT_FILE_UPLOADED": 1,
          "SOCKET_CONVERSATION_FILES_UPDATED": 1,
          "SOCKET_FILE_COUNT_ERROR": 1,
          "SOCKET_EMIT_FILE_READY": 1,
          "image": 3,
          "AUTH_SUCCESS": 7,
          "AUTH_USER_FOUND": 7,
          "AUTH_USER_LOOKUP": 7,
          "AUTH_JWT_SUCCESS": 7,
          "AUTH_START": 8,
          "CORS_ORIGIN_ALLOWED_": 10,
          "CORS_ALLOWED": 14,
          "_CORS_ORIGIN_CHECK_": 10,
          "SOCKET_LISTENERS_VERIFICATION": 1,
          "SOCKET_LISTENERS_RE_REGISTERED": 2,
          "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_COMPLETE": 2,
          "SOCKET_INITIAL_SYNC_SEND": 2,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS": 2,
          "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_UNREAD": 2,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 2,
          "SOCKET_CONVERSATIONS_CALL_SUCCESS": 3,
          "SOCKET_CONVERSATIONS_CALL": 3,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS": 2,
          "SOCKET_INITIAL_SYNC_START": 2,
          "SOCKET_INITIAL_SYNC_IMMEDIATE": 2,
          "SOCKET_HEARTBEAT_SETUP": 2,
          "MESSAGES_API": 1,
          "SOCKET_WORKSPACE_JOIN": 2,
          "SOCKET_USER_CONNECTED": 2,
          "SOCKET_AUTH_WORKSPACE_TEST": 2,
          "SOCKET_AUTH_SUCCESS": 3,
          "SOCKET_AUTH_DB_ERROR": 2,
          "SOCKET_AUTH_FIREBASE_AVAILABLE": 2,
          "SOCKET_AUTH_CLAIMS_EXTRACTED": 2,
          "SOCKET_AUTH_JWT_CONFIG": 2,
          "SOCKET_CORS_ALLOWED": 2,
          "SOCKET_CORS_ORIGIN_ALLOWED_": 2,
          "_SOCKET_CORS_ORIGIN_CHECK_": 2,
          "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
          "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
          "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
          "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
          "SOCKET_SYNC_STATE": 1,
          "SOCKET_LISTENERS_CREATION": 1,
          "SOCKET_FIREBASE_INIT_SUCCESS": 1,
          "CACHE": 1,
          "CACHE_MISS": 1,
          "DB": 1,
          "CONVERSATIONS_API": 1,
          "AUTH_LOGIN_SUCCESS": 1,
          "AUTH_OPERATION": 4,
          "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATED": 1,
          "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
          "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
          "DATABASE_OPERATION": 3,
          "AUTH_LOGIN_START": 1,
          "AUTH_JWT_FAILURE": 1,
          "AUTH_TOKEN_EXPIRED": 1,
          "AUTH_VERIFY_ACCESS_FAIL": 2,
          "AUTH_LOGOUT": 1,
          "EVENT_CLEANUP_AUTO_START": 1,
          "HEALTH_CHECK": 1,
          "RATE_LIMIT_INIT": 1,
          "SERVICE_INIT_BACKGROUND_SUCCESS": 1,
          "HEALTH_SUCCESS": 1,
          "HEALTH_INIT": 2,
          "SOCKET_SUCCESS": 2,
          "SOCKET_MANAGER_REGISTRADO_GLOB": 1,
          "SOCKET_SHUTDOWN_SETUP": 1,
          "SOCKET_MONITORING_SUCCESS": 1,
          "SOCKET_EVENTS_SUCCESS": 1,
          "SOCKET_EVENTS_SETUP": 1,
          "SOCKET_AUTH_SETUP": 1,
          "SOCKET_CONFIG_SUCCESS": 1,
          "SOCKET_CONFIG": 1,
          "SOCKET_MEMORY_SUCCESS": 1,
          "CACHE_MAP_CREATED": 7,
          "SOCKET_MEMORY_INIT": 1,
          "SOCKET_INIT": 2,
          "SOCKET_DEPS_INJECTION": 1,
          "QUEUE_SERVICE_INIT": 1,
          "REDIS_DEBUG": 1,
          "RAILWAY_REDIS_CONFIG": 1,
          "REDIS_URL_DEBUG": 1,
          "SERVICE_INIT_BACKGROUND": 1,
          "STARTUP_OPTIMIZATION_SUCCESS": 1,
          "STARTUP_OPTIMIZATION": 2,
          "SERVER_STARTED": 2,
          "HEALTH_MONITORING_SUCCESS": 1,
          "HEALTH_MONITORING_START": 1,
          "ERROR_HANDLING_SETUP_SUCCESS": 1,
          "ROUTES_SUCCESS": 1,
          "ROUTES_SETUP": 1,
          "MIDDLEWARE_SUCCESS": 1,
          "MIDDLEWARE_SETUP": 1,
          "ENV_VALIDATION": 4,
          "SERVER_INIT": 1,
          "RAILWAY_CONFIG": 2,
          "ENV_VALIDATION_SUCCESS": 1,
          "LOG_DASHBOARD_INIT": 1,
          "SHARDING_INIT_SUCCESS": 1,
          "SHARDING_INIT": 1,
          "BATCH_INIT_SUCCESS": 1,
          "BATCH_INIT": 1,
          "PERFORMANCE_METRICS_INIT": 1,
          "FIREBASE_SYNC_INIT": 1,
          "RATE_LIMIT_REDIS_DEBUG": 1,
          "CACHE_INIT": 1,
          "LOGGER_CONFIG": 1
        },
        "topUsers": {
          "system": 339,
          "admin@company.com": 5,
          "anonymous": 1
        },
        "topEndpoints": {
          "unknown": 342,
          "/logs": 1,
          "/": 1,
          "/api/conversations": 1
        }
      },
      "level": "info",
      "message": "📊 Stats obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205173.3965,
    "timestamp": "2025-08-21T00:30:05.173Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "📊 Obteniendo stats...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.173Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "📊 Obteniendo stats..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205172.5542,
    "timestamp": "2025-08-21T00:30:05.172Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "bcab1af6-8bb9-4cab-8362-c225fadd3527",
      "timestamp": "2025-08-21T00:30:05.172Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205164.9885,
    "timestamp": "2025-08-21T00:30:05.164Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.164Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205163.6968,
    "timestamp": "2025-08-21T00:30:05.163Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.163Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 341,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205162.7512,
    "timestamp": "2025-08-21T00:30:05.162Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a78a04ec-627f-48ee-8cdd-3a2d91563070",
      "timestamp": "2025-08-21T00:30:05.161Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205078.726,
    "timestamp": "2025-08-21T00:30:05.078Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2cce7458-e622-4a74-96d1-cf1044e13074",
      "timestamp": "2025-08-21T00:30:05.078Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "8ms",
      "responseSize": "4245 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "2cce7458-e622-4a74-96d1-cf1044e13074"
      },
      "performance": {
        "duration": 8,
        "responseSize": 4245,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205075.5117,
    "timestamp": "2025-08-21T00:30:05.075Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENVIANDO_RESPUESTA_",
      "data": {
        "success": true,
        "data": {
          "stats": {
            "total": 335,
            "lastHour": 335,
            "last24Hours": 335,
            "byLevel": {
              "info": 318,
              "warn": 13,
              "error": 4,
              "debug": 0
            },
            "byCategory": {
              "_OBTENIENDO_STATS_": 1,
              "HTTP_REQUEST_START": 12,
              "HTTP_SUCCESS": 9,
              "DASHBOARD": 1,
              "DASHBOARD_SECURITY": 1,
              "_DASHBOARD_HTML_SOLICITADO_DES": 1,
              "SYSTEM": 78,
              "SOCKET_METRICS": 1,
              "HTTP_CLIENT_ERROR": 2,
              "RESPONSE_ERROR": 1,
              "SOCKET_EMIT_FILE_UPLOADED": 1,
              "SOCKET_CONVERSATION_FILES_UPDATED": 1,
              "SOCKET_FILE_COUNT_ERROR": 1,
              "SOCKET_EMIT_FILE_READY": 1,
              "image": 3,
              "AUTH_SUCCESS": 7,
              "AUTH_USER_FOUND": 7,
              "AUTH_USER_LOOKUP": 7,
              "AUTH_JWT_SUCCESS": 7,
              "AUTH_START": 8,
              "CORS_ORIGIN_ALLOWED_": 10,
              "CORS_ALLOWED": 14,
              "_CORS_ORIGIN_CHECK_": 10,
              "SOCKET_LISTENERS_VERIFICATION": 1,
              "SOCKET_LISTENERS_RE_REGISTERED": 2,
              "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_COMPLETE": 2,
              "SOCKET_INITIAL_SYNC_SEND": 2,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS": 2,
              "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 2,
              "SOCKET_INITIAL_SYNC_UNREAD": 2,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 2,
              "SOCKET_CONVERSATIONS_CALL_SUCCESS": 3,
              "SOCKET_CONVERSATIONS_CALL": 3,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS": 2,
              "SOCKET_INITIAL_SYNC_START": 2,
              "SOCKET_INITIAL_SYNC_IMMEDIATE": 2,
              "SOCKET_HEARTBEAT_SETUP": 2,
              "MESSAGES_API": 1,
              "SOCKET_WORKSPACE_JOIN": 2,
              "SOCKET_USER_CONNECTED": 2,
              "SOCKET_AUTH_WORKSPACE_TEST": 2,
              "SOCKET_AUTH_SUCCESS": 3,
              "SOCKET_AUTH_DB_ERROR": 2,
              "SOCKET_AUTH_FIREBASE_AVAILABLE": 2,
              "SOCKET_AUTH_CLAIMS_EXTRACTED": 2,
              "SOCKET_AUTH_JWT_CONFIG": 2,
              "SOCKET_CORS_ALLOWED": 2,
              "SOCKET_CORS_ORIGIN_ALLOWED_": 2,
              "_SOCKET_CORS_ORIGIN_CHECK_": 2,
              "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
              "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
              "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
              "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
              "SOCKET_SYNC_STATE": 1,
              "SOCKET_LISTENERS_CREATION": 1,
              "SOCKET_FIREBASE_INIT_SUCCESS": 1,
              "CACHE": 1,
              "CACHE_MISS": 1,
              "DB": 1,
              "CONVERSATIONS_API": 1,
              "AUTH_LOGIN_SUCCESS": 1,
              "AUTH_OPERATION": 4,
              "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATED": 1,
              "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
              "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
              "DATABASE_OPERATION": 3,
              "AUTH_LOGIN_START": 1,
              "AUTH_JWT_FAILURE": 1,
              "AUTH_TOKEN_EXPIRED": 1,
              "AUTH_VERIFY_ACCESS_FAIL": 2,
              "AUTH_LOGOUT": 1,
              "EVENT_CLEANUP_AUTO_START": 1,
              "HEALTH_CHECK": 1,
              "RATE_LIMIT_INIT": 1,
              "SERVICE_INIT_BACKGROUND_SUCCESS": 1,
              "HEALTH_SUCCESS": 1,
              "HEALTH_INIT": 2,
              "SOCKET_SUCCESS": 2,
              "SOCKET_MANAGER_REGISTRADO_GLOB": 1,
              "SOCKET_SHUTDOWN_SETUP": 1,
              "SOCKET_MONITORING_SUCCESS": 1,
              "SOCKET_EVENTS_SUCCESS": 1,
              "SOCKET_EVENTS_SETUP": 1,
              "SOCKET_AUTH_SETUP": 1,
              "SOCKET_CONFIG_SUCCESS": 1,
              "SOCKET_CONFIG": 1,
              "SOCKET_MEMORY_SUCCESS": 1,
              "CACHE_MAP_CREATED": 7,
              "SOCKET_MEMORY_INIT": 1,
              "SOCKET_INIT": 2,
              "SOCKET_DEPS_INJECTION": 1,
              "QUEUE_SERVICE_INIT": 1,
              "REDIS_DEBUG": 1,
              "RAILWAY_REDIS_CONFIG": 1,
              "REDIS_URL_DEBUG": 1,
              "SERVICE_INIT_BACKGROUND": 1,
              "STARTUP_OPTIMIZATION_SUCCESS": 1,
              "STARTUP_OPTIMIZATION": 2,
              "SERVER_STARTED": 2,
              "HEALTH_MONITORING_SUCCESS": 1,
              "HEALTH_MONITORING_START": 1,
              "ERROR_HANDLING_SETUP_SUCCESS": 1,
              "ROUTES_SUCCESS": 1,
              "ROUTES_SETUP": 1,
              "MIDDLEWARE_SUCCESS": 1,
              "MIDDLEWARE_SETUP": 1,
              "ENV_VALIDATION": 4,
              "SERVER_INIT": 1,
              "RAILWAY_CONFIG": 2,
              "ENV_VALIDATION_SUCCESS": 1,
              "LOG_DASHBOARD_INIT": 1,
              "SHARDING_INIT_SUCCESS": 1,
              "SHARDING_INIT": 1,
              "BATCH_INIT_SUCCESS": 1,
              "BATCH_INIT": 1,
              "PERFORMANCE_METRICS_INIT": 1,
              "FIREBASE_SYNC_INIT": 1,
              "RATE_LIMIT_REDIS_DEBUG": 1,
              "CACHE_INIT": 1,
              "LOGGER_CONFIG": 1
            },
            "topUsers": {
              "system": 329,
              "admin@company.com": 5,
              "anonymous": 1
            },
            "topEndpoints": {
              "unknown": 332,
              "/logs": 1,
              "/": 1,
              "/api/conversations": 1
            }
          },
          "rateLimitMetrics": {
            "total": 0,
            "lastHour": 0,
            "byUser": {},
            "byEndpoint": {},
            "timeline": [
              {
                "timestamp": "2025-08-20T23:30:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:35:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:40:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:45:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:50:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:55:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:00:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:05:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:10:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:15:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:20:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:25:05.075Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:30:05.075Z",
                "count": 0
              }
            ]
          },
          "timestamp": "2025-08-21T00:30:05.075Z"
        }
      },
      "level": "info",
      "message": "Enviando respuesta:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205075.654,
    "timestamp": "2025-08-21T00:30:05.075Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "📈 Rate limit metrics obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
      "data": {
        "total": 0,
        "lastHour": 0,
        "byUser": {},
        "byEndpoint": {},
        "timeline": [
          {
            "timestamp": "2025-08-20T23:30:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:35:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:40:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:45:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:50:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:55:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:00:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:05:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:10:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:15:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:20:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:25:05.075Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:30:05.075Z",
            "count": 0
          }
        ]
      },
      "level": "info",
      "message": "📈 Rate limit metrics obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205074.8623,
    "timestamp": "2025-08-21T00:30:05.074Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "📈 Obteniendo rate limit metrics...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.074Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "📈 Obteniendo rate limit metrics..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205074.2727,
    "timestamp": "2025-08-21T00:30:05.074Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "📊 Stats obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.074Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_STATS_OBTENIDOS_",
      "data": {
        "total": 335,
        "lastHour": 335,
        "last24Hours": 335,
        "byLevel": {
          "info": 318,
          "warn": 13,
          "error": 4,
          "debug": 0
        },
        "byCategory": {
          "_OBTENIENDO_STATS_": 1,
          "HTTP_REQUEST_START": 12,
          "HTTP_SUCCESS": 9,
          "DASHBOARD": 1,
          "DASHBOARD_SECURITY": 1,
          "_DASHBOARD_HTML_SOLICITADO_DES": 1,
          "SYSTEM": 78,
          "SOCKET_METRICS": 1,
          "HTTP_CLIENT_ERROR": 2,
          "RESPONSE_ERROR": 1,
          "SOCKET_EMIT_FILE_UPLOADED": 1,
          "SOCKET_CONVERSATION_FILES_UPDATED": 1,
          "SOCKET_FILE_COUNT_ERROR": 1,
          "SOCKET_EMIT_FILE_READY": 1,
          "image": 3,
          "AUTH_SUCCESS": 7,
          "AUTH_USER_FOUND": 7,
          "AUTH_USER_LOOKUP": 7,
          "AUTH_JWT_SUCCESS": 7,
          "AUTH_START": 8,
          "CORS_ORIGIN_ALLOWED_": 10,
          "CORS_ALLOWED": 14,
          "_CORS_ORIGIN_CHECK_": 10,
          "SOCKET_LISTENERS_VERIFICATION": 1,
          "SOCKET_LISTENERS_RE_REGISTERED": 2,
          "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_COMPLETE": 2,
          "SOCKET_INITIAL_SYNC_SEND": 2,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS": 2,
          "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 2,
          "SOCKET_INITIAL_SYNC_UNREAD": 2,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 2,
          "SOCKET_CONVERSATIONS_CALL_SUCCESS": 3,
          "SOCKET_CONVERSATIONS_CALL": 3,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS": 2,
          "SOCKET_INITIAL_SYNC_START": 2,
          "SOCKET_INITIAL_SYNC_IMMEDIATE": 2,
          "SOCKET_HEARTBEAT_SETUP": 2,
          "MESSAGES_API": 1,
          "SOCKET_WORKSPACE_JOIN": 2,
          "SOCKET_USER_CONNECTED": 2,
          "SOCKET_AUTH_WORKSPACE_TEST": 2,
          "SOCKET_AUTH_SUCCESS": 3,
          "SOCKET_AUTH_DB_ERROR": 2,
          "SOCKET_AUTH_FIREBASE_AVAILABLE": 2,
          "SOCKET_AUTH_CLAIMS_EXTRACTED": 2,
          "SOCKET_AUTH_JWT_CONFIG": 2,
          "SOCKET_CORS_ALLOWED": 2,
          "SOCKET_CORS_ORIGIN_ALLOWED_": 2,
          "_SOCKET_CORS_ORIGIN_CHECK_": 2,
          "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
          "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
          "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
          "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
          "SOCKET_SYNC_STATE": 1,
          "SOCKET_LISTENERS_CREATION": 1,
          "SOCKET_FIREBASE_INIT_SUCCESS": 1,
          "CACHE": 1,
          "CACHE_MISS": 1,
          "DB": 1,
          "CONVERSATIONS_API": 1,
          "AUTH_LOGIN_SUCCESS": 1,
          "AUTH_OPERATION": 4,
          "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATED": 1,
          "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
          "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
          "DATABASE_OPERATION": 3,
          "AUTH_LOGIN_START": 1,
          "AUTH_JWT_FAILURE": 1,
          "AUTH_TOKEN_EXPIRED": 1,
          "AUTH_VERIFY_ACCESS_FAIL": 2,
          "AUTH_LOGOUT": 1,
          "EVENT_CLEANUP_AUTO_START": 1,
          "HEALTH_CHECK": 1,
          "RATE_LIMIT_INIT": 1,
          "SERVICE_INIT_BACKGROUND_SUCCESS": 1,
          "HEALTH_SUCCESS": 1,
          "HEALTH_INIT": 2,
          "SOCKET_SUCCESS": 2,
          "SOCKET_MANAGER_REGISTRADO_GLOB": 1,
          "SOCKET_SHUTDOWN_SETUP": 1,
          "SOCKET_MONITORING_SUCCESS": 1,
          "SOCKET_EVENTS_SUCCESS": 1,
          "SOCKET_EVENTS_SETUP": 1,
          "SOCKET_AUTH_SETUP": 1,
          "SOCKET_CONFIG_SUCCESS": 1,
          "SOCKET_CONFIG": 1,
          "SOCKET_MEMORY_SUCCESS": 1,
          "CACHE_MAP_CREATED": 7,
          "SOCKET_MEMORY_INIT": 1,
          "SOCKET_INIT": 2,
          "SOCKET_DEPS_INJECTION": 1,
          "QUEUE_SERVICE_INIT": 1,
          "REDIS_DEBUG": 1,
          "RAILWAY_REDIS_CONFIG": 1,
          "REDIS_URL_DEBUG": 1,
          "SERVICE_INIT_BACKGROUND": 1,
          "STARTUP_OPTIMIZATION_SUCCESS": 1,
          "STARTUP_OPTIMIZATION": 2,
          "SERVER_STARTED": 2,
          "HEALTH_MONITORING_SUCCESS": 1,
          "HEALTH_MONITORING_START": 1,
          "ERROR_HANDLING_SETUP_SUCCESS": 1,
          "ROUTES_SUCCESS": 1,
          "ROUTES_SETUP": 1,
          "MIDDLEWARE_SUCCESS": 1,
          "MIDDLEWARE_SETUP": 1,
          "ENV_VALIDATION": 4,
          "SERVER_INIT": 1,
          "RAILWAY_CONFIG": 2,
          "ENV_VALIDATION_SUCCESS": 1,
          "LOG_DASHBOARD_INIT": 1,
          "SHARDING_INIT_SUCCESS": 1,
          "SHARDING_INIT": 1,
          "BATCH_INIT_SUCCESS": 1,
          "BATCH_INIT": 1,
          "PERFORMANCE_METRICS_INIT": 1,
          "FIREBASE_SYNC_INIT": 1,
          "RATE_LIMIT_REDIS_DEBUG": 1,
          "CACHE_INIT": 1,
          "LOGGER_CONFIG": 1
        },
        "topUsers": {
          "system": 329,
          "admin@company.com": 5,
          "anonymous": 1
        },
        "topEndpoints": {
          "unknown": 332,
          "/logs": 1,
          "/": 1,
          "/api/conversations": 1
        }
      },
      "level": "info",
      "message": "📊 Stats obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205072.1143,
    "timestamp": "2025-08-21T00:30:05.072Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "📊 Obteniendo stats...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:05.072Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "📊 Obteniendo stats..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736205070.147,
    "timestamp": "2025-08-21T00:30:05.070Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2cce7458-e622-4a74-96d1-cf1044e13074",
      "timestamp": "2025-08-21T00:30:05.070Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736204984.5752,
    "timestamp": "2025-08-21T00:30:04.984Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7d97f059-bea6-431d-b879-7840397ffd29",
      "timestamp": "2025-08-21T00:30:04.984Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "5ms",
      "responseSize": "10534 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/javascript; charset=utf-8",
        "x-request-id": "7d97f059-bea6-431d-b879-7840397ffd29"
      },
      "performance": {
        "duration": 5,
        "responseSize": 10534,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736204979.8843,
    "timestamp": "2025-08-21T00:30:04.979Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7d97f059-bea6-431d-b879-7840397ffd29",
      "timestamp": "2025-08-21T00:30:04.979Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736204695.9355,
    "timestamp": "2025-08-21T00:30:04.695Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755736204695.3225,
    "timestamp": "2025-08-21T00:30:04.695Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "98a1948e-aea5-4751-b66b-40d97fdeafb8",
      "timestamp": "2025-08-21T00:30:04.694Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "98a1948e-aea5-4751-b66b-40d97fdeafb8",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736204694.4146,
    "timestamp": "2025-08-21T00:30:04.694Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "📊 Dashboard HTML solicitado desde:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:30:04.693Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "📊 Dashboard HTML solicitado desde:"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736197838.8816,
    "timestamp": "2025-08-21T00:29:57.838Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:57.838Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736197832.9243,
    "timestamp": "2025-08-21T00:29:57.832Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 2
      },
      "period": "60008ms",
      "memoryUsage": {
        "rss": 127827968,
        "heapTotal": 56676352,
        "heapUsed": 50479688,
        "external": 4354152,
        "arrayBuffers": 715596
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188496.02,
    "timestamp": "2025-08-21T00:29:48.496Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "⚠️ Petición HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:48.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/upload",
      "statusCode": 400,
      "statusMessage": "Bad Request",
      "duration": "1725ms",
      "responseSize": "368 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "368",
        "x-request-id": "63fd8435-d7e7-4c4f-918f-c7955254d9d7"
      },
      "performance": {
        "duration": 1725,
        "responseSize": 368,
        "isSlow": true,
        "isLarge": false
      },
      "level": "warn",
      "message": "⚠️ Petición HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188494.727,
    "timestamp": "2025-08-21T00:29:48.494Z",
    "level": "warn",
    "category": "RESPONSE_ERROR",
    "message": "ResponseHandler.error El tipo de archivo no está permitido en el sistema",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.494Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPONSE_ERROR",
      "statusCode": 400,
      "errorType": "UNSUPPORTED_FILE_TYPE",
      "errorCode": "Tipo de archivo no soportado",
      "message": "ResponseHandler.error El tipo de archivo no está permitido en el sistema",
      "level": "warn"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188493.063,
    "timestamp": "2025-08-21T00:29:48.493Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ Error subiendo archivo (FASE 4)",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "timestamp": "2025-08-21T00:29:48.471Z",
      "service": "utalk-backend",
      "environment": "production",
      "error": "Tipo MIME no disponible en resultado de subida de archivo",
      "stack": [
        "Error: Tipo MIME no disponible en resultado de subida de archivo",
        "    at MediaUploadController.uploadMedia (/app/src/controllers/MediaUploadController.js:300:15)",
        "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"
      ],
      "errorInfo": {
        "hasError": true,
        "errorExists": true,
        "errorType": "Error",
        "hasMessage": true,
        "hasStack": true,
        "errorString": "Error: Tipo MIME no disponible en resultado de subida de archivo",
        "errorJSON": "{\"stack\":\"Error: Tipo MIME no disponible en resultado de subida de archivo\\n    at MediaUploadController.uploadMedia (/app/src/controllers/MediaUploadController.js:300:15)\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\",\"message\":\"Tipo MIME no disponible en resultado de subida de archivo\"}"
      },
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "fileName": "Captura de pantalla 2025-08-20 a las 6.09.47â¯p.â¯m..png",
      "fileSize": 326922,
      "mimetype": "image/png",
      "hasFileBuffer": true,
      "fileBufferSize": 326922,
      "requestMethod": "POST",
      "requestUrl": "/upload",
      "requestIP": "189.253.97.13",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "requestHeaders": {
        "contentType": "multipart/form-data; boundary=----WebKitFormBoundary3pHO5W7YnDDQepAP",
        "contentLength": "327288",
        "origin": "http://localhost:5173"
      },
      "hasBody": true,
      "bodyKeys": [
        "conversationId"
      ],
      "hasFile": true,
      "fileKeys": [
        "fieldname",
        "originalname",
        "encoding",
        "mimetype",
        "buffer",
        "size"
      ],
      "errorTimestamp": "2025-08-21T00:29:48.471Z",
      "level": "error",
      "message": "❌ Error subiendo archivo (FASE 4)"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188471.6738,
    "timestamp": "2025-08-21T00:29:48.471Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ mimeType es undefined en resultado de subida",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "resultKeys": [
        "id",
        "originalName",
        "storagePath",
        "storageUrl",
        "publicUrl",
        "category",
        "mimeType",
        "size",
        "sizeBytes",
        "conversationId",
        "messageId",
        "uploadedBy",
        "uploadedAt",
        "expiresAt",
        "isActive",
        "metadata",
        "tags",
        "downloadCount",
        "lastAccessedAt",
        "createdAt",
        "updatedAt",
        "processTime"
      ],
      "hasMimeType": false,
      "hasMimetype": false,
      "level": "error",
      "message": "❌ mimeType es undefined en resultado de subida"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188447.9863,
    "timestamp": "2025-08-21T00:29:48.447Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "⚠️ Error generando preview automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "error": "this.isImage is not a function",
      "level": "warn",
      "message": "⚠️ Error generando preview automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188447.2905,
    "timestamp": "2025-08-21T00:29:48.447Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ Error generando preview completo",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.426Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "error": "this.isImage is not a function",
      "level": "error",
      "message": "❌ Error generando preview completo"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188155.2788,
    "timestamp": "2025-08-21T00:29:48.155Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🖼️ Generando preview completo",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.155Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "width": 300,
      "height": 300,
      "quality": 80,
      "format": "webp",
      "level": "info",
      "message": "🖼️ Generando preview completo"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188154.0388,
    "timestamp": "2025-08-21T00:29:48.154Z",
    "level": "info",
    "category": "SOCKET_EMIT_FILE_UPLOADED",
    "message": "Evento de archivo subido emitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.154Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EMIT_FILE_UPLOADED",
      "fileId": "c1378509-ba4b-4d67-a...",
      "conversationId": "conv_+5214773790184_...",
      "uploadedBy": "admin@company.com...",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Evento de archivo subido emitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188154.205,
    "timestamp": "2025-08-21T00:29:48.154Z",
    "level": "info",
    "category": "SOCKET_CONVERSATION_FILES_UPDATED",
    "message": "Lista de archivos de conversación actualizada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.154Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATION_FILES_UPDATED",
      "conversationId": "conv_+5214773790184_...",
      "fileCount": 0,
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Lista de archivos de conversación actualizada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188153.745,
    "timestamp": "2025-08-21T00:29:48.153Z",
    "level": "error",
    "category": "SOCKET_FILE_COUNT_ERROR",
    "message": "Error obteniendo conteo de archivos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.127Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FILE_COUNT_ERROR",
      "conversationId": "conv_+5214773790184_...",
      "error": "File.getCountByConversation is not a function",
      "level": "error",
      "message": "Error obteniendo conteo de archivos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188126.1562,
    "timestamp": "2025-08-21T00:29:48.126Z",
    "level": "info",
    "category": "SOCKET_EMIT_FILE_READY",
    "message": "Evento de archivo listo emitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.126Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EMIT_FILE_READY",
      "fileId": "c1378509-ba4b-4d67-a...",
      "conversationId": "conv_+5214773790184_...",
      "readyBy": "admin@company.com...",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Evento de archivo listo emitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188125.5854,
    "timestamp": "2025-08-21T00:29:48.125Z",
    "level": "info",
    "category": "image",
    "message": "✅ Archivo subido exitosamente con indexación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.125Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "category": "image",
      "size": "319.26 KB",
      "storagePath": "images/conv_+5214773790184_+5214793176502/c1378509-ba4b-4d67-a212-9f49ec3301c4.jpg",
      "processTime": "821ms",
      "uploadedBy": "admin@company.com",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "✅ Archivo subido exitosamente con indexación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736188125.2505,
    "timestamp": "2025-08-21T00:29:48.125Z",
    "level": "info",
    "category": "image",
    "message": "✅ Archivo guardado exitosamente en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:48.125Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "category": "image",
      "level": "info",
      "message": "✅ Archivo guardado exitosamente en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736187941.7664,
    "timestamp": "2025-08-21T00:29:47.941Z",
    "level": "info",
    "category": "image",
    "message": "💾 Guardando archivo en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:47.941Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "c1378509-ba4b-4d67-a212-9f49ec3301c4",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "originalName": "Captura de pantalla 2025-08-20 a las 6.09.47â¯p.â¯m..png",
      "category": "image",
      "level": "info",
      "message": "💾 Guardando archivo en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736187304.427,
    "timestamp": "2025-08-21T00:29:47.304Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 Iniciando subida de archivo con indexación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:47.304Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalName": "Captura de pantalla 2025-08-20 a las 6.09.47â¯p.â¯m..png",
      "mimetype": "image/png",
      "size": 326922,
      "conversationId": "conv_+5214773790184_+5214793176502",
      "uploadedBy": "admin@company.com",
      "hasBuffer": true,
      "bufferSize": 326922,
      "level": "info",
      "message": "🔄 Iniciando subida de archivo con indexación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736187303.506,
    "timestamp": "2025-08-21T00:29:47.303Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 Iniciando subida de archivo (FASE 4)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0....",
      "timestamp": "2025-08-21T00:29:47.303Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalName": "Captura de pantalla 2025-08-20 a las 6.09.47â¯p.â¯m..png",
      "size": 326922,
      "mimetype": "image/png",
      "uploadedBy": "admin@company.com",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasTags": false,
      "hasMetadata": false,
      "bufferSize": 326922,
      "level": "info",
      "message": "🔄 Iniciando subida de archivo (FASE 4)"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0....",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186842.841,
    "timestamp": "2025-08-21T00:29:46.842Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.842Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/media/upload",
      "duration": "71ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186842.6282,
    "timestamp": "2025-08-21T00:29:46.842Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.842Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186841.8826,
    "timestamp": "2025-08-21T00:29:46.841Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:46.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186772.5479,
    "timestamp": "2025-08-21T00:29:46.772Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:46.772Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186772.8306,
    "timestamp": "2025-08-21T00:29:46.772Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.772Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186772.7998,
    "timestamp": "2025-08-21T00:29:46.772Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.772Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186771.2622,
    "timestamp": "2025-08-21T00:29:46.771Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/media/upload",
      "method": "POST",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186771.7292,
    "timestamp": "2025-08-21T00:29:46.771Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "63fd8435-d7e7-4c4f-918f-c7955254d9d7",
      "timestamp": "2025-08-21T00:29:46.770Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/media/upload",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "multipart/form-data; boundary=----WebKitFormBoundary3pHO5W7YnDDQepAP",
      "contentLength": "327288",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186770.6775,
    "timestamp": "2025-08-21T00:29:46.770Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:46.770Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186770.8801,
    "timestamp": "2025-08-21T00:29:46.770Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:46.770Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736186770.049,
    "timestamp": "2025-08-21T00:29:46.770Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:46.769Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.2039,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 2,
      "totalReRegistered": 4,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.8699,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "-8PBfNI4...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.1853,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.56,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.909,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177835.8596,
    "timestamp": "2025-08-21T00:29:37.835Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "hfWf8Ifg...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177834.7073,
    "timestamp": "2025-08-21T00:29:37.834Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177834.5186,
    "timestamp": "2025-08-21T00:29:37.834Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736177834.3484,
    "timestamp": "2025-08-21T00:29:37.834Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:37.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173188.9253,
    "timestamp": "2025-08-21T00:29:33.188Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.188Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "145ms",
      "responseSize": "1162 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a"
      },
      "performance": {
        "duration": 145,
        "responseSize": 1162,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173185.178,
    "timestamp": "2025-08-21T00:29:33.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173185.8,
    "timestamp": "2025-08-21T00:29:33.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173116.7095,
    "timestamp": "2025-08-21T00:29:33.116Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.7886,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.2842,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.8625,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.041,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "71ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.4412,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173115.1565,
    "timestamp": "2025-08-21T00:29:33.115Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.115Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173077.131,
    "timestamp": "2025-08-21T00:29:33.077Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.077Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173076.2615,
    "timestamp": "2025-08-21T00:29:33.076Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.076Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "-8PBfNI4...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173075.184,
    "timestamp": "2025-08-21T00:29:33.075Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173075.2397,
    "timestamp": "2025-08-21T00:29:33.075Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173075.249,
    "timestamp": "2025-08-21T00:29:33.075Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173075.8494,
    "timestamp": "2025-08-21T00:29:33.075Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173046.1726,
    "timestamp": "2025-08-21T00:29:33.046Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173046.645,
    "timestamp": "2025-08-21T00:29:33.046Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173046.7527,
    "timestamp": "2025-08-21T00:29:33.046Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173044.74,
    "timestamp": "2025-08-21T00:29:33.044Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.044Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173044.2346,
    "timestamp": "2025-08-21T00:29:33.044Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d26ed4e4-bf26-4ff2-9089-d0e184baa01a",
      "timestamp": "2025-08-21T00:29:33.044Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173043.1426,
    "timestamp": "2025-08-21T00:29:33.043Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.043Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173043.385,
    "timestamp": "2025-08-21T00:29:33.043Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.043Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736173043.3093,
    "timestamp": "2025-08-21T00:29:33.043Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:33.043Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172958.26,
    "timestamp": "2025-08-21T00:29:32.958Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.958Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "345ms",
      "responseSize": "20457 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "c34263e9-0330-4613-8883-caea9cc76364"
      },
      "performance": {
        "duration": 345,
        "responseSize": 20457,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172950.991,
    "timestamp": "2025-08-21T00:29:32.950Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "count": 21,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "207ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172947.8445,
    "timestamp": "2025-08-21T00:29:32.947Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.947Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "totalResults": 21,
      "hasMore": false,
      "queryTime": "207ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172771.9658,
    "timestamp": "2025-08-21T00:29:32.771Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172771.4531,
    "timestamp": "2025-08-21T00:29:32.771Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172771.1565,
    "timestamp": "2025-08-21T00:29:32.771Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172738.78,
    "timestamp": "2025-08-21T00:29:32.738Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.4944,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.1233,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.6372,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.3206,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "-8PBfNI4...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.71,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.9067,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "-8PBfNI4...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172710.4463,
    "timestamp": "2025-08-21T00:29:32.710Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.710Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172681.0205,
    "timestamp": "2025-08-21T00:29:32.681Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.681Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172679.9963,
    "timestamp": "2025-08-21T00:29:32.679Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:32.679Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId en query normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172679.2463,
    "timestamp": "2025-08-21T00:29:32.679Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:32.679Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172678.5378,
    "timestamp": "2025-08-21T00:29:32.678Z",
    "level": "info",
    "category": "MESSAGES_API",
    "message": "MESSAGES_REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3233a8f4-e940-4df5-8054-56807c57adec",
      "timestamp": "2025-08-21T00:29:32.678Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "3233a8f4-e940-4df5-8054-56807c57adec",
      "userCtx": null,
      "category": "MESSAGES_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "limit": "50"
      },
      "level": "info",
      "message": "MESSAGES_REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172678.4753,
    "timestamp": "2025-08-21T00:29:32.678Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.678Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "duration": "64ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172678.2,
    "timestamp": "2025-08-21T00:29:32.678Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.678Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172678.002,
    "timestamp": "2025-08-21T00:29:32.678Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.678Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172616.3484,
    "timestamp": "2025-08-21T00:29:32.616Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.616Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172616.7148,
    "timestamp": "2025-08-21T00:29:32.616Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.616Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172616.2708,
    "timestamp": "2025-08-21T00:29:32.616Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.616Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172614.7864,
    "timestamp": "2025-08-21T00:29:32.614Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.614Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172613.274,
    "timestamp": "2025-08-21T00:29:32.613Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c34263e9-0330-4613-8883-caea9cc76364",
      "timestamp": "2025-08-21T00:29:32.613Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172613.6213,
    "timestamp": "2025-08-21T00:29:32.613Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.613Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172613.2185,
    "timestamp": "2025-08-21T00:29:32.613Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.612Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172612.9956,
    "timestamp": "2025-08-21T00:29:32.612Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.612Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.707,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.0051,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:29:32.608Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.7812,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "-8PBfNI4...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.1536,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.103,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.3533,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.2048,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172608.962,
    "timestamp": "2025-08-21T00:29:32.608Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.608Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172606.4495,
    "timestamp": "2025-08-21T00:29:32.606Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.606Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "-8PBfNI46ghBB7buAAAE",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172527.258,
    "timestamp": "2025-08-21T00:29:32.527Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.527Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172527.8877,
    "timestamp": "2025-08-21T00:29:32.527Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.527Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172526.783,
    "timestamp": "2025-08-21T00:29:32.526Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.526Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172526.8108,
    "timestamp": "2025-08-21T00:29:32.526Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.526Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172526.881,
    "timestamp": "2025-08-21T00:29:32.526Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.526Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172311.7131,
    "timestamp": "2025-08-21T00:29:32.311Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.311Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "onlineUsersCount": 1,
      "level": "info",
      "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172311.3892,
    "timestamp": "2025-08-21T00:29:32.311Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.311Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "syncData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "success": true,
        "timestamp": "2025-08-21T00:29:32.311Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172311.6624,
    "timestamp": "2025-08-21T00:29:32.311Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.311Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "confirmationData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "onlineUsers": [
          "admin@company.com"
        ],
        "success": true,
        "timestamp": "2025-08-21T00:29:32.310Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736172310.5132,
    "timestamp": "2025-08-21T00:29:32.310Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:32.310Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_...",
      "participantsCount": 4,
      "level": "info",
      "message": "Usuario es participante directo de la conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736171542.532,
    "timestamp": "2025-08-21T00:29:31.542Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:31.542Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736171470.4016,
    "timestamp": "2025-08-21T00:29:31.470Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:31.470Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736171470.4382,
    "timestamp": "2025-08-21T00:29:31.470Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:31.470Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736171470.6487,
    "timestamp": "2025-08-21T00:29:31.470Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:31.470Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "level": "info",
      "message": "User requesting state sync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170908.4084,
    "timestamp": "2025-08-21T00:29:30.908Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.908Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170907.3352,
    "timestamp": "2025-08-21T00:29:30.907Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.907Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "hfWf8Ifg...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170905.1377,
    "timestamp": "2025-08-21T00:29:30.905Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170905.018,
    "timestamp": "2025-08-21T00:29:30.905Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170905.891,
    "timestamp": "2025-08-21T00:29:30.905Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170905.4734,
    "timestamp": "2025-08-21T00:29:30.905Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170611.3313,
    "timestamp": "2025-08-21T00:29:30.611Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.611Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170611.1272,
    "timestamp": "2025-08-21T00:29:30.611Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.611Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170610.168,
    "timestamp": "2025-08-21T00:29:30.610Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.610Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170485.2761,
    "timestamp": "2025-08-21T00:29:30.485Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.485Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170485.2607,
    "timestamp": "2025-08-21T00:29:30.485Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170484.9756,
    "timestamp": "2025-08-21T00:29:30.484Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170484.4583,
    "timestamp": "2025-08-21T00:29:30.484Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "hfWf8Ifg...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170484.2405,
    "timestamp": "2025-08-21T00:29:30.484Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170484.2222,
    "timestamp": "2025-08-21T00:29:30.484Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "hfWf8Ifg...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170483.315,
    "timestamp": "2025-08-21T00:29:30.483Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.483Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170481.7598,
    "timestamp": "2025-08-21T00:29:30.481Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.481Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170380.4468,
    "timestamp": "2025-08-21T00:29:30.380Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.380Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170380.2659,
    "timestamp": "2025-08-21T00:29:30.380Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.380Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:29:30.379Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170380.811,
    "timestamp": "2025-08-21T00:29:30.380Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.380Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "hfWf8Ifg...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170377.8132,
    "timestamp": "2025-08-21T00:29:30.377Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.377Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170377.3716,
    "timestamp": "2025-08-21T00:29:30.377Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.377Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170377.2217,
    "timestamp": "2025-08-21T00:29:30.377Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.377Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170376.6167,
    "timestamp": "2025-08-21T00:29:30.376Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.376Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170376.858,
    "timestamp": "2025-08-21T00:29:30.376Z",
    "level": "info",
    "category": "SOCKET_FIREBASE_INIT_SUCCESS",
    "message": "Socket.IO: Firebase inicializado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.376Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FIREBASE_INIT_SUCCESS",
      "level": "info",
      "message": "Socket.IO: Firebase inicializado correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170376.8105,
    "timestamp": "2025-08-21T00:29:30.376Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.376Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170373.39,
    "timestamp": "2025-08-21T00:29:30.373Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "hfWf8IfgS9mtqFeHAAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170284.714,
    "timestamp": "2025-08-21T00:29:30.284Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.284Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170284.0635,
    "timestamp": "2025-08-21T00:29:30.284Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.284Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170284.934,
    "timestamp": "2025-08-21T00:29:30.284Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.284Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170283.454,
    "timestamp": "2025-08-21T00:29:30.283Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170283.7764,
    "timestamp": "2025-08-21T00:29:30.283Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170044.9407,
    "timestamp": "2025-08-21T00:29:30.044Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:30.044Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conv_+5214777270766_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "202ms",
      "responseSize": "1194 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5"
      },
      "performance": {
        "duration": 202,
        "responseSize": 1194,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170040.9685,
    "timestamp": "2025-08-21T00:29:30.040Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.040Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170040.4614,
    "timestamp": "2025-08-21T00:29:30.040Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.040Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170022.2065,
    "timestamp": "2025-08-21T00:29:30.022Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:30.022Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "160ms",
      "responseSize": "1162 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "16c141be-9167-4ebf-af26-c5b5d79f4a20"
      },
      "performance": {
        "duration": 160,
        "responseSize": 1162,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170018.5198,
    "timestamp": "2025-08-21T00:29:30.018Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.018Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736170018.979,
    "timestamp": "2025-08-21T00:29:30.018Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:30.018Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169996.8254,
    "timestamp": "2025-08-21T00:29:29.996Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.996Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "146ms",
      "responseSize": "986 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "986",
        "x-request-id": "401428dd-117a-48c2-975c-a23ac81fe363"
      },
      "performance": {
        "duration": 146,
        "responseSize": 986,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169994.8547,
    "timestamp": "2025-08-21T00:29:29.994Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.994Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169993.8186,
    "timestamp": "2025-08-21T00:29:29.993Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.992Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169976.1326,
    "timestamp": "2025-08-21T00:29:29.976Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.976Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214777270766_+5214793176502",
      "finalId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169976.289,
    "timestamp": "2025-08-21T00:29:29.976Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.976Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214777270766_+5214793176502",
      "conversationIdNormalized": "conv_+5214777270766_+5214793176502",
      "participants": {
        "from": "+5214777270766",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169975.9187,
    "timestamp": "2025-08-21T00:29:29.975Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.975Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "decodedConversationId": "conv_+5214777270766_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169975.5737,
    "timestamp": "2025-08-21T00:29:29.975Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.975Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214777270766_+5214793176502",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169975.0005,
    "timestamp": "2025-08-21T00:29:29.975Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.975Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "duration": "130ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169975.627,
    "timestamp": "2025-08-21T00:29:29.975Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.975Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169975.3633,
    "timestamp": "2025-08-21T00:29:29.975Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.975Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.7893,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.7969,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.9128,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.9556,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.7834,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "78ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169940.8928,
    "timestamp": "2025-08-21T00:29:29.940Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169939.4045,
    "timestamp": "2025-08-21T00:29:29.939Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169929.5425,
    "timestamp": "2025-08-21T00:29:29.929Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.929Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169928.9587,
    "timestamp": "2025-08-21T00:29:29.928Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169928.4597,
    "timestamp": "2025-08-21T00:29:29.928Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169928.1597,
    "timestamp": "2025-08-21T00:29:29.928Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:29:29.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169927.4407,
    "timestamp": "2025-08-21T00:29:29.927Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.927Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "75ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169926.0574,
    "timestamp": "2025-08-21T00:29:29.926Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.926Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169926.4915,
    "timestamp": "2025-08-21T00:29:29.926Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.926Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169865.0789,
    "timestamp": "2025-08-21T00:29:29.865Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.865Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169864.6638,
    "timestamp": "2025-08-21T00:29:29.864Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.864Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169864.7627,
    "timestamp": "2025-08-21T00:29:29.864Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.864Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169862.1719,
    "timestamp": "2025-08-21T00:29:29.862Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.862Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169862.2908,
    "timestamp": "2025-08-21T00:29:29.862Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "16c141be-9167-4ebf-af26-c5b5d79f4a20",
      "timestamp": "2025-08-21T00:29:29.862Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169861.581,
    "timestamp": "2025-08-21T00:29:29.861Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.861Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169861.4526,
    "timestamp": "2025-08-21T00:29:29.861Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.861Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169861.339,
    "timestamp": "2025-08-21T00:29:29.861Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.861Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169853.5186,
    "timestamp": "2025-08-21T00:29:29.853Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.853Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169853.123,
    "timestamp": "2025-08-21T00:29:29.853Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.853Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169853.5562,
    "timestamp": "2025-08-21T00:29:29.853Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.852Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169851.8547,
    "timestamp": "2025-08-21T00:29:29.851Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.851Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169851.187,
    "timestamp": "2025-08-21T00:29:29.851Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "401428dd-117a-48c2-975c-a23ac81fe363",
      "timestamp": "2025-08-21T00:29:29.850Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169850.502,
    "timestamp": "2025-08-21T00:29:29.850Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.850Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169850.827,
    "timestamp": "2025-08-21T00:29:29.850Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.850Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169850.1577,
    "timestamp": "2025-08-21T00:29:29.850Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.850Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169848.871,
    "timestamp": "2025-08-21T00:29:29.848Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169848.1116,
    "timestamp": "2025-08-21T00:29:29.848Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169847.6267,
    "timestamp": "2025-08-21T00:29:29.848Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.847Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169845.5144,
    "timestamp": "2025-08-21T00:29:29.845Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169843.2224,
    "timestamp": "2025-08-21T00:29:29.843Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5fb41ef8-0897-4008-a8dc-371ffed0e3c5",
      "timestamp": "2025-08-21T00:29:29.843Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conversations/conv_+5214777270766_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169842.1187,
    "timestamp": "2025-08-21T00:29:29.842Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169841.4546,
    "timestamp": "2025-08-21T00:29:29.841Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169841.6802,
    "timestamp": "2025-08-21T00:29:29.841Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169583.4353,
    "timestamp": "2025-08-21T00:29:29.583Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.583Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "226ms",
      "responseSize": "3147 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "5d14a00a-afb3-4150-921d-f9c7866efbb3"
      },
      "performance": {
        "duration": 226,
        "responseSize": 3147,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169580.4275,
    "timestamp": "2025-08-21T00:29:29.580Z",
    "level": "info",
    "category": "CACHE",
    "message": "Cache miss: /",
    "data": {
      "userId": "admin@company.com",
      "ip": "189.253.97.13",
      "endpoint": "/",
      "ttlSeconds": 120,
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "admin@company.com",
    "endpoint": "/"
  },
  {
    "id": 1755736169579.5972,
    "timestamp": "2025-08-21T00:29:29.579Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_done",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "http": {
        "method": "GET",
        "path": "/",
        "status": 200,
        "durationMs": 103
      },
      "user": null,
      "result": {
        "count": 3,
        "totalCount": 3,
        "source": "hardened"
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "timestamp": "2025-08-21T00:29:29.579Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "userCtx": null,
      "message": {
        "event": "conversations_list_done",
        "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
        "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
        "http": {
          "method": "GET",
          "path": "/",
          "status": 200,
          "durationMs": 103
        },
        "user": null,
        "result": {
          "count": 3,
          "totalCount": 3,
          "source": "hardened"
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169579.2673,
    "timestamp": "2025-08-21T00:29:29.579Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.579Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169579.519,
    "timestamp": "2025-08-21T00:29:29.579Z",
    "level": "info",
    "category": "DB",
    "message": "Database call: conversations",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "/api/conversations",
      "page": 1,
      "limit": 20,
      "search": "no"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "/api/conversations"
  },
  {
    "id": 1755736169476.076,
    "timestamp": "2025-08-21T00:29:29.476Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_start",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "loggerShape": {
        "hasInfo": true,
        "hasAuth": true,
        "hasDatabase": true,
        "hasChild": true
      },
      "http": {
        "method": "GET",
        "path": "/"
      },
      "user": null,
      "filters": {
        "limit": 20,
        "page": 1
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "timestamp": "2025-08-21T00:29:29.476Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "userCtx": null,
      "message": {
        "event": "conversations_list_start",
        "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
        "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
        "loggerShape": {
          "hasInfo": true,
          "hasAuth": true,
          "hasDatabase": true,
          "hasChild": true
        },
        "http": {
          "method": "GET",
          "path": "/"
        },
        "user": null,
        "filters": {
          "limit": 20,
          "page": 1
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169476.654,
    "timestamp": "2025-08-21T00:29:29.476Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.476Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169473.24,
    "timestamp": "2025-08-21T00:29:29.473Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "timestamp": "2025-08-21T00:29:29.473Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "d840c700-f5d4-4025-a468-11a1c5ff6443",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169472.993,
    "timestamp": "2025-08-21T00:29:29.472Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.472Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "114ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169472.9717,
    "timestamp": "2025-08-21T00:29:29.472Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.472Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169472.1243,
    "timestamp": "2025-08-21T00:29:29.472Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.472Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169360.2302,
    "timestamp": "2025-08-21T00:29:29.360Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.360Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169360.8857,
    "timestamp": "2025-08-21T00:29:29.360Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.360Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169360.587,
    "timestamp": "2025-08-21T00:29:29.360Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.360Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755737068,
      "iat": 1755736168,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169358.8198,
    "timestamp": "2025-08-21T00:29:29.358Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.358Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169357.7537,
    "timestamp": "2025-08-21T00:29:29.357Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5d14a00a-afb3-4150-921d-f9c7866efbb3",
      "timestamp": "2025-08-21T00:29:29.357Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/conversations",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169356.6348,
    "timestamp": "2025-08-21T00:29:29.356Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169356.8035,
    "timestamp": "2025-08-21T00:29:29.356Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736169356.376,
    "timestamp": "2025-08-21T00:29:29.356Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:29.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168940.6245,
    "timestamp": "2025-08-21T00:29:28.940Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:28.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/login",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "997ms",
      "responseSize": "1991 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "a822d3c9-c6f7-44c9-8ac0-039962115c53"
      },
      "performance": {
        "duration": 997,
        "responseSize": 1991,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168929.5183,
    "timestamp": "2025-08-21T00:29:28.929Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.929Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "81517f8a-7580-48da-a109-34448a781705",
      "level": "info",
      "message": "Login completado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168929.5652,
    "timestamp": "2025-08-21T00:29:28.929Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:28.929Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_success",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "department": "admin",
      "deviceId": "81517f8a-7580-48da-a109-34448a781705",
      "level": "info",
      "message": "[AUTH] login_success"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168928.5117,
    "timestamp": "2025-08-21T00:29:28.928Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:28.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "81517f8a-7580-48da-a109-34448a781705",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168928.417,
    "timestamp": "2025-08-21T00:29:28.928Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168928.4941,
    "timestamp": "2025-08-21T00:29:28.928Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "479b0711-623c-46ee-81d4-246faf9be211",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168928.3665,
    "timestamp": "2025-08-21T00:29:28.928Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.928Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "479b0711-623c-46ee-81d4-246faf9be211",
      "userEmail": "admin@company.com",
      "familyId": "681dfbac-b441-46dd-afee-1fa4150fc70f",
      "deviceId": "81517f8a-7580-48da-a109-34448a781705",
      "level": "info",
      "message": "Refresh token creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168928.126,
    "timestamp": "2025-08-21T00:29:28.928Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "Índices creados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.927Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "Índices creados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168789.2463,
    "timestamp": "2025-08-21T00:29:28.789Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.789Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168653.612,
    "timestamp": "2025-08-21T00:29:28.653Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:28.652Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168652.1333,
    "timestamp": "2025-08-21T00:29:28.652Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.652Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168555.0107,
    "timestamp": "2025-08-21T00:29:28.555Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:28.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168555.1587,
    "timestamp": "2025-08-21T00:29:28.555Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contraseña válida (campo password)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contraseña válida (campo password)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168555.7568,
    "timestamp": "2025-08-21T00:29:28.555Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.554Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168459.0232,
    "timestamp": "2025-08-21T00:29:28.459Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.459Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168459.9,
    "timestamp": "2025-08-21T00:29:28.459Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.459Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736168459.5068,
    "timestamp": "2025-08-21T00:29:28.459Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:28.458Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167947.623,
    "timestamp": "2025-08-21T00:29:27.947Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.946Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167946.0742,
    "timestamp": "2025-08-21T00:29:27.946Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:27.946Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167946.8818,
    "timestamp": "2025-08-21T00:29:27.946Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:27.946Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167946.7896,
    "timestamp": "2025-08-21T00:29:27.946Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.946Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167943.3901,
    "timestamp": "2025-08-21T00:29:27.943Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a822d3c9-c6f7-44c9-8ac0-039962115c53",
      "timestamp": "2025-08-21T00:29:27.942Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/auth/login",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "51",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167930.817,
    "timestamp": "2025-08-21T00:29:27.930Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.930Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167930.2896,
    "timestamp": "2025-08-21T00:29:27.930Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.930Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167929.617,
    "timestamp": "2025-08-21T00:29:27.929Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.929Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736167840.1792,
    "timestamp": "2025-08-21T00:29:27.840Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:27.840Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161636.5588,
    "timestamp": "2025-08-21T00:29:21.636Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "⚠️ Petición HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4104fdbf-a14f-44b5-9163-c8c10da4d64f",
      "timestamp": "2025-08-21T00:29:21.636Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "GET",
      "url": "/api/auth/profile",
      "path": "/profile",
      "statusCode": 401,
      "statusMessage": "Unauthorized",
      "duration": "5ms",
      "responseSize": "189 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "189",
        "x-request-id": "4104fdbf-a14f-44b5-9163-c8c10da4d64f"
      },
      "performance": {
        "duration": 5,
        "responseSize": 189,
        "isSlow": false,
        "isLarge": false
      },
      "level": "warn",
      "message": "⚠️ Petición HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161635.3494,
    "timestamp": "2025-08-21T00:29:21.635Z",
    "level": "warn",
    "category": "AUTH_JWT_FAILURE",
    "message": "Autenticación fallida por JWT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4104fdbf-a14f-44b5-9163-c8c10da4d64f",
      "timestamp": "2025-08-21T00:29:21.635Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_FAILURE",
      "error": "jwt expired",
      "name": "TokenExpiredError",
      "level": "warn",
      "message": "Autenticación fallida por JWT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161635.143,
    "timestamp": "2025-08-21T00:29:21.635Z",
    "level": "warn",
    "category": "AUTH_TOKEN_EXPIRED",
    "message": "Token expirado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "4104fdbf-a14f-44b5-9163-c8c10da4d64f",
      "timestamp": "2025-08-21T00:29:21.635Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_TOKEN_EXPIRED",
      "exp": "2025-08-21T00:23:04.000Z",
      "currentTime": "2025-08-21T00:29:21.635Z",
      "level": "warn",
      "message": "Token expirado"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161635.069,
    "timestamp": "2025-08-21T00:29:21.635Z",
    "level": "warn",
    "category": "AUTH_VERIFY_ACCESS_FAIL",
    "message": "AuthService.verifyAccessToken: invalid token",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.635Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_VERIFY_ACCESS_FAIL",
      "error": "jwt expired",
      "level": "warn",
      "message": "AuthService.verifyAccessToken: invalid token"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161633.2498,
    "timestamp": "2025-08-21T00:29:21.633Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4104fdbf-a14f-44b5-9163-c8c10da4d64f",
      "timestamp": "2025-08-21T00:29:21.633Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/auth/profile",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161632.9734,
    "timestamp": "2025-08-21T00:29:21.632Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4104fdbf-a14f-44b5-9163-c8c10da4d64f",
      "timestamp": "2025-08-21T00:29:21.631Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/auth/profile",
      "path": "/auth/profile",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161631.0874,
    "timestamp": "2025-08-21T00:29:21.631Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.631Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161631.8948,
    "timestamp": "2025-08-21T00:29:21.631Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.631Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161631.0068,
    "timestamp": "2025-08-21T00:29:21.631Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.630Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161630.1038,
    "timestamp": "2025-08-21T00:29:21.630Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6dfe45e5-38dd-4bf0-ad6e-c2a8b49fe01c",
      "timestamp": "2025-08-21T00:29:21.629Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/logout",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "14ms",
      "responseSize": "65 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "65",
        "x-request-id": "6dfe45e5-38dd-4bf0-ad6e-c2a8b49fe01c"
      },
      "performance": {
        "duration": 14,
        "responseSize": 65,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161626.1057,
    "timestamp": "2025-08-21T00:29:21.626Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] logout_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6dfe45e5-38dd-4bf0-ad6e-c2a8b49fe01c",
      "timestamp": "2025-08-21T00:29:21.626Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "logout_success",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] logout_success"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161625.4167,
    "timestamp": "2025-08-21T00:29:21.625Z",
    "level": "info",
    "category": "AUTH_LOGOUT",
    "message": "Logout con token expirado (idempotente)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "17891d2d-2a95-4c59-9911-3c2a71dd2aa6",
      "timestamp": "2025-08-21T00:29:21.625Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "17891d2d-2a95-4c59-9911-3c2a71dd2aa6",
      "userCtx": null,
      "category": "AUTH_LOGOUT",
      "userEmail": "admin@company.com",
      "reason": "token_expired",
      "level": "info",
      "message": "Logout con token expirado (idempotente)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161625.9219,
    "timestamp": "2025-08-21T00:29:21.625Z",
    "level": "warn",
    "category": "AUTH_VERIFY_ACCESS_FAIL",
    "message": "AuthService.verifyAccessToken: invalid token",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.625Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_VERIFY_ACCESS_FAIL",
      "error": "jwt expired",
      "level": "warn",
      "message": "AuthService.verifyAccessToken: invalid token"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161616.6719,
    "timestamp": "2025-08-21T00:29:21.616Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6dfe45e5-38dd-4bf0-ad6e-c2a8b49fe01c",
      "timestamp": "2025-08-21T00:29:21.616Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/auth/logout",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentLength": "0",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161611.628,
    "timestamp": "2025-08-21T00:29:21.611Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.611Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161611.087,
    "timestamp": "2025-08-21T00:29:21.611Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.611Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736161610.363,
    "timestamp": "2025-08-21T00:29:21.610Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:21.610Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736147834.0813,
    "timestamp": "2025-08-21T00:29:07.834Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO_START",
    "message": "Auto cleanup iniciado (optimizado)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:29:07.833Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO_START",
      "interval": "120s",
      "maxAge": "1800s",
      "maxCalls": 500,
      "memoryPressureThreshold": "80%",
      "level": "info",
      "message": "Auto cleanup iniciado (optimizado)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736138390.1243,
    "timestamp": "2025-08-21T00:28:58.390Z",
    "level": "info",
    "category": "HEALTH_CHECK",
    "message": "Health check solicitado desde Railway",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "100.64.0.2",
      "userAgent": "RailwayHealthCheck/1.0",
      "timestamp": "2025-08-21T00:28:58.390Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_CHECK",
      "level": "info",
      "message": "Health check solicitado desde Railway"
    },
    "userAgent": "RailwayHealthCheck/1.0",
    "ip": "100.64.0.2",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137846.2244,
    "timestamp": "2025-08-21T00:28:57.846Z",
    "level": "info",
    "category": "RATE_LIMIT_INIT",
    "message": "✅ Rate Limiting usando Redis persistente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_INIT",
      "store": "redis",
      "url": "redis://***@redis.railway.internal:6379",
      "level": "info",
      "message": "✅ Rate Limiting usando Redis persistente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137832.613,
    "timestamp": "2025-08-21T00:28:57.832Z",
    "level": "info",
    "category": "SERVICE_INIT_BACKGROUND_SUCCESS",
    "message": "✅ Todos los servicios inicializados correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT_BACKGROUND_SUCCESS",
      "level": "info",
      "message": "✅ Todos los servicios inicializados correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137832.8386,
    "timestamp": "2025-08-21T00:28:57.832Z",
    "level": "info",
    "category": "HEALTH_SUCCESS",
    "message": "✅ Health Check Service marcado como saludable (desactivado).",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_SUCCESS",
      "level": "info",
      "message": "✅ Health Check Service marcado como saludable (desactivado)."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137832.6462,
    "timestamp": "2025-08-21T00:28:57.832Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "🏥 Health Check Service DESACTIVADO temporalmente para permitir despliegue...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "🏥 Health Check Service DESACTIVADO temporalmente para permitir despliegue..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137832.4119,
    "timestamp": "2025-08-21T00:28:57.832Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "🏥 Inicializando health checks con Circuit Breaker...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "🏥 Inicializando health checks con Circuit Breaker..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.0574,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "SOCKETS:READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasServer": true,
      "hasManager": true,
      "category": "SOCKET_SUCCESS",
      "memoryManaged": true,
      "maxConnections": 50000,
      "level": "info",
      "message": "SOCKETS:READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.123,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_MANAGER_REGISTRADO_GLOB",
    "message": "Socket manager registrado globalmente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MANAGER_REGISTRADO_GLOB",
      "level": "info",
      "message": "Socket manager registrado globalmente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.1946,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "✅ Enterprise Socket.IO Manager initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SUCCESS",
      "features": {
        "authenticationMiddleware": true,
        "memoryManagement": true,
        "rateLimiting": true,
        "presenceTracking": true,
        "stateSync": true,
        "errorHandling": true,
        "monitoring": true,
        "gracefulShutdown": true
      },
      "level": "info",
      "message": "✅ Enterprise Socket.IO Manager initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.1064,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_SHUTDOWN_SETUP",
    "message": "✅ Socket.IO graceful shutdown configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SHUTDOWN_SETUP",
      "level": "info",
      "message": "✅ Socket.IO graceful shutdown configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.954,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_MONITORING_SUCCESS",
    "message": "✅ Socket.IO monitoring configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MONITORING_SUCCESS",
      "intervals": {
        "metrics": "60s",
        "memoryCleanup": "2min",
        "memoryLeakDetection": "5min",
        "rateLimitCleanup": "30s",
        "listenerVerification": "10s"
      },
      "level": "info",
      "message": "✅ Socket.IO monitoring configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137831.5308,
    "timestamp": "2025-08-21T00:28:57.831Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SUCCESS",
    "message": "✅ Event handlers configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.831Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SUCCESS",
      "level": "info",
      "message": "✅ Event handlers configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137830.7024,
    "timestamp": "2025-08-21T00:28:57.830Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SETUP",
    "message": "📡 Setting up event handlers...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.830Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SETUP",
      "level": "info",
      "message": "📡 Setting up event handlers..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137830.3113,
    "timestamp": "2025-08-21T00:28:57.830Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "✅ Authentication middleware configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.830Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "level": "info",
      "message": "✅ Authentication middleware configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137830.613,
    "timestamp": "2025-08-21T00:28:57.830Z",
    "level": "info",
    "category": "SOCKET_AUTH_SETUP",
    "message": "🔐 Setting up authentication middleware...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.830Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SETUP",
      "level": "info",
      "message": "🔐 Setting up authentication middleware..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137830.0896,
    "timestamp": "2025-08-21T00:28:57.830Z",
    "level": "info",
    "category": "SOCKET_CONFIG_SUCCESS",
    "message": "✅ Socket.IO server configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.829Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG_SUCCESS",
      "corsConfig": "unified",
      "level": "info",
      "message": "✅ Socket.IO server configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137825.8572,
    "timestamp": "2025-08-21T00:28:57.825Z",
    "level": "info",
    "category": "SOCKET_CONFIG",
    "message": "🔧 Configuring Socket.IO server...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.825Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG",
      "level": "info",
      "message": "🔧 Configuring Socket.IO server..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137825.5881,
    "timestamp": "2025-08-21T00:28:57.825Z",
    "level": "info",
    "category": "SOCKET_MEMORY_SUCCESS",
    "message": "✅ Managed memory maps initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.825Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_SUCCESS",
      "mapsCount": 9,
      "totalMaxEntries": 1460000,
      "level": "info",
      "message": "✅ Managed memory maps initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137825.5278,
    "timestamp": "2025-08-21T00:28:57.825Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_eventListeners",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.825Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_eventListeners",
      "totalMaps": 7,
      "level": "info",
      "message": "Mapa gestionado creado: socket_eventListeners"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137825.8489,
    "timestamp": "2025-08-21T00:28:57.825Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_typingUsers",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.825Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_typingUsers",
      "totalMaps": 6,
      "level": "info",
      "message": "Mapa gestionado creado: socket_typingUsers"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137825.7786,
    "timestamp": "2025-08-21T00:28:57.825Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_rateLimits",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.825Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_rateLimits",
      "totalMaps": 5,
      "level": "info",
      "message": "Mapa gestionado creado: socket_rateLimits"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137824.4507,
    "timestamp": "2025-08-21T00:28:57.824Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_userRoles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_userRoles",
      "totalMaps": 4,
      "level": "info",
      "message": "Mapa gestionado creado: socket_userRoles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137824.2725,
    "timestamp": "2025-08-21T00:28:57.824Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_conversationUsers",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_conversationUsers",
      "totalMaps": 3,
      "level": "info",
      "message": "Mapa gestionado creado: socket_conversationUsers"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137824.766,
    "timestamp": "2025-08-21T00:28:57.824Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_userConversations",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_userConversations",
      "totalMaps": 2,
      "level": "info",
      "message": "Mapa gestionado creado: socket_userConversations"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137824.5566,
    "timestamp": "2025-08-21T00:28:57.824Z",
    "level": "info",
    "category": "CACHE_MAP_CREATED",
    "message": "Mapa gestionado creado: socket_connectedUsers",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MAP_CREATED",
      "mapName": "socket_connectedUsers",
      "totalMaps": 1,
      "level": "info",
      "message": "Mapa gestionado creado: socket_connectedUsers"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137824.5173,
    "timestamp": "2025-08-21T00:28:57.824Z",
    "level": "info",
    "category": "SOCKET_MEMORY_INIT",
    "message": "🧠 Initializing managed memory maps...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_INIT",
      "level": "info",
      "message": "🧠 Initializing managed memory maps..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137823.5337,
    "timestamp": "2025-08-21T00:28:57.823Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "🚀 Initializing Enterprise Socket.IO Manager...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.823Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "nodeEnv": "production",
      "level": "info",
      "message": "🚀 Initializing Enterprise Socket.IO Manager..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137823.915,
    "timestamp": "2025-08-21T00:28:57.823Z",
    "level": "info",
    "category": "SOCKET_DEPS_INJECTION",
    "message": "Socket.IO: Dependencies injected",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.823Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_DEPS_INJECTION",
      "userModelAvailable": true,
      "conversationModelAvailable": true,
      "messageModelAvailable": true,
      "userModelType": "Function",
      "level": "info",
      "message": "Socket.IO: Dependencies injected"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137735.702,
    "timestamp": "2025-08-21T00:28:57.735Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "🔌 Inicializando Socket.IO enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.735Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "level": "info",
      "message": "🔌 Inicializando Socket.IO enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137734.5266,
    "timestamp": "2025-08-21T00:28:57.734Z",
    "level": "info",
    "category": "QUEUE_SERVICE_INIT",
    "message": "Servicios de colas inicializados correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.734Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "QUEUE_SERVICE_INIT",
      "level": "info",
      "message": "Servicios de colas inicializados correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137733.8938,
    "timestamp": "2025-08-21T00:28:57.733Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ Campaign Queue Service inicializado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.733Z",
      "service": "utalk-backend",
      "environment": "production",
      "redisConnected": true,
      "queuesCreated": [
        "campaign-processing",
        "message-processing"
      ],
      "twilioLimits": {
        "messagesPerSecond": 10,
        "messagesPerMinute": 600,
        "messagesPerHour": 36000,
        "maxConcurrent": 50
      },
      "optimizationLevel": "RAILWAY_OPTIMIZED",
      "level": "info",
      "message": "✅ Campaign Queue Service inicializado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137722.2761,
    "timestamp": "2025-08-21T00:28:57.722Z",
    "level": "info",
    "category": "REDIS_DEBUG",
    "message": "🔍 Debug Redis configuration:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.722Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REDIS_DEBUG",
      "redisUrl": "SET",
      "enableRedis": "true",
      "hasRedisUrl": true,
      "level": "info",
      "message": "🔍 Debug Redis configuration:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137722.8247,
    "timestamp": "2025-08-21T00:28:57.722Z",
    "level": "warn",
    "category": "RAILWAY_REDIS_CONFIG",
    "message": "⚠️ Detectada URL interna de Railway, verificando configuración",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.722Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_REDIS_CONFIG",
      "redisUrl": "redis://default:IJhnojCtJPPFHk...",
      "level": "warn",
      "message": "⚠️ Detectada URL interna de Railway, verificando configuración"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137722.136,
    "timestamp": "2025-08-21T00:28:57.722Z",
    "level": "info",
    "category": "REDIS_URL_DEBUG",
    "message": "🔍 Debug Redis URL configuration:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.722Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REDIS_URL_DEBUG",
      "redisUrl": "redis://default:IJhn...",
      "enableRedis": "true",
      "isRailway": false,
      "level": "info",
      "message": "🔍 Debug Redis URL configuration:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137721.9465,
    "timestamp": "2025-08-21T00:28:57.721Z",
    "level": "info",
    "category": "SERVICE_INIT_BACKGROUND",
    "message": "🔄 Inicializando servicios en segundo plano...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.721Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT_BACKGROUND",
      "level": "info",
      "message": "🔄 Inicializando servicios en segundo plano..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137721.7285,
    "timestamp": "2025-08-21T00:28:57.721Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION_SUCCESS",
    "message": "✅ Optimizaciones de inicio aplicadas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.721Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION_SUCCESS",
      "optimizationTime": "1107ms",
      "optimizationsApplied": 4,
      "level": "info",
      "message": "✅ Optimizaciones de inicio aplicadas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137721.2778,
    "timestamp": "2025-08-21T00:28:57.721Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION",
    "message": "⏱️ Timeouts agresivos configurados para Railway",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.721Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION",
      "timeouts": {
        "connectTimeout": 5000,
        "commandTimeout": 3000,
        "keepAlive": 30000,
        "maxRetries": 0,
        "retryDelay": 100,
        "maxLoadingTimeout": 5000,
        "healthCheckTimeout": 3000,
        "socketTimeout": 10000,
        "socketKeepAlive": 30000
      },
      "level": "info",
      "message": "⏱️ Timeouts agresivos configurados para Railway"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137719.808,
    "timestamp": "2025-08-21T00:28:57.719Z",
    "level": "info",
    "category": "STARTUP_OPTIMIZATION",
    "message": "🚀 Aplicando optimizaciones de inicio...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.718Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "STARTUP_OPTIMIZATION",
      "startTime": 1755736136614,
      "level": "info",
      "message": "🚀 Aplicando optimizaciones de inicio..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137717.8428,
    "timestamp": "2025-08-21T00:28:57.717Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "🎉 Servidor iniciado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.717Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTED",
      "startupTime": "33ms",
      "port": 3001,
      "level": "info",
      "message": "🎉 Servidor iniciado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137717.9026,
    "timestamp": "2025-08-21T00:28:57.717Z",
    "level": "info",
    "category": "HEALTH_MONITORING_SUCCESS",
    "message": "✅ Monitoreo de salud enterprise iniciado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.717Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_SUCCESS",
      "level": "info",
      "message": "✅ Monitoreo de salud enterprise iniciado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137717.9998,
    "timestamp": "2025-08-21T00:28:57.717Z",
    "level": "info",
    "category": "HEALTH_MONITORING_START",
    "message": "🏥 Iniciando monitoreo de salud enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.717Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_START",
      "level": "info",
      "message": "🏥 Iniciando monitoreo de salud enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137715.4683,
    "timestamp": "2025-08-21T00:28:57.715Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "🎉 Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.714Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTED",
      "port": 3001,
      "host": "0.0.0.0",
      "startupTime": "30ms",
      "memoryUsage": {
        "rss": 137428992,
        "heapTotal": 73367552,
        "heapUsed": 43020192,
        "external": 3459424,
        "arrayBuffers": 131868
      },
      "pid": 1,
      "address": {
        "address": "0.0.0.0",
        "family": "IPv4",
        "port": 3001
      },
      "railwayReady": true,
      "level": "info",
      "message": "🎉 Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137698.683,
    "timestamp": "2025-08-21T00:28:57.698Z",
    "level": "info",
    "category": "ERROR_HANDLING_SETUP_SUCCESS",
    "message": "✅ Manejo de errores mejorado configurado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.698Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ERROR_HANDLING_SETUP_SUCCESS",
      "level": "info",
      "message": "✅ Manejo de errores mejorado configurado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137697.461,
    "timestamp": "2025-08-21T00:28:57.697Z",
    "level": "info",
    "category": "ROUTES_SUCCESS",
    "message": "✅ Rutas configuradas exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.697Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SUCCESS",
      "totalRoutes": 40,
      "level": "info",
      "message": "✅ Rutas configuradas exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137695.0427,
    "timestamp": "2025-08-21T00:28:57.695Z",
    "level": "info",
    "category": "ROUTES_SETUP",
    "message": "🛣️ Configurando rutas de la aplicación...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SETUP",
      "level": "info",
      "message": "🛣️ Configurando rutas de la aplicación..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137692.5615,
    "timestamp": "2025-08-21T00:28:57.692Z",
    "level": "info",
    "category": "MIDDLEWARE_SUCCESS",
    "message": "✅ Middlewares básicos configurados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.692Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SUCCESS",
      "trustProxy": true,
      "level": "info",
      "message": "✅ Middlewares básicos configurados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137688.574,
    "timestamp": "2025-08-21T00:28:57.688Z",
    "level": "info",
    "category": "MIDDLEWARE_SETUP",
    "message": "🛡️ Configurando middlewares básicos...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.688Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SETUP",
      "level": "info",
      "message": "🛡️ Configurando middlewares básicos..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137685.738,
    "timestamp": "2025-08-21T00:28:57.685Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Variables Railway requeridas validadas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "requiredVars": [
        "PORT",
        "NODE_ENV"
      ],
      "level": "info",
      "message": "Variables Railway requeridas validadas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137685.1855,
    "timestamp": "2025-08-21T00:28:57.685Z",
    "level": "warn",
    "category": "ENV_VALIDATION",
    "message": "Variable obsoleta detectada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "variableName": "REDIS_URL",
      "recommendation": "Se puede eliminar de Railway",
      "level": "warn",
      "message": "Variable obsoleta detectada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137685.5242,
    "timestamp": "2025-08-21T00:28:57.685Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Validación de variables de entorno críticas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "criticalVars": {
        "PORT": "3001",
        "NODE_ENV": "production",
        "JWT_SECRET": "***SET***"
      },
      "level": "info",
      "message": "Validación de variables de entorno críticas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137685.8455,
    "timestamp": "2025-08-21T00:28:57.685Z",
    "level": "info",
    "category": "SERVER_INIT",
    "message": "🚀 Iniciando servidor optimizado...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_INIT",
      "startTime": 1755736137684,
      "level": "info",
      "message": "🚀 Iniciando servidor optimizado..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137678.4014,
    "timestamp": "2025-08-21T00:28:57.678Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Railway PORT configurado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.678Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "level": "info",
      "message": "Railway PORT configurado correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137678.525,
    "timestamp": "2025-08-21T00:28:57.678Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Verificando configuración de puerto Railway",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "portType": "string",
      "level": "info",
      "message": "Verificando configuración de puerto Railway"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137676.7004,
    "timestamp": "2025-08-21T00:28:57.676Z",
    "level": "info",
    "category": "ENV_VALIDATION_SUCCESS",
    "message": "✅ Validación de entorno completada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.676Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION_SUCCESS",
      "configKeys": 10,
      "level": "info",
      "message": "✅ Validación de entorno completada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137673.76,
    "timestamp": "2025-08-21T00:28:57.673Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "🔧 Iniciando validación de variables de entorno",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.673Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "level": "info",
      "message": "🔧 Iniciando validación de variables de entorno"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137673.042,
    "timestamp": "2025-08-21T00:28:57.673Z",
    "level": "info",
    "category": "LOG_DASHBOARD_INIT",
    "message": "✅ LogMonitorService importado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.673Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOG_DASHBOARD_INIT",
      "level": "info",
      "message": "✅ LogMonitorService importado correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137638.15,
    "timestamp": "2025-08-21T00:28:57.638Z",
    "level": "info",
    "category": "SHARDING_INIT_SUCCESS",
    "message": "✅ Enterprise Sharding Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.638Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT_SUCCESS",
      "level": "info",
      "message": "✅ Enterprise Sharding Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137637.8015,
    "timestamp": "2025-08-21T00:28:57.637Z",
    "level": "info",
    "category": "SHARDING_INIT",
    "message": "🚀 Initializing Enterprise Sharding Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.637Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT",
      "collections": [
        "messages",
        "conversations",
        "logs",
        "analytics"
      ],
      "level": "info",
      "message": "🚀 Initializing Enterprise Sharding Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137636.0957,
    "timestamp": "2025-08-21T00:28:57.636Z",
    "level": "info",
    "category": "BATCH_INIT_SUCCESS",
    "message": "✅ Enterprise Batch Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.636Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT_SUCCESS",
      "level": "info",
      "message": "✅ Enterprise Batch Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137635.018,
    "timestamp": "2025-08-21T00:28:57.635Z",
    "level": "info",
    "category": "BATCH_INIT",
    "message": "🚀 Initializing Enterprise Batch Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.635Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT",
      "batchSize": 500,
      "maxConcurrentBatches": 10,
      "retryAttempts": 3,
      "level": "info",
      "message": "🚀 Initializing Enterprise Batch Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137449.3782,
    "timestamp": "2025-08-21T00:28:57.449Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.449Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137231.1394,
    "timestamp": "2025-08-21T00:28:57.231Z",
    "level": "info",
    "category": "PERFORMANCE_METRICS_INIT",
    "message": "PerformanceMetricsService inicializado con optimizaciones",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.231Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "PERFORMANCE_METRICS_INIT",
      "batchSize": 50,
      "batchInterval": 5000,
      "level": "info",
      "message": "PerformanceMetricsService inicializado con optimizaciones"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736137085.9683,
    "timestamp": "2025-08-21T00:28:57.085Z",
    "level": "info",
    "category": "FIREBASE_SYNC_INIT",
    "message": "🔥 FIREBASE - Inicializado de forma inmediata (sync)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:57.085Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_SYNC_INIT",
      "projectId": "utalk-a893a",
      "appName": "[DEFAULT]",
      "firestoreAvailable": true,
      "storageAvailable": true,
      "level": "info",
      "message": "🔥 FIREBASE - Inicializado de forma inmediata (sync)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736136826.3682,
    "timestamp": "2025-08-21T00:28:56.826Z",
    "level": "info",
    "category": "RATE_LIMIT_REDIS_DEBUG",
    "message": "🔍 Debug Rate Limit Redis configuration:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:56.826Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_REDIS_DEBUG",
      "redisUrl": "SET",
      "enableRedis": "true",
      "hasRedisUrl": true,
      "level": "info",
      "message": "🔍 Debug Rate Limit Redis configuration:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736136759.4219,
    "timestamp": "2025-08-21T00:28:56.759Z",
    "level": "info",
    "category": "CACHE_INIT",
    "message": "✅ UnifiedCacheService inicializado con límites adaptativos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:56.759Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_INIT",
      "maxMapsPerInstance": 15737,
      "maxEntriesPerMap": 245183,
      "totalMemory": "384GB",
      "availableMemory": "120GB",
      "level": "info",
      "message": "✅ UnifiedCacheService inicializado con límites adaptativos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755736136614.6006,
    "timestamp": "2025-08-21T00:28:56.614Z",
    "level": "info",
    "category": "LOGGER_CONFIG",
    "message": "Logger configurado para Railway: solo errores críticos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:28:56.612Z",
      "service": "utalk-backend",
      "environment": "railway",
      "category": "LOGGER_CONFIG",
      "level": "info",
      "message": "Logger configurado para Railway: solo errores críticos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  }
]