[
  {
    "id": 1755734937359.4097,
    "timestamp": "2025-08-21T00:08:57.359Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "faf55111-7ded-4291-b122-1b1f0e995fdf",
      "timestamp": "2025-08-21T00:08:57.358Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "7ms",
      "responseSize": "75710 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "faf55111-7ded-4291-b122-1b1f0e995fdf"
      },
      "performance": {
        "duration": 7,
        "responseSize": 75710,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937353.6702,
    "timestamp": "2025-08-21T00:08:57.353Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.353Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937352.7864,
    "timestamp": "2025-08-21T00:08:57.352Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.352Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 468,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937351.3596,
    "timestamp": "2025-08-21T00:08:57.351Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "faf55111-7ded-4291-b122-1b1f0e995fdf",
      "timestamp": "2025-08-21T00:08:57.351Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937261.2568,
    "timestamp": "2025-08-21T00:08:57.261Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "dbc945ba-52cb-409e-a124-c8174a2826b3",
      "timestamp": "2025-08-21T00:08:57.261Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "12ms",
      "responseSize": "75157 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "dbc945ba-52cb-409e-a124-c8174a2826b3"
      },
      "performance": {
        "duration": 12,
        "responseSize": 75157,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937250.5327,
    "timestamp": "2025-08-21T00:08:57.250Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.250Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937250.373,
    "timestamp": "2025-08-21T00:08:57.250Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.250Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 464,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937248.061,
    "timestamp": "2025-08-21T00:08:57.248Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "dbc945ba-52cb-409e-a124-c8174a2826b3",
      "timestamp": "2025-08-21T00:08:57.248Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937247.065,
    "timestamp": "2025-08-21T00:08:57.247Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "01cfb1a5-6f67-4ee7-b5a7-b09ca4706a2d",
      "timestamp": "2025-08-21T00:08:57.246Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "10ms",
      "responseSize": "3491 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "01cfb1a5-6f67-4ee7-b5a7-b09ca4706a2d"
      },
      "performance": {
        "duration": 10,
        "responseSize": 3491,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937242.6802,
    "timestamp": "2025-08-21T00:08:57.242Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.242Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENVIANDO_RESPUESTA_",
      "data": {
        "success": true,
        "data": {
          "stats": {
            "total": 458,
            "lastHour": 458,
            "last24Hours": 458,
            "byLevel": {
              "info": 435,
              "warn": 17,
              "error": 5,
              "debug": 1
            },
            "byCategory": {
              "_OBTENIENDO_STATS_": 3,
              "HTTP_REQUEST_START": 18,
              "HTTP_SUCCESS": 16,
              "ENVIANDO_RESPUESTA_": 2,
              "_RATE_LIMIT_METRICS_OBTENIDOS_": 2,
              "_OBTENIENDO_RATE_LIMIT_METRICS": 2,
              "_STATS_OBTENIDOS_": 2,
              "SYSTEM": 103,
              "DASHBOARD": 1,
              "DASHBOARD_SECURITY": 1,
              "_DASHBOARD_HTML_SOLICITADO_DES": 1,
              "SOCKET_LISTENERS_VERIFICATION": 4,
              "SOCKET_LISTENERS_RE_REGISTERED": 6,
              "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_COMPLETE": 6,
              "SOCKET_INITIAL_SYNC_SEND": 6,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS": 6,
              "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_UNREAD": 6,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 6,
              "SOCKET_CONVERSATIONS_CALL_SUCCESS": 7,
              "SOCKET_CONVERSATIONS_CALL": 7,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS": 6,
              "SOCKET_INITIAL_SYNC_START": 6,
              "SOCKET_INITIAL_SYNC_IMMEDIATE": 6,
              "SOCKET_HEARTBEAT_SETUP": 6,
              "SOCKET_WORKSPACE_JOIN": 6,
              "SOCKET_USER_CONNECTED": 6,
              "SOCKET_AUTH_WORKSPACE_TEST": 6,
              "SOCKET_AUTH_SUCCESS": 6,
              "SOCKET_AUTH_DB_ERROR": 6,
              "SOCKET_AUTH_FIREBASE_AVAILABLE": 6,
              "SOCKET_AUTH_CLAIMS_EXTRACTED": 6,
              "SOCKET_AUTH_JWT_CONFIG": 6,
              "CORS_ALLOWED": 25,
              "SOCKET_CORS_ALLOWED": 6,
              "SOCKET_CORS_ORIGIN_ALLOWED_": 6,
              "_SOCKET_CORS_ORIGIN_CHECK_": 6,
              "SOCKET_METRICS": 1,
              "HTTP_SERVER_ERROR": 1,
              "RESPONSE_ERROR": 1,
              "SOCKET_EMIT_FILE_UPLOADED": 1,
              "SOCKET_CONVERSATION_FILES_UPDATED": 1,
              "SOCKET_FILE_COUNT_ERROR": 1,
              "SOCKET_EMIT_FILE_READY": 1,
              "image": 3,
              "AUTH_SUCCESS": 7,
              "AUTH_USER_FOUND": 7,
              "AUTH_USER_LOOKUP": 7,
              "AUTH_JWT_SUCCESS": 7,
              "AUTH_START": 8,
              "CORS_ORIGIN_ALLOWED_": 13,
              "_CORS_ORIGIN_CHECK_": 13,
              "HTTP_CLIENT_ERROR": 2,
              "ROUTE_NOT_FOUND": 1,
              "MESSAGES_API": 1,
              "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
              "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
              "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
              "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
              "SOCKET_SYNC_STATE": 1,
              "CACHE": 2,
              "CACHE_MISS": 1,
              "DB": 1,
              "CONVERSATIONS_API": 1,
              "SOCKET_LISTENERS_CREATION": 1,
              "SOCKET_FIREBASE_INIT_SUCCESS": 1,
              "AUTH_LOGIN_SUCCESS": 1,
              "AUTH_OPERATION": 6,
              "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATED": 1,
              "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
              "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
              "DATABASE_OPERATION": 3,
              "AUTH_LOGIN_START": 1,
              "AUTH_LOGOUT": 1,
              "AUTH_VERIFY_ACCESS_FAIL": 2,
              "AUTH_JWT_FAILURE": 1,
              "AUTH_TOKEN_EXPIRED": 1,
              "RESPUESTA_GETLOGS": 2,
              "LOGS_OBTENIDOS": 2,
              "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
              "RATE_LIMIT": 1,
              "MESSAGE": 1,
              "API": 1,
              "WEBSOCKET": 1,
              "DATABASE": 1,
              "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1
            },
            "topUsers": {
              "system": 447,
              "admin@company.com": 9,
              "anonymous": 1,
              "user_789": 1
            },
            "topEndpoints": {
              "unknown": 448,
              "/api/logs": 6,
              "/logs": 1,
              "/": 1,
              "/api/conversations": 1,
              "/api/auth/login": 1
            }
          },
          "rateLimitMetrics": {
            "total": 1,
            "lastHour": 1,
            "byUser": {},
            "byEndpoint": {},
            "timeline": [
              {
                "timestamp": "2025-08-20T23:08:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:13:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:18:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:23:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:28:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:33:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:38:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:43:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:48:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:53:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:58:57.241Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:03:57.241Z",
                "count": 1
              },
              {
                "timestamp": "2025-08-21T00:08:57.241Z",
                "count": 0
              }
            ]
          },
          "timestamp": "2025-08-21T00:08:57.242Z"
        }
      },
      "level": "info",
      "message": "Enviando respuesta:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937242.386,
    "timestamp": "2025-08-21T00:08:57.242Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "📈 Rate limit metrics obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.242Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
      "data": {
        "total": 1,
        "lastHour": 1,
        "byUser": {},
        "byEndpoint": {},
        "timeline": [
          {
            "timestamp": "2025-08-20T23:08:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:13:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:18:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:23:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:28:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:33:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:38:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:43:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:48:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:53:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:58:57.241Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:03:57.241Z",
            "count": 1
          },
          {
            "timestamp": "2025-08-21T00:08:57.241Z",
            "count": 0
          }
        ]
      },
      "level": "info",
      "message": "📈 Rate limit metrics obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937241.723,
    "timestamp": "2025-08-21T00:08:57.241Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "📈 Obteniendo rate limit metrics...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.241Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "📈 Obteniendo rate limit metrics..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937241.0667,
    "timestamp": "2025-08-21T00:08:57.241Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "📊 Stats obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.241Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_STATS_OBTENIDOS_",
      "data": {
        "total": 458,
        "lastHour": 458,
        "last24Hours": 458,
        "byLevel": {
          "info": 435,
          "warn": 17,
          "error": 5,
          "debug": 1
        },
        "byCategory": {
          "_OBTENIENDO_STATS_": 3,
          "HTTP_REQUEST_START": 18,
          "HTTP_SUCCESS": 16,
          "ENVIANDO_RESPUESTA_": 2,
          "_RATE_LIMIT_METRICS_OBTENIDOS_": 2,
          "_OBTENIENDO_RATE_LIMIT_METRICS": 2,
          "_STATS_OBTENIDOS_": 2,
          "SYSTEM": 103,
          "DASHBOARD": 1,
          "DASHBOARD_SECURITY": 1,
          "_DASHBOARD_HTML_SOLICITADO_DES": 1,
          "SOCKET_LISTENERS_VERIFICATION": 4,
          "SOCKET_LISTENERS_RE_REGISTERED": 6,
          "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_COMPLETE": 6,
          "SOCKET_INITIAL_SYNC_SEND": 6,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS": 6,
          "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_UNREAD": 6,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 6,
          "SOCKET_CONVERSATIONS_CALL_SUCCESS": 7,
          "SOCKET_CONVERSATIONS_CALL": 7,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS": 6,
          "SOCKET_INITIAL_SYNC_START": 6,
          "SOCKET_INITIAL_SYNC_IMMEDIATE": 6,
          "SOCKET_HEARTBEAT_SETUP": 6,
          "SOCKET_WORKSPACE_JOIN": 6,
          "SOCKET_USER_CONNECTED": 6,
          "SOCKET_AUTH_WORKSPACE_TEST": 6,
          "SOCKET_AUTH_SUCCESS": 6,
          "SOCKET_AUTH_DB_ERROR": 6,
          "SOCKET_AUTH_FIREBASE_AVAILABLE": 6,
          "SOCKET_AUTH_CLAIMS_EXTRACTED": 6,
          "SOCKET_AUTH_JWT_CONFIG": 6,
          "CORS_ALLOWED": 25,
          "SOCKET_CORS_ALLOWED": 6,
          "SOCKET_CORS_ORIGIN_ALLOWED_": 6,
          "_SOCKET_CORS_ORIGIN_CHECK_": 6,
          "SOCKET_METRICS": 1,
          "HTTP_SERVER_ERROR": 1,
          "RESPONSE_ERROR": 1,
          "SOCKET_EMIT_FILE_UPLOADED": 1,
          "SOCKET_CONVERSATION_FILES_UPDATED": 1,
          "SOCKET_FILE_COUNT_ERROR": 1,
          "SOCKET_EMIT_FILE_READY": 1,
          "image": 3,
          "AUTH_SUCCESS": 7,
          "AUTH_USER_FOUND": 7,
          "AUTH_USER_LOOKUP": 7,
          "AUTH_JWT_SUCCESS": 7,
          "AUTH_START": 8,
          "CORS_ORIGIN_ALLOWED_": 13,
          "_CORS_ORIGIN_CHECK_": 13,
          "HTTP_CLIENT_ERROR": 2,
          "ROUTE_NOT_FOUND": 1,
          "MESSAGES_API": 1,
          "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
          "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
          "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
          "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
          "SOCKET_SYNC_STATE": 1,
          "CACHE": 2,
          "CACHE_MISS": 1,
          "DB": 1,
          "CONVERSATIONS_API": 1,
          "SOCKET_LISTENERS_CREATION": 1,
          "SOCKET_FIREBASE_INIT_SUCCESS": 1,
          "AUTH_LOGIN_SUCCESS": 1,
          "AUTH_OPERATION": 6,
          "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATED": 1,
          "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
          "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
          "DATABASE_OPERATION": 3,
          "AUTH_LOGIN_START": 1,
          "AUTH_LOGOUT": 1,
          "AUTH_VERIFY_ACCESS_FAIL": 2,
          "AUTH_JWT_FAILURE": 1,
          "AUTH_TOKEN_EXPIRED": 1,
          "RESPUESTA_GETLOGS": 2,
          "LOGS_OBTENIDOS": 2,
          "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
          "RATE_LIMIT": 1,
          "MESSAGE": 1,
          "API": 1,
          "WEBSOCKET": 1,
          "DATABASE": 1,
          "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1
        },
        "topUsers": {
          "system": 447,
          "admin@company.com": 9,
          "anonymous": 1,
          "user_789": 1
        },
        "topEndpoints": {
          "unknown": 448,
          "/api/logs": 6,
          "/logs": 1,
          "/": 1,
          "/api/conversations": 1,
          "/api/auth/login": 1
        }
      },
      "level": "info",
      "message": "📊 Stats obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937237.9045,
    "timestamp": "2025-08-21T00:08:57.237Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "📊 Obteniendo stats...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.237Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "📊 Obteniendo stats..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937236.9443,
    "timestamp": "2025-08-21T00:08:57.236Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "01cfb1a5-6f67-4ee7-b5a7-b09ca4706a2d",
      "timestamp": "2025-08-21T00:08:57.236Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937081.7673,
    "timestamp": "2025-08-21T00:08:57.081Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5f7a9211-8609-4a2c-9abd-22898cab6d63",
      "timestamp": "2025-08-21T00:08:57.081Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "5ms",
      "responseSize": "3491 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "5f7a9211-8609-4a2c-9abd-22898cab6d63"
      },
      "performance": {
        "duration": 5,
        "responseSize": 3491,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937078.8474,
    "timestamp": "2025-08-21T00:08:57.078Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.078Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENVIANDO_RESPUESTA_",
      "data": {
        "success": true,
        "data": {
          "stats": {
            "total": 451,
            "lastHour": 451,
            "last24Hours": 451,
            "byLevel": {
              "info": 428,
              "warn": 17,
              "error": 5,
              "debug": 1
            },
            "byCategory": {
              "_OBTENIENDO_STATS_": 2,
              "HTTP_REQUEST_START": 17,
              "HTTP_SUCCESS": 15,
              "SYSTEM": 103,
              "DASHBOARD": 1,
              "DASHBOARD_SECURITY": 1,
              "_DASHBOARD_HTML_SOLICITADO_DES": 1,
              "SOCKET_LISTENERS_VERIFICATION": 4,
              "SOCKET_LISTENERS_RE_REGISTERED": 6,
              "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_COMPLETE": 6,
              "SOCKET_INITIAL_SYNC_SEND": 6,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_ONLINE_USERS": 6,
              "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 6,
              "SOCKET_INITIAL_SYNC_UNREAD": 6,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 6,
              "SOCKET_CONVERSATIONS_CALL_SUCCESS": 7,
              "SOCKET_CONVERSATIONS_CALL": 7,
              "SOCKET_INITIAL_SYNC_CONVERSATIONS": 6,
              "SOCKET_INITIAL_SYNC_START": 6,
              "SOCKET_INITIAL_SYNC_IMMEDIATE": 6,
              "SOCKET_HEARTBEAT_SETUP": 6,
              "SOCKET_WORKSPACE_JOIN": 6,
              "SOCKET_USER_CONNECTED": 6,
              "SOCKET_AUTH_WORKSPACE_TEST": 6,
              "SOCKET_AUTH_SUCCESS": 6,
              "SOCKET_AUTH_DB_ERROR": 6,
              "SOCKET_AUTH_FIREBASE_AVAILABLE": 6,
              "SOCKET_AUTH_CLAIMS_EXTRACTED": 6,
              "SOCKET_AUTH_JWT_CONFIG": 6,
              "CORS_ALLOWED": 25,
              "SOCKET_CORS_ALLOWED": 6,
              "SOCKET_CORS_ORIGIN_ALLOWED_": 6,
              "_SOCKET_CORS_ORIGIN_CHECK_": 6,
              "SOCKET_METRICS": 1,
              "HTTP_SERVER_ERROR": 1,
              "RESPONSE_ERROR": 1,
              "SOCKET_EMIT_FILE_UPLOADED": 1,
              "SOCKET_CONVERSATION_FILES_UPDATED": 1,
              "SOCKET_FILE_COUNT_ERROR": 1,
              "SOCKET_EMIT_FILE_READY": 1,
              "image": 3,
              "AUTH_SUCCESS": 7,
              "AUTH_USER_FOUND": 7,
              "AUTH_USER_LOOKUP": 7,
              "AUTH_JWT_SUCCESS": 7,
              "AUTH_START": 8,
              "CORS_ORIGIN_ALLOWED_": 13,
              "_CORS_ORIGIN_CHECK_": 13,
              "HTTP_CLIENT_ERROR": 2,
              "ROUTE_NOT_FOUND": 1,
              "MESSAGES_API": 1,
              "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
              "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
              "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
              "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
              "SOCKET_SYNC_STATE": 1,
              "CACHE": 2,
              "CACHE_MISS": 1,
              "DB": 1,
              "CONVERSATIONS_API": 1,
              "SOCKET_LISTENERS_CREATION": 1,
              "SOCKET_FIREBASE_INIT_SUCCESS": 1,
              "AUTH_LOGIN_SUCCESS": 1,
              "AUTH_OPERATION": 6,
              "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATE_SUCCESS": 1,
              "REFRESH_TOKEN_CREATED": 1,
              "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
              "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
              "DATABASE_OPERATION": 3,
              "AUTH_LOGIN_START": 1,
              "AUTH_LOGOUT": 1,
              "AUTH_VERIFY_ACCESS_FAIL": 2,
              "AUTH_JWT_FAILURE": 1,
              "AUTH_TOKEN_EXPIRED": 1,
              "RESPUESTA_GETLOGS": 2,
              "LOGS_OBTENIDOS": 2,
              "ENVIANDO_RESPUESTA_": 1,
              "_RATE_LIMIT_METRICS_OBTENIDOS_": 1,
              "_OBTENIENDO_RATE_LIMIT_METRICS": 1,
              "_STATS_OBTENIDOS_": 1,
              "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
              "RATE_LIMIT": 1,
              "MESSAGE": 1,
              "API": 1,
              "WEBSOCKET": 1,
              "DATABASE": 1,
              "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1
            },
            "topUsers": {
              "system": 440,
              "admin@company.com": 9,
              "anonymous": 1,
              "user_789": 1
            },
            "topEndpoints": {
              "unknown": 441,
              "/api/logs": 6,
              "/logs": 1,
              "/": 1,
              "/api/conversations": 1,
              "/api/auth/login": 1
            }
          },
          "rateLimitMetrics": {
            "total": 1,
            "lastHour": 1,
            "byUser": {},
            "byEndpoint": {},
            "timeline": [
              {
                "timestamp": "2025-08-20T23:08:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:13:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:18:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:23:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:28:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:33:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:38:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:43:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:48:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:53:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:58:57.078Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:03:57.078Z",
                "count": 1
              },
              {
                "timestamp": "2025-08-21T00:08:57.078Z",
                "count": 0
              }
            ]
          },
          "timestamp": "2025-08-21T00:08:57.078Z"
        }
      },
      "level": "info",
      "message": "Enviando respuesta:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937078.6685,
    "timestamp": "2025-08-21T00:08:57.078Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "📈 Rate limit metrics obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.078Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
      "data": {
        "total": 1,
        "lastHour": 1,
        "byUser": {},
        "byEndpoint": {},
        "timeline": [
          {
            "timestamp": "2025-08-20T23:08:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:13:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:18:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:23:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:28:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:33:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:38:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:43:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:48:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:53:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:58:57.078Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:03:57.078Z",
            "count": 1
          },
          {
            "timestamp": "2025-08-21T00:08:57.078Z",
            "count": 0
          }
        ]
      },
      "level": "info",
      "message": "📈 Rate limit metrics obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937078.697,
    "timestamp": "2025-08-21T00:08:57.078Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "📈 Obteniendo rate limit metrics...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.078Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "📈 Obteniendo rate limit metrics..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937078.2544,
    "timestamp": "2025-08-21T00:08:57.078Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "📊 Stats obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.078Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_STATS_OBTENIDOS_",
      "data": {
        "total": 451,
        "lastHour": 451,
        "last24Hours": 451,
        "byLevel": {
          "info": 428,
          "warn": 17,
          "error": 5,
          "debug": 1
        },
        "byCategory": {
          "_OBTENIENDO_STATS_": 2,
          "HTTP_REQUEST_START": 17,
          "HTTP_SUCCESS": 15,
          "SYSTEM": 103,
          "DASHBOARD": 1,
          "DASHBOARD_SECURITY": 1,
          "_DASHBOARD_HTML_SOLICITADO_DES": 1,
          "SOCKET_LISTENERS_VERIFICATION": 4,
          "SOCKET_LISTENERS_RE_REGISTERED": 6,
          "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_COMPLETE": 6,
          "SOCKET_INITIAL_SYNC_SEND": 6,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_ONLINE_USERS": 6,
          "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS": 6,
          "SOCKET_INITIAL_SYNC_UNREAD": 6,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS": 6,
          "SOCKET_CONVERSATIONS_CALL_SUCCESS": 7,
          "SOCKET_CONVERSATIONS_CALL": 7,
          "SOCKET_INITIAL_SYNC_CONVERSATIONS": 6,
          "SOCKET_INITIAL_SYNC_START": 6,
          "SOCKET_INITIAL_SYNC_IMMEDIATE": 6,
          "SOCKET_HEARTBEAT_SETUP": 6,
          "SOCKET_WORKSPACE_JOIN": 6,
          "SOCKET_USER_CONNECTED": 6,
          "SOCKET_AUTH_WORKSPACE_TEST": 6,
          "SOCKET_AUTH_SUCCESS": 6,
          "SOCKET_AUTH_DB_ERROR": 6,
          "SOCKET_AUTH_FIREBASE_AVAILABLE": 6,
          "SOCKET_AUTH_CLAIMS_EXTRACTED": 6,
          "SOCKET_AUTH_JWT_CONFIG": 6,
          "CORS_ALLOWED": 25,
          "SOCKET_CORS_ALLOWED": 6,
          "SOCKET_CORS_ORIGIN_ALLOWED_": 6,
          "_SOCKET_CORS_ORIGIN_CHECK_": 6,
          "SOCKET_METRICS": 1,
          "HTTP_SERVER_ERROR": 1,
          "RESPONSE_ERROR": 1,
          "SOCKET_EMIT_FILE_UPLOADED": 1,
          "SOCKET_CONVERSATION_FILES_UPDATED": 1,
          "SOCKET_FILE_COUNT_ERROR": 1,
          "SOCKET_EMIT_FILE_READY": 1,
          "image": 3,
          "AUTH_SUCCESS": 7,
          "AUTH_USER_FOUND": 7,
          "AUTH_USER_LOOKUP": 7,
          "AUTH_JWT_SUCCESS": 7,
          "AUTH_START": 8,
          "CORS_ORIGIN_ALLOWED_": 13,
          "_CORS_ORIGIN_CHECK_": 13,
          "HTTP_CLIENT_ERROR": 2,
          "ROUTE_NOT_FOUND": 1,
          "MESSAGES_API": 1,
          "SOCKET_JOIN_CONVERSATION_SUCCESS": 1,
          "SOCKET_JOIN_CONVERSATION_SYNC_SENT": 1,
          "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT": 1,
          "SOCKET_PERMISSION_DIRECT_PARTICIPANT": 1,
          "SOCKET_SYNC_STATE": 1,
          "CACHE": 2,
          "CACHE_MISS": 1,
          "DB": 1,
          "CONVERSATIONS_API": 1,
          "SOCKET_LISTENERS_CREATION": 1,
          "SOCKET_FIREBASE_INIT_SUCCESS": 1,
          "AUTH_LOGIN_SUCCESS": 1,
          "AUTH_OPERATION": 6,
          "REFRESH_TOKEN_GENERATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATE_SUCCESS": 1,
          "REFRESH_TOKEN_CREATED": 1,
          "REFRESH_TOKEN_INDEXES_SUCCESS": 1,
          "REFRESH_TOKEN_FIRESTORE_SUCCESS": 1,
          "DATABASE_OPERATION": 3,
          "AUTH_LOGIN_START": 1,
          "AUTH_LOGOUT": 1,
          "AUTH_VERIFY_ACCESS_FAIL": 2,
          "AUTH_JWT_FAILURE": 1,
          "AUTH_TOKEN_EXPIRED": 1,
          "RESPUESTA_GETLOGS": 2,
          "LOGS_OBTENIDOS": 2,
          "ENVIANDO_RESPUESTA_": 1,
          "_RATE_LIMIT_METRICS_OBTENIDOS_": 1,
          "_OBTENIENDO_RATE_LIMIT_METRICS": 1,
          "_STATS_OBTENIDOS_": 1,
          "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
          "RATE_LIMIT": 1,
          "MESSAGE": 1,
          "API": 1,
          "WEBSOCKET": 1,
          "DATABASE": 1,
          "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1
        },
        "topUsers": {
          "system": 440,
          "admin@company.com": 9,
          "anonymous": 1,
          "user_789": 1
        },
        "topEndpoints": {
          "unknown": 441,
          "/api/logs": 6,
          "/logs": 1,
          "/": 1,
          "/api/conversations": 1,
          "/api/auth/login": 1
        }
      },
      "level": "info",
      "message": "📊 Stats obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937076.9497,
    "timestamp": "2025-08-21T00:08:57.077Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "📊 Obteniendo stats...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:57.076Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "📊 Obteniendo stats..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734937076.5645,
    "timestamp": "2025-08-21T00:08:57.076Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5f7a9211-8609-4a2c-9abd-22898cab6d63",
      "timestamp": "2025-08-21T00:08:57.075Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734936994.9797,
    "timestamp": "2025-08-21T00:08:56.994Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "0961687c-c1dd-4ab7-823c-cc3a3c12b504",
      "timestamp": "2025-08-21T00:08:56.994Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "3ms",
      "responseSize": "10534 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/javascript; charset=utf-8",
        "x-request-id": "0961687c-c1dd-4ab7-823c-cc3a3c12b504"
      },
      "performance": {
        "duration": 3,
        "responseSize": 10534,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734936991.8591,
    "timestamp": "2025-08-21T00:08:56.991Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "0961687c-c1dd-4ab7-823c-cc3a3c12b504",
      "timestamp": "2025-08-21T00:08:56.991Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734936941.906,
    "timestamp": "2025-08-21T00:08:56.941Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:56.941Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734936882.467,
    "timestamp": "2025-08-21T00:08:56.882Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755734936882.3555,
    "timestamp": "2025-08-21T00:08:56.882Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "0b02b5b1-bd83-430a-8362-80416955b8a9",
      "timestamp": "2025-08-21T00:08:56.882Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "0b02b5b1-bd83-430a-8362-80416955b8a9",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734936881.5798,
    "timestamp": "2025-08-21T00:08:56.881Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "📊 Dashboard HTML solicitado desde:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:56.881Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "📊 Dashboard HTML solicitado desde:"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.916,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 6,
      "totalReRegistered": 4,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.866,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "lztmSXIM...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.2224,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.5427,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.2844,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926940.1309,
    "timestamp": "2025-08-21T00:08:46.940Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.940Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "59Qhbzpz...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926939.9207,
    "timestamp": "2025-08-21T00:08:46.939Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926939.2473,
    "timestamp": "2025-08-21T00:08:46.939Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734926939.4927,
    "timestamp": "2025-08-21T00:08:46.939Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:46.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918551.7585,
    "timestamp": "2025-08-21T00:08:38.551Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918551.7346,
    "timestamp": "2025-08-21T00:08:38.551Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "lztmSXIM...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918550.8564,
    "timestamp": "2025-08-21T00:08:38.550Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.550Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918550.4675,
    "timestamp": "2025-08-21T00:08:38.550Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.550Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918550.852,
    "timestamp": "2025-08-21T00:08:38.550Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.550Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918550.649,
    "timestamp": "2025-08-21T00:08:38.550Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.550Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918289.314,
    "timestamp": "2025-08-21T00:08:38.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918289.7317,
    "timestamp": "2025-08-21T00:08:38.289Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918289.7632,
    "timestamp": "2025-08-21T00:08:38.289Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.289Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918169.018,
    "timestamp": "2025-08-21T00:08:38.169Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.169Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918169.9624,
    "timestamp": "2025-08-21T00:08:38.169Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.169Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918169.0667,
    "timestamp": "2025-08-21T00:08:38.169Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.169Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918169.002,
    "timestamp": "2025-08-21T00:08:38.169Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.169Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "lztmSXIM...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918169.7788,
    "timestamp": "2025-08-21T00:08:38.169Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.168Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918168.2898,
    "timestamp": "2025-08-21T00:08:38.168Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.168Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "lztmSXIM...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918168.0706,
    "timestamp": "2025-08-21T00:08:38.168Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.168Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918067.7292,
    "timestamp": "2025-08-21T00:08:38.067Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.067Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918067.2483,
    "timestamp": "2025-08-21T00:08:38.067Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.067Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:38.066Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.045,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "lztmSXIM...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.1863,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.3467,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.251,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.4858,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918066.5154,
    "timestamp": "2025-08-21T00:08:38.066Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.066Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734918064.1477,
    "timestamp": "2025-08-21T00:08:38.064Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:38.064Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "lztmSXIMXHos9A3IAAAQ",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917983.6165,
    "timestamp": "2025-08-21T00:08:37.983Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917983.923,
    "timestamp": "2025-08-21T00:08:37.983Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917983.0706,
    "timestamp": "2025-08-21T00:08:37.983Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917983.2837,
    "timestamp": "2025-08-21T00:08:37.983Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917983.4958,
    "timestamp": "2025-08-21T00:08:37.983Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917808.3044,
    "timestamp": "2025-08-21T00:08:37.808Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.808Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917803.0198,
    "timestamp": "2025-08-21T00:08:37.803Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "59Qhbzpz...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917803.0474,
    "timestamp": "2025-08-21T00:08:37.803Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917803.471,
    "timestamp": "2025-08-21T00:08:37.803Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917803.598,
    "timestamp": "2025-08-21T00:08:37.803Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917802.7468,
    "timestamp": "2025-08-21T00:08:37.802Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.802Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917486.699,
    "timestamp": "2025-08-21T00:08:37.486Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.486Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917486.809,
    "timestamp": "2025-08-21T00:08:37.486Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.486Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917486.4397,
    "timestamp": "2025-08-21T00:08:37.486Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.486Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.6035,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.3596,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.9536,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.713,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "59Qhbzpz...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.221,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.1929,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "59Qhbzpz...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917418.4429,
    "timestamp": "2025-08-21T00:08:37.418Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.418Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917316.1895,
    "timestamp": "2025-08-21T00:08:37.316Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.316Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917316.1086,
    "timestamp": "2025-08-21T00:08:37.316Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.316Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:37.316Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917316.5535,
    "timestamp": "2025-08-21T00:08:37.316Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.316Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "59Qhbzpz...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917315.3142,
    "timestamp": "2025-08-21T00:08:37.315Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917315.0613,
    "timestamp": "2025-08-21T00:08:37.315Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917315.3086,
    "timestamp": "2025-08-21T00:08:37.315Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917315.5789,
    "timestamp": "2025-08-21T00:08:37.315Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917315.139,
    "timestamp": "2025-08-21T00:08:37.315Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917313.9905,
    "timestamp": "2025-08-21T00:08:37.313Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.313Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "59QhbzpzQA9YuPRFAAAN",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917123.1753,
    "timestamp": "2025-08-21T00:08:37.123Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917123.2378,
    "timestamp": "2025-08-21T00:08:37.123Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917123.3425,
    "timestamp": "2025-08-21T00:08:37.123Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917123.2454,
    "timestamp": "2025-08-21T00:08:37.123Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734917123.631,
    "timestamp": "2025-08-21T00:08:37.123Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:37.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734916938.1768,
    "timestamp": "2025-08-21T00:08:36.938Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:36.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 4,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734916938.4824,
    "timestamp": "2025-08-21T00:08:36.938Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:36.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "CtgKshkW...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734916938.2913,
    "timestamp": "2025-08-21T00:08:36.938Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:36.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734916938.7537,
    "timestamp": "2025-08-21T00:08:36.938Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:36.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734916938.3406,
    "timestamp": "2025-08-21T00:08:36.938Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:36.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915709.211,
    "timestamp": "2025-08-21T00:08:35.709Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.709Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915709.341,
    "timestamp": "2025-08-21T00:08:35.709Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.709Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "CtgKshkW...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915708.3267,
    "timestamp": "2025-08-21T00:08:35.708Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.708Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915708.6113,
    "timestamp": "2025-08-21T00:08:35.708Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.708Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915708.15,
    "timestamp": "2025-08-21T00:08:35.708Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.708Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915708.2656,
    "timestamp": "2025-08-21T00:08:35.708Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.708Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915397.205,
    "timestamp": "2025-08-21T00:08:35.397Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.397Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915396.2483,
    "timestamp": "2025-08-21T00:08:35.397Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.396Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915396.6416,
    "timestamp": "2025-08-21T00:08:35.396Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.396Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.164,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.042,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.566,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.0771,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "CtgKshkW...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.8506,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.2737,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "CtgKshkW...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915327.3848,
    "timestamp": "2025-08-21T00:08:35.327Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915225.4375,
    "timestamp": "2025-08-21T00:08:35.225Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915225.829,
    "timestamp": "2025-08-21T00:08:35.225Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:35.225Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915225.8503,
    "timestamp": "2025-08-21T00:08:35.225Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "CtgKshkW...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915225.7178,
    "timestamp": "2025-08-21T00:08:35.225Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915224.6787,
    "timestamp": "2025-08-21T00:08:35.224Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.224Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915223.721,
    "timestamp": "2025-08-21T00:08:35.223Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.223Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915223.5244,
    "timestamp": "2025-08-21T00:08:35.223Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.223Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915223.4685,
    "timestamp": "2025-08-21T00:08:35.223Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.223Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915221.994,
    "timestamp": "2025-08-21T00:08:35.221Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.221Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "CtgKshkW9tKgyAaXAAAK",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915086.9607,
    "timestamp": "2025-08-21T00:08:35.086Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.086Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915086.8872,
    "timestamp": "2025-08-21T00:08:35.086Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.086Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915086.2756,
    "timestamp": "2025-08-21T00:08:35.086Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.086Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915086.8987,
    "timestamp": "2025-08-21T00:08:35.086Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.086Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734915086.5425,
    "timestamp": "2025-08-21T00:08:35.086Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:35.086Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906943.0808,
    "timestamp": "2025-08-21T00:08:26.943Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.942Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906938.9485,
    "timestamp": "2025-08-21T00:08:26.938Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 3,
      "totalReRegistered": 4,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906938.5132,
    "timestamp": "2025-08-21T00:08:26.938Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "hNypNlqC...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906938.8708,
    "timestamp": "2025-08-21T00:08:26.938Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906938.4321,
    "timestamp": "2025-08-21T00:08:26.938Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906937.2659,
    "timestamp": "2025-08-21T00:08:26.937Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.937Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906937.519,
    "timestamp": "2025-08-21T00:08:26.937Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.937Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "hLo_xkx0...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906937.3262,
    "timestamp": "2025-08-21T00:08:26.937Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.937Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906937.4233,
    "timestamp": "2025-08-21T00:08:26.937Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906936.13,
    "timestamp": "2025-08-21T00:08:26.936Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.936Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734906933.0085,
    "timestamp": "2025-08-21T00:08:26.933Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:26.932Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 2
      },
      "period": "60007ms",
      "memoryUsage": {
        "rss": 138465280,
        "heapTotal": 64274432,
        "heapUsed": 54607496,
        "external": 4842535,
        "arrayBuffers": 1211420
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902836.2395,
    "timestamp": "2025-08-21T00:08:22.836Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.835Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902835.1528,
    "timestamp": "2025-08-21T00:08:22.835Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "hNypNlqC...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902834.584,
    "timestamp": "2025-08-21T00:08:22.834Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902834.7378,
    "timestamp": "2025-08-21T00:08:22.834Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902834.4834,
    "timestamp": "2025-08-21T00:08:22.834Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902834.8647,
    "timestamp": "2025-08-21T00:08:22.834Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.834Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902539.9648,
    "timestamp": "2025-08-21T00:08:22.539Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.539Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902539.0173,
    "timestamp": "2025-08-21T00:08:22.539Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.539Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902539.8699,
    "timestamp": "2025-08-21T00:08:22.539Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.539Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.8555,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.709,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.589,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.6914,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "hNypNlqC...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.9255,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.1184,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "hNypNlqC...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902460.0376,
    "timestamp": "2025-08-21T00:08:22.460Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.460Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902356.032,
    "timestamp": "2025-08-21T00:08:22.356Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902356.6926,
    "timestamp": "2025-08-21T00:08:22.356Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:22.356Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902356.4016,
    "timestamp": "2025-08-21T00:08:22.356Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.356Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "hNypNlqC...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902355.8767,
    "timestamp": "2025-08-21T00:08:22.355Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.355Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902355.546,
    "timestamp": "2025-08-21T00:08:22.355Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.355Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902355.7434,
    "timestamp": "2025-08-21T00:08:22.355Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.355Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902355.5344,
    "timestamp": "2025-08-21T00:08:22.355Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.355Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902355.425,
    "timestamp": "2025-08-21T00:08:22.355Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.355Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902353.4795,
    "timestamp": "2025-08-21T00:08:22.353Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.353Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "hNypNlqCADO5Kr-yAAAH",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902273.7217,
    "timestamp": "2025-08-21T00:08:22.273Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.272Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902272.5483,
    "timestamp": "2025-08-21T00:08:22.272Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.272Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902272.369,
    "timestamp": "2025-08-21T00:08:22.272Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.272Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902272.982,
    "timestamp": "2025-08-21T00:08:22.272Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.272Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734902272.8232,
    "timestamp": "2025-08-21T00:08:22.272Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:22.272Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900051.729,
    "timestamp": "2025-08-21T00:08:20.051Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.051Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900050.1824,
    "timestamp": "2025-08-21T00:08:20.050Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.050Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "socketId": "hLo_xkx0...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900049.1138,
    "timestamp": "2025-08-21T00:08:20.049Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.049Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900049.619,
    "timestamp": "2025-08-21T00:08:20.049Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.049Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 1,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900049.9358,
    "timestamp": "2025-08-21T00:08:20.049Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.049Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734900049.542,
    "timestamp": "2025-08-21T00:08:20.049Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:20.049Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899851.7334,
    "timestamp": "2025-08-21T00:08:19.851Z",
    "level": "error",
    "category": "HTTP_SERVER_ERROR",
    "message": "❌ Petición HTTP con error",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:19.833Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SERVER_ERROR",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/upload",
      "statusCode": 500,
      "statusMessage": "Internal Server Error",
      "duration": "1151ms",
      "responseSize": "369 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "369",
        "x-request-id": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e"
      },
      "performance": {
        "duration": 1151,
        "responseSize": 369,
        "isSlow": true,
        "isLarge": false
      },
      "level": "error",
      "message": "❌ Petición HTTP con error"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899832.802,
    "timestamp": "2025-08-21T00:08:19.832Z",
    "level": "warn",
    "category": "RESPONSE_ERROR",
    "message": "ResponseHandler.error Intenta nuevamente o contacta soporte si el problema persiste",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.832Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPONSE_ERROR",
      "statusCode": 500,
      "errorType": "UPLOAD_FAILED",
      "errorCode": "Error subiendo archivo",
      "message": "ResponseHandler.error Intenta nuevamente o contacta soporte si el problema persiste",
      "level": "warn"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899831.7776,
    "timestamp": "2025-08-21T00:08:19.831Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ Error subiendo archivo (FASE 4)",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "timestamp": "2025-08-21T00:08:19.813Z",
      "service": "utalk-backend",
      "environment": "production",
      "error": "Cannot read properties of undefined (reading 'startsWith')",
      "stack": [
        "TypeError: Cannot read properties of undefined (reading 'startsWith')",
        "    at MediaUploadController.getFileType (/app/src/controllers/MediaUploadController.js:1171:18)",
        "    at MediaUploadController.uploadMedia (/app/src/controllers/MediaUploadController.js:286:20)",
        "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"
      ],
      "errorInfo": {
        "hasError": true,
        "errorExists": true,
        "errorType": "TypeError",
        "hasMessage": true,
        "hasStack": true,
        "errorString": "TypeError: Cannot read properties of undefined (reading 'startsWith')",
        "errorJSON": "{\"stack\":\"TypeError: Cannot read properties of undefined (reading 'startsWith')\\n    at MediaUploadController.getFileType (/app/src/controllers/MediaUploadController.js:1171:18)\\n    at MediaUploadController.uploadMedia (/app/src/controllers/MediaUploadController.js:286:20)\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\",\"message\":\"Cannot read properties of undefined (reading 'startsWith')\"}"
      },
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "fileName": "Captura de pantalla 2025-08-20 a las 3.32.07â¯p.â¯m..png",
      "fileSize": 265418,
      "mimetype": "image/png",
      "hasFileBuffer": true,
      "fileBufferSize": 265418,
      "requestMethod": "POST",
      "requestUrl": "/upload",
      "requestIP": "189.253.97.13",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "requestHeaders": {
        "contentType": "multipart/form-data; boundary=----WebKitFormBoundaryRn6zyJ0pubFXyAob",
        "contentLength": "265784",
        "origin": "http://localhost:5173"
      },
      "hasBody": true,
      "bodyKeys": [
        "conversationId"
      ],
      "hasFile": true,
      "fileKeys": [
        "fieldname",
        "originalname",
        "encoding",
        "mimetype",
        "buffer",
        "size"
      ],
      "errorTimestamp": "2025-08-21T00:08:19.813Z",
      "level": "error",
      "message": "❌ Error subiendo archivo (FASE 4)"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899813.2393,
    "timestamp": "2025-08-21T00:08:19.813Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "⚠️ Error generando preview automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.813Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "error": "this.isImage is not a function",
      "level": "warn",
      "message": "⚠️ Error generando preview automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899812.1494,
    "timestamp": "2025-08-21T00:08:19.812Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ Error generando preview completo",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.793Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "error": "this.isImage is not a function",
      "level": "error",
      "message": "❌ Error generando preview completo"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899729.5923,
    "timestamp": "2025-08-21T00:08:19.729Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.729Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899729.3186,
    "timestamp": "2025-08-21T00:08:19.729Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.729Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899729.468,
    "timestamp": "2025-08-21T00:08:19.729Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.729Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.1123,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.608,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.163,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.8274,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "hLo_xkx0...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.667,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899594.929,
    "timestamp": "2025-08-21T00:08:19.594Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.593Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "hLo_xkx0...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899593.62,
    "timestamp": "2025-08-21T00:08:19.593Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.593Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899533.3533,
    "timestamp": "2025-08-21T00:08:19.533Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🖼️ Generando preview completo",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.533Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "width": 300,
      "height": 300,
      "quality": 80,
      "format": "webp",
      "level": "info",
      "message": "🖼️ Generando preview completo"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899533.8215,
    "timestamp": "2025-08-21T00:08:19.533Z",
    "level": "info",
    "category": "SOCKET_EMIT_FILE_UPLOADED",
    "message": "Evento de archivo subido emitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.533Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EMIT_FILE_UPLOADED",
      "fileId": "d3874cba-e997-45f7-8...",
      "conversationId": "conv_+5214773790184_...",
      "uploadedBy": "admin@company.com...",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Evento de archivo subido emitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899533.1492,
    "timestamp": "2025-08-21T00:08:19.533Z",
    "level": "info",
    "category": "SOCKET_CONVERSATION_FILES_UPDATED",
    "message": "Lista de archivos de conversación actualizada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.532Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATION_FILES_UPDATED",
      "conversationId": "conv_+5214773790184_...",
      "fileCount": 0,
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Lista de archivos de conversación actualizada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899532.823,
    "timestamp": "2025-08-21T00:08:19.532Z",
    "level": "error",
    "category": "SOCKET_FILE_COUNT_ERROR",
    "message": "Error obteniendo conteo de archivos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.505Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FILE_COUNT_ERROR",
      "conversationId": "conv_+5214773790184_...",
      "error": "File.getCountByConversation is not a function",
      "level": "error",
      "message": "Error obteniendo conteo de archivos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899504.8035,
    "timestamp": "2025-08-21T00:08:19.504Z",
    "level": "info",
    "category": "SOCKET_EMIT_FILE_READY",
    "message": "Evento de archivo listo emitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.504Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EMIT_FILE_READY",
      "fileId": "d3874cba-e997-45f7-8...",
      "conversationId": "conv_+5214773790184_...",
      "readyBy": "admin@company.com...",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "Evento de archivo listo emitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899503.3567,
    "timestamp": "2025-08-21T00:08:19.503Z",
    "level": "info",
    "category": "image",
    "message": "✅ Archivo subido exitosamente con indexación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.503Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "category": "image",
      "size": "259.2 KB",
      "storagePath": "images/conv_+5214773790184_+5214793176502/d3874cba-e997-45f7-8283-e88997e68a4d.jpg",
      "processTime": "716ms",
      "uploadedBy": "admin@company.com",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "✅ Archivo subido exitosamente con indexación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899503.6206,
    "timestamp": "2025-08-21T00:08:19.503Z",
    "level": "info",
    "category": "image",
    "message": "✅ Archivo guardado exitosamente en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.502Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "category": "image",
      "level": "info",
      "message": "✅ Archivo guardado exitosamente en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899491.3657,
    "timestamp": "2025-08-21T00:08:19.491Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899491.1423,
    "timestamp": "2025-08-21T00:08:19.491Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:19.490Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899491.7346,
    "timestamp": "2025-08-21T00:08:19.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "hLo_xkx0...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899490.3,
    "timestamp": "2025-08-21T00:08:19.490Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899490.3108,
    "timestamp": "2025-08-21T00:08:19.490Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899490.466,
    "timestamp": "2025-08-21T00:08:19.490Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899490.0454,
    "timestamp": "2025-08-21T00:08:19.490Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899490.889,
    "timestamp": "2025-08-21T00:08:19.490Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899488.8662,
    "timestamp": "2025-08-21T00:08:19.488Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.487Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "hLo_xkx0pZMp5FmkAAAE",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899294.6096,
    "timestamp": "2025-08-21T00:08:19.294Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.294Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899294.3118,
    "timestamp": "2025-08-21T00:08:19.294Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.294Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899294.4102,
    "timestamp": "2025-08-21T00:08:19.294Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.294Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899294.3608,
    "timestamp": "2025-08-21T00:08:19.294Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.294Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899294.8547,
    "timestamp": "2025-08-21T00:08:19.294Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.294Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734899286.993,
    "timestamp": "2025-08-21T00:08:19.286Z",
    "level": "info",
    "category": "image",
    "message": "💾 Guardando archivo en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:19.286Z",
      "service": "utalk-backend",
      "environment": "production",
      "fileId": "d3874cba-e997-45f7-8283-e88997e68a4d",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "originalName": "Captura de pantalla 2025-08-20 a las 3.32.07â¯p.â¯m..png",
      "category": "image",
      "level": "info",
      "message": "💾 Guardando archivo en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898787.973,
    "timestamp": "2025-08-21T00:08:18.787Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 Iniciando subida de archivo con indexación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.787Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalName": "Captura de pantalla 2025-08-20 a las 3.32.07â¯p.â¯m..png",
      "mimetype": "image/png",
      "size": 265418,
      "conversationId": "conv_+5214773790184_+5214793176502",
      "uploadedBy": "admin@company.com",
      "hasBuffer": true,
      "bufferSize": 265418,
      "level": "info",
      "message": "🔄 Iniciando subida de archivo con indexación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898785.0054,
    "timestamp": "2025-08-21T00:08:18.785Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 Iniciando subida de archivo (FASE 4)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0....",
      "timestamp": "2025-08-21T00:08:18.785Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalName": "Captura de pantalla 2025-08-20 a las 3.32.07â¯p.â¯m..png",
      "size": 265418,
      "mimetype": "image/png",
      "uploadedBy": "admin@company.com",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasTags": false,
      "hasMetadata": false,
      "bufferSize": 265418,
      "level": "info",
      "message": "🔄 Iniciando subida de archivo (FASE 4)"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0....",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898759.389,
    "timestamp": "2025-08-21T00:08:18.759Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.759Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/media/upload",
      "duration": "76ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898759.7087,
    "timestamp": "2025-08-21T00:08:18.759Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.759Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898759.9343,
    "timestamp": "2025-08-21T00:08:18.759Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.759Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898685.5154,
    "timestamp": "2025-08-21T00:08:18.685Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898685.9045,
    "timestamp": "2025-08-21T00:08:18.685Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898685.552,
    "timestamp": "2025-08-21T00:08:18.685Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898683.5125,
    "timestamp": "2025-08-21T00:08:18.683Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/media/upload",
      "method": "POST",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898682.6326,
    "timestamp": "2025-08-21T00:08:18.682Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6ea67cab-d1ae-41c2-bb57-ad7a617bd88e",
      "timestamp": "2025-08-21T00:08:18.682Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/media/upload",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "multipart/form-data; boundary=----WebKitFormBoundaryRn6zyJ0pubFXyAob",
      "contentLength": "265784",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898682.4458,
    "timestamp": "2025-08-21T00:08:18.682Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.682Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898682.3303,
    "timestamp": "2025-08-21T00:08:18.682Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.682Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898682.4973,
    "timestamp": "2025-08-21T00:08:18.682Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.682Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898440.1736,
    "timestamp": "2025-08-21T00:08:18.440Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "⚠️ Petición HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c90e231e-8992-4b78-8cac-6ca6215c7990",
      "timestamp": "2025-08-21T00:08:18.439Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "POST",
      "url": "/api/upload/image",
      "path": "/",
      "statusCode": 404,
      "statusMessage": "Not Found",
      "duration": "2ms",
      "responseSize": "253 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "253",
        "x-request-id": "c90e231e-8992-4b78-8cac-6ca6215c7990"
      },
      "performance": {
        "duration": 2,
        "responseSize": 253,
        "isSlow": false,
        "isLarge": false
      },
      "level": "warn",
      "message": "⚠️ Petición HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898438.785,
    "timestamp": "2025-08-21T00:08:18.438Z",
    "level": "warn",
    "category": "ROUTE_NOT_FOUND",
    "message": "Ruta no encontrada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c90e231e-8992-4b78-8cac-6ca6215c7990",
      "timestamp": "2025-08-21T00:08:18.438Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_NOT_FOUND",
      "method": "POST",
      "url": "/api/upload/image",
      "level": "warn",
      "message": "Ruta no encontrada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898437.2354,
    "timestamp": "2025-08-21T00:08:18.437Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "c90e231e-8992-4b78-8cac-6ca6215c7990",
      "timestamp": "2025-08-21T00:08:18.437Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/upload/image",
      "path": "/upload/image",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "multipart/form-data; boundary=----WebKitFormBoundaryvsvQrscnfCauvIhC",
      "contentLength": "265784",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898437.2598,
    "timestamp": "2025-08-21T00:08:18.437Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.437Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898437.3733,
    "timestamp": "2025-08-21T00:08:18.437Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.437Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734898437.9287,
    "timestamp": "2025-08-21T00:08:18.437Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:18.436Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891619.7424,
    "timestamp": "2025-08-21T00:08:11.619Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.619Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "499ms",
      "responseSize": "1162 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "e521887e-c67a-46ee-a551-8d0a53654ec1"
      },
      "performance": {
        "duration": 499,
        "responseSize": 1162,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891617.8452,
    "timestamp": "2025-08-21T00:08:11.617Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.617Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891616.0483,
    "timestamp": "2025-08-21T00:08:11.616Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.616Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891529.1763,
    "timestamp": "2025-08-21T00:08:11.529Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.529Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.2292,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.3018,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.8545,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.541,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "408ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.4832,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891528.5295,
    "timestamp": "2025-08-21T00:08:11.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891122.3193,
    "timestamp": "2025-08-21T00:08:11.122Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.122Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891122.9429,
    "timestamp": "2025-08-21T00:08:11.122Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.122Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891122.7886,
    "timestamp": "2025-08-21T00:08:11.122Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.121Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891120.2644,
    "timestamp": "2025-08-21T00:08:11.120Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.120Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891120.6272,
    "timestamp": "2025-08-21T00:08:11.120Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e521887e-c67a-46ee-a551-8d0a53654ec1",
      "timestamp": "2025-08-21T00:08:11.120Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891119.4355,
    "timestamp": "2025-08-21T00:08:11.119Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.119Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891119.379,
    "timestamp": "2025-08-21T00:08:11.119Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.119Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891119.2246,
    "timestamp": "2025-08-21T00:08:11.119Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.119Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891036.4958,
    "timestamp": "2025-08-21T00:08:11.036Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:11.036Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "436ms",
      "responseSize": "20457 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "2e47bfaf-03af-46f4-9f65-c90e97108764"
      },
      "performance": {
        "duration": 436,
        "responseSize": 20457,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891032.43,
    "timestamp": "2025-08-21T00:08:11.032Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.032Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "count": 21,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "152ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734891025.3896,
    "timestamp": "2025-08-21T00:08:11.025Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:11.025Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "totalResults": 21,
      "hasMore": false,
      "queryTime": "152ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890868.5972,
    "timestamp": "2025-08-21T00:08:10.868Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.867Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890792.759,
    "timestamp": "2025-08-21T00:08:10.792Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.792Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890791.0032,
    "timestamp": "2025-08-21T00:08:10.791Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:10.791Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId en query normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890791.443,
    "timestamp": "2025-08-21T00:08:10.791Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:10.791Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890790.4426,
    "timestamp": "2025-08-21T00:08:10.790Z",
    "level": "info",
    "category": "MESSAGES_API",
    "message": "MESSAGES_REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "b8adb2d5-d7f4-469d-8ad1-0820c27d4bf5",
      "timestamp": "2025-08-21T00:08:10.790Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "b8adb2d5-d7f4-469d-8ad1-0820c27d4bf5",
      "userCtx": null,
      "category": "MESSAGES_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "limit": "50"
      },
      "level": "info",
      "message": "MESSAGES_REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890790.8237,
    "timestamp": "2025-08-21T00:08:10.790Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.790Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "duration": "190ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890790.603,
    "timestamp": "2025-08-21T00:08:10.790Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.790Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890790.8938,
    "timestamp": "2025-08-21T00:08:10.790Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.790Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890663.0342,
    "timestamp": "2025-08-21T00:08:10.663Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.663Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "onlineUsersCount": 1,
      "level": "info",
      "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890663.0754,
    "timestamp": "2025-08-21T00:08:10.663Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.663Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "syncData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "success": true,
        "timestamp": "2025-08-21T00:08:10.663Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890663.135,
    "timestamp": "2025-08-21T00:08:10.663Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.662Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "confirmationData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "onlineUsers": [
          "admin@company.com"
        ],
        "success": true,
        "timestamp": "2025-08-21T00:08:10.662Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890662.5576,
    "timestamp": "2025-08-21T00:08:10.662Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.662Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_...",
      "participantsCount": 4,
      "level": "info",
      "message": "Usuario es participante directo de la conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890602.3955,
    "timestamp": "2025-08-21T00:08:10.602Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.602Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890602.9468,
    "timestamp": "2025-08-21T00:08:10.602Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.602Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890602.7136,
    "timestamp": "2025-08-21T00:08:10.602Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.602Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890600.921,
    "timestamp": "2025-08-21T00:08:10.600Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.600Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890600.495,
    "timestamp": "2025-08-21T00:08:10.600Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2e47bfaf-03af-46f4-9f65-c90e97108764",
      "timestamp": "2025-08-21T00:08:10.600Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890599.5396,
    "timestamp": "2025-08-21T00:08:10.599Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.599Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890599.8372,
    "timestamp": "2025-08-21T00:08:10.599Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.599Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734890599.6782,
    "timestamp": "2025-08-21T00:08:10.599Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:10.599Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734886935.1392,
    "timestamp": "2025-08-21T00:08:06.935Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:06.935Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734886935.8254,
    "timestamp": "2025-08-21T00:08:06.935Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:06.935Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "_8DN5zEI...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734886935.4114,
    "timestamp": "2025-08-21T00:08:06.935Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:06.935Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734886935.51,
    "timestamp": "2025-08-21T00:08:06.935Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:06.935Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734886935.8577,
    "timestamp": "2025-08-21T00:08:06.935Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:06.935Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885917.107,
    "timestamp": "2025-08-21T00:08:05.917Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.917Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885849.7798,
    "timestamp": "2025-08-21T00:08:05.849Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.849Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885849.7837,
    "timestamp": "2025-08-21T00:08:05.849Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.849Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885849.285,
    "timestamp": "2025-08-21T00:08:05.849Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.849Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "level": "info",
      "message": "User requesting state sync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885781.686,
    "timestamp": "2025-08-21T00:08:05.781Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.781Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "378ms",
      "responseSize": "986 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "986",
        "x-request-id": "5a301359-08ac-4a7c-aa12-b674e7feda79"
      },
      "performance": {
        "duration": 378,
        "responseSize": 986,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885780.9236,
    "timestamp": "2025-08-21T00:08:05.780Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.780Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885780.78,
    "timestamp": "2025-08-21T00:08:05.780Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.780Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885662.7063,
    "timestamp": "2025-08-21T00:08:05.662Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "272ms",
      "responseSize": "1162 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "094058f1-7619-4697-80e3-5114453971f2"
      },
      "performance": {
        "duration": 272,
        "responseSize": 1162,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885658.6533,
    "timestamp": "2025-08-21T00:08:05.658Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.658Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885658.8762,
    "timestamp": "2025-08-21T00:08:05.658Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.658Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885608.283,
    "timestamp": "2025-08-21T00:08:05.608Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.607Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conv_+5214777270766_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "224ms",
      "responseSize": "1194 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "fe8326eb-3e14-4b40-a344-50e7b56fabf5"
      },
      "performance": {
        "duration": 224,
        "responseSize": 1194,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885602.4685,
    "timestamp": "2025-08-21T00:08:05.602Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.602Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885602.8723,
    "timestamp": "2025-08-21T00:08:05.602Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.601Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "unreadCount",
        "lastMessageId",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885598.2686,
    "timestamp": "2025-08-21T00:08:05.598Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.598Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885598.209,
    "timestamp": "2025-08-21T00:08:05.598Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.598Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885598.536,
    "timestamp": "2025-08-21T00:08:05.598Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.598Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885597.3184,
    "timestamp": "2025-08-21T00:08:05.597Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.597Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885597.1152,
    "timestamp": "2025-08-21T00:08:05.597Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.597Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "193ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885597.7292,
    "timestamp": "2025-08-21T00:08:05.597Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.597Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885597.626,
    "timestamp": "2025-08-21T00:08:05.597Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.597Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.58,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.6318,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.2449,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.3528,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.9453,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "202ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.656,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885591.0588,
    "timestamp": "2025-08-21T00:08:05.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885486.175,
    "timestamp": "2025-08-21T00:08:05.486Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.486Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214777270766_+5214793176502",
      "finalId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885486.388,
    "timestamp": "2025-08-21T00:08:05.486Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.486Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214777270766_+5214793176502",
      "conversationIdNormalized": "conv_+5214777270766_+5214793176502",
      "participants": {
        "from": "+5214777270766",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885485.3638,
    "timestamp": "2025-08-21T00:08:05.485Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.485Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "decodedConversationId": "conv_+5214777270766_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885485.432,
    "timestamp": "2025-08-21T00:08:05.485Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-21T00:08:05.485Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214777270766_+5214793176502",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885484.2815,
    "timestamp": "2025-08-21T00:08:05.484Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "duration": "100ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885484.4248,
    "timestamp": "2025-08-21T00:08:05.484Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885484.3428,
    "timestamp": "2025-08-21T00:08:05.484Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885406.3872,
    "timestamp": "2025-08-21T00:08:05.406Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.405Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885405.6135,
    "timestamp": "2025-08-21T00:08:05.405Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.405Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885405.922,
    "timestamp": "2025-08-21T00:08:05.405Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.405Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885404.8823,
    "timestamp": "2025-08-21T00:08:05.404Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.404Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885404.0583,
    "timestamp": "2025-08-21T00:08:05.404Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "5a301359-08ac-4a7c-aa12-b674e7feda79",
      "timestamp": "2025-08-21T00:08:05.404Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885403.9756,
    "timestamp": "2025-08-21T00:08:05.403Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.403Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885403.1995,
    "timestamp": "2025-08-21T00:08:05.403Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.403Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885403.3909,
    "timestamp": "2025-08-21T00:08:05.403Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.403Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885392.177,
    "timestamp": "2025-08-21T00:08:05.392Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.392Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885392.0146,
    "timestamp": "2025-08-21T00:08:05.392Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.391Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885391.3562,
    "timestamp": "2025-08-21T00:08:05.391Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.391Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885390.0527,
    "timestamp": "2025-08-21T00:08:05.390Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.390Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885389.184,
    "timestamp": "2025-08-21T00:08:05.389Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "094058f1-7619-4697-80e3-5114453971f2",
      "timestamp": "2025-08-21T00:08:05.389Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885389.7915,
    "timestamp": "2025-08-21T00:08:05.389Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.389Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885389.8381,
    "timestamp": "2025-08-21T00:08:05.389Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.389Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885389.9827,
    "timestamp": "2025-08-21T00:08:05.389Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.389Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885386.4307,
    "timestamp": "2025-08-21T00:08:05.386Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885386.7988,
    "timestamp": "2025-08-21T00:08:05.386Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885386.1416,
    "timestamp": "2025-08-21T00:08:05.386Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885384.1719,
    "timestamp": "2025-08-21T00:08:05.384Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.384Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885384.2056,
    "timestamp": "2025-08-21T00:08:05.384Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fe8326eb-3e14-4b40-a344-50e7b56fabf5",
      "timestamp": "2025-08-21T00:08:05.384Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conversations/conv_+5214777270766_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885383.7607,
    "timestamp": "2025-08-21T00:08:05.383Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885383.5122,
    "timestamp": "2025-08-21T00:08:05.383Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885383.9639,
    "timestamp": "2025-08-21T00:08:05.383Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885283.5125,
    "timestamp": "2025-08-21T00:08:05.283Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885282.3423,
    "timestamp": "2025-08-21T00:08:05.282Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.282Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "_8DN5zEI...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885280.1384,
    "timestamp": "2025-08-21T00:08:05.280Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.280Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885279.889,
    "timestamp": "2025-08-21T00:08:05.279Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.279Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885278.8018,
    "timestamp": "2025-08-21T00:08:05.278Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.278Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885278.0715,
    "timestamp": "2025-08-21T00:08:05.278Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.278Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885142.3718,
    "timestamp": "2025-08-21T00:08:05.142Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:05.142Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "337ms",
      "responseSize": "3147 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "498a9a93-0db9-4636-870b-c477830ab216"
      },
      "performance": {
        "duration": 337,
        "responseSize": 3147,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885139.5842,
    "timestamp": "2025-08-21T00:08:05.139Z",
    "level": "info",
    "category": "CACHE",
    "message": "Cache miss: /",
    "data": {
      "userId": "admin@company.com",
      "ip": "189.253.97.13",
      "endpoint": "/",
      "ttlSeconds": 120,
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "admin@company.com",
    "endpoint": "/"
  },
  {
    "id": 1755734885137.2644,
    "timestamp": "2025-08-21T00:08:05.137Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_done",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "http": {
        "method": "GET",
        "path": "/",
        "status": 200,
        "durationMs": 110
      },
      "user": null,
      "result": {
        "count": 3,
        "totalCount": 3,
        "source": "hardened"
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "timestamp": "2025-08-21T00:08:05.137Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "userCtx": null,
      "message": {
        "event": "conversations_list_done",
        "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
        "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
        "http": {
          "method": "GET",
          "path": "/",
          "status": 200,
          "durationMs": 110
        },
        "user": null,
        "result": {
          "count": 3,
          "totalCount": 3,
          "source": "hardened"
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885136.5596,
    "timestamp": "2025-08-21T00:08:05.136Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.136Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885136.6074,
    "timestamp": "2025-08-21T00:08:05.136Z",
    "level": "info",
    "category": "DB",
    "message": "Database call: conversations",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "/api/conversations",
      "page": 1,
      "limit": 20,
      "search": "no"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "/api/conversations"
  },
  {
    "id": 1755734885027.454,
    "timestamp": "2025-08-21T00:08:05.027Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_start",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "loggerShape": {
        "hasInfo": true,
        "hasAuth": true,
        "hasDatabase": true,
        "hasChild": true
      },
      "http": {
        "method": "GET",
        "path": "/"
      },
      "user": null,
      "filters": {
        "limit": 20,
        "page": 1
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "timestamp": "2025-08-21T00:08:05.027Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "userCtx": null,
      "message": {
        "event": "conversations_list_start",
        "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
        "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
        "loggerShape": {
          "hasInfo": true,
          "hasAuth": true,
          "hasDatabase": true,
          "hasChild": true
        },
        "http": {
          "method": "GET",
          "path": "/"
        },
        "user": null,
        "filters": {
          "limit": 20,
          "page": 1
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885027.6057,
    "timestamp": "2025-08-21T00:08:05.027Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.027Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885024.1226,
    "timestamp": "2025-08-21T00:08:05.024Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "timestamp": "2025-08-21T00:08:05.024Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "60e3b045-cdd5-40e0-ae14-0c61bcd225de",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885024.0337,
    "timestamp": "2025-08-21T00:08:05.024Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:05.023Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "217ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885022.43,
    "timestamp": "2025-08-21T00:08:05.022Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:05.022Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734885022.5996,
    "timestamp": "2025-08-21T00:08:05.022Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:05.022Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884844.6626,
    "timestamp": "2025-08-21T00:08:04.844Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884844.1777,
    "timestamp": "2025-08-21T00:08:04.844Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884843.303,
    "timestamp": "2025-08-21T00:08:04.843Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.843Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884807.1992,
    "timestamp": "2025-08-21T00:08:04.807Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.807Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884807.6692,
    "timestamp": "2025-08-21T00:08:04.807Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:04.807Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884807.0542,
    "timestamp": "2025-08-21T00:08:04.807Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:04.807Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755735784,
      "iat": 1755734884,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884805.986,
    "timestamp": "2025-08-21T00:08:04.805Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:04.805Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884805.8708,
    "timestamp": "2025-08-21T00:08:04.805Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "498a9a93-0db9-4636-870b-c477830ab216",
      "timestamp": "2025-08-21T00:08:04.805Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/conversations",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884805.5327,
    "timestamp": "2025-08-21T00:08:04.805Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.805Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884805.9724,
    "timestamp": "2025-08-21T00:08:04.805Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.805Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884805.1602,
    "timestamp": "2025-08-21T00:08:04.805Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.804Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884753.297,
    "timestamp": "2025-08-21T00:08:04.753Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.753Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884753.59,
    "timestamp": "2025-08-21T00:08:04.753Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.753Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884752.6445,
    "timestamp": "2025-08-21T00:08:04.752Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884752.319,
    "timestamp": "2025-08-21T00:08:04.752Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "_8DN5zEI...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884752.2117,
    "timestamp": "2025-08-21T00:08:04.752Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884752.733,
    "timestamp": "2025-08-21T00:08:04.752Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "_8DN5zEI...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884751.7085,
    "timestamp": "2025-08-21T00:08:04.751Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.751Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884749.2502,
    "timestamp": "2025-08-21T00:08:04.749Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.749Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884648.5823,
    "timestamp": "2025-08-21T00:08:04.648Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.648Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884648.8298,
    "timestamp": "2025-08-21T00:08:04.648Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.648Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T00:08:04.647Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884648.6238,
    "timestamp": "2025-08-21T00:08:04.648Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.647Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "_8DN5zEI...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884646.3352,
    "timestamp": "2025-08-21T00:08:04.646Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.646Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884646.0107,
    "timestamp": "2025-08-21T00:08:04.646Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.646Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884646.442,
    "timestamp": "2025-08-21T00:08:04.646Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.646Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884645.9834,
    "timestamp": "2025-08-21T00:08:04.645Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884645.4888,
    "timestamp": "2025-08-21T00:08:04.645Z",
    "level": "info",
    "category": "SOCKET_FIREBASE_INIT_SUCCESS",
    "message": "Socket.IO: Firebase inicializado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_FIREBASE_INIT_SUCCESS",
      "level": "info",
      "message": "Socket.IO: Firebase inicializado correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884645.5115,
    "timestamp": "2025-08-21T00:08:04.645Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884643.125,
    "timestamp": "2025-08-21T00:08:04.643Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.643Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "_8DN5zEIjt-9cCQ9AAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884556.888,
    "timestamp": "2025-08-21T00:08:04.556Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884555.7747,
    "timestamp": "2025-08-21T00:08:04.555Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884555.395,
    "timestamp": "2025-08-21T00:08:04.555Z",
    "level": "info",
    "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
    "message": "Socket CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "Socket CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884555.8323,
    "timestamp": "2025-08-21T00:08:04.555Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884555.3767,
    "timestamp": "2025-08-21T00:08:04.555Z",
    "level": "info",
    "category": "_SOCKET_CORS_ORIGIN_CHECK_",
    "message": "🔌 Socket CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.554Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_SOCKET_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🔌 Socket CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884286.0508,
    "timestamp": "2025-08-21T00:08:04.286Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:04.286Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/login",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "523ms",
      "responseSize": "1991 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0"
      },
      "performance": {
        "duration": 523,
        "responseSize": 1991,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884284.0696,
    "timestamp": "2025-08-21T00:08:04.284Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.284Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "6d6c23f0-a665-4ec4-a699-060fdd2228d8",
      "level": "info",
      "message": "Login completado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884284.1387,
    "timestamp": "2025-08-21T00:08:04.284Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:04.284Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_success",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "department": "admin",
      "deviceId": "6d6c23f0-a665-4ec4-a699-060fdd2228d8",
      "level": "info",
      "message": "[AUTH] login_success"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884284.7341,
    "timestamp": "2025-08-21T00:08:04.284Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:04.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "6d6c23f0-a665-4ec4-a699-060fdd2228d8",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884283.5806,
    "timestamp": "2025-08-21T00:08:04.283Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884283.4849,
    "timestamp": "2025-08-21T00:08:04.283Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "b3f152bd-d4b0-4d05-9bf7-6ca69e39b3dc",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884283.1704,
    "timestamp": "2025-08-21T00:08:04.283Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "b3f152bd-d4b0-4d05-9bf7-6ca69e39b3dc",
      "userEmail": "admin@company.com",
      "familyId": "0e3b61f1-2a9b-47a5-b80a-f16bd5908449",
      "deviceId": "6d6c23f0-a665-4ec4-a699-060fdd2228d8",
      "level": "info",
      "message": "Refresh token creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884283.9578,
    "timestamp": "2025-08-21T00:08:04.283Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "Índices creados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.283Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "Índices creados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884192.187,
    "timestamp": "2025-08-21T00:08:04.192Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.192Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884054.3943,
    "timestamp": "2025-08-21T00:08:04.054Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:04.054Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734884054.731,
    "timestamp": "2025-08-21T00:08:04.054Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:04.054Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883980.7415,
    "timestamp": "2025-08-21T00:08:03.980Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:03.980Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883980.1633,
    "timestamp": "2025-08-21T00:08:03.980Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contraseña válida (campo password)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.980Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contraseña válida (campo password)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883980.6921,
    "timestamp": "2025-08-21T00:08:03.980Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.980Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883849.158,
    "timestamp": "2025-08-21T00:08:03.849Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.849Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883849.8892,
    "timestamp": "2025-08-21T00:08:03.849Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883846.8477,
    "timestamp": "2025-08-21T00:08:03.846Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.846Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883766.676,
    "timestamp": "2025-08-21T00:08:03.766Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.766Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883766.8604,
    "timestamp": "2025-08-21T00:08:03.766Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:03.766Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883766.714,
    "timestamp": "2025-08-21T00:08:03.766Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:03.766Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883766.517,
    "timestamp": "2025-08-21T00:08:03.766Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.766Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883763.5747,
    "timestamp": "2025-08-21T00:08:03.763Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "4ffbf1d1-68c3-4169-bd50-55ba0a4a74b0",
      "timestamp": "2025-08-21T00:08:03.763Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/auth/login",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "51",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883761.318,
    "timestamp": "2025-08-21T00:08:03.761Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883761.7546,
    "timestamp": "2025-08-21T00:08:03.761Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734883761.5383,
    "timestamp": "2025-08-21T00:08:03.761Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:08:03.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734880013.1738,
    "timestamp": "2025-08-21T00:08:00.013Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "07900d76-3f4d-4b9c-b93e-144df23a4646",
      "timestamp": "2025-08-21T00:08:00.013Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/refresh",
      "path": "/refresh",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "949ms",
      "responseSize": "1234 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "07900d76-3f4d-4b9c-b93e-144df23a4646"
      },
      "performance": {
        "duration": 949,
        "responseSize": 1234,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734880007.5244,
    "timestamp": "2025-08-21T00:08:00.007Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] refresh_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "07900d76-3f4d-4b9c-b93e-144df23a4646",
      "timestamp": "2025-08-21T00:08:00.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "refresh_success",
      "userEmail": "admin@company.com",
      "oldTokenId": "2973c827-1ad0-41fe-945d-9372165cffc8",
      "usedCount": 2,
      "level": "info",
      "message": "[AUTH] refresh_success"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879848.604,
    "timestamp": "2025-08-21T00:07:59.848Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879761.6963,
    "timestamp": "2025-08-21T00:07:59.761Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.760Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879065.0034,
    "timestamp": "2025-08-21T00:07:59.065Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] refresh_attempt",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "07900d76-3f4d-4b9c-b93e-144df23a4646",
      "timestamp": "2025-08-21T00:07:59.065Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "refresh_attempt",
      "refreshTokenPreview": "eyJhbGciOiJIUzI1NiIs...",
      "level": "info",
      "message": "[AUTH] refresh_attempt"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879064.3489,
    "timestamp": "2025-08-21T00:07:59.064Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "07900d76-3f4d-4b9c-b93e-144df23a4646",
      "timestamp": "2025-08-21T00:07:59.064Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/refresh",
      "path": "/auth/refresh",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "520",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879048.461,
    "timestamp": "2025-08-21T00:07:59.048Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.048Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879048.8342,
    "timestamp": "2025-08-21T00:07:59.048Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.048Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879048.082,
    "timestamp": "2025-08-21T00:07:59.048Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.048Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879047.8938,
    "timestamp": "2025-08-21T00:07:59.047Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ccc30da6-973c-4698-bfd3-618fc69e1760",
      "timestamp": "2025-08-21T00:07:59.047Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/logout",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "5ms",
      "responseSize": "65 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "65",
        "x-request-id": "ccc30da6-973c-4698-bfd3-618fc69e1760"
      },
      "performance": {
        "duration": 5,
        "responseSize": 65,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879046.17,
    "timestamp": "2025-08-21T00:07:59.046Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] logout_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ccc30da6-973c-4698-bfd3-618fc69e1760",
      "timestamp": "2025-08-21T00:07:59.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "logout_success",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] logout_success"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879046.1726,
    "timestamp": "2025-08-21T00:07:59.046Z",
    "level": "info",
    "category": "AUTH_LOGOUT",
    "message": "Logout con token expirado (idempotente)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "35b033e3-77d0-4412-867d-746f58b6a94f",
      "timestamp": "2025-08-21T00:07:59.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "35b033e3-77d0-4412-867d-746f58b6a94f",
      "userCtx": null,
      "category": "AUTH_LOGOUT",
      "userEmail": "admin@company.com",
      "reason": "token_expired",
      "level": "info",
      "message": "Logout con token expirado (idempotente)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879045.2722,
    "timestamp": "2025-08-21T00:07:59.045Z",
    "level": "warn",
    "category": "AUTH_VERIFY_ACCESS_FAIL",
    "message": "AuthService.verifyAccessToken: invalid token",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.045Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_VERIFY_ACCESS_FAIL",
      "error": "jwt expired",
      "level": "warn",
      "message": "AuthService.verifyAccessToken: invalid token"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879042.0864,
    "timestamp": "2025-08-21T00:07:59.042Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ccc30da6-973c-4698-bfd3-618fc69e1760",
      "timestamp": "2025-08-21T00:07:59.042Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/auth/logout",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentLength": "0",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879041.4463,
    "timestamp": "2025-08-21T00:07:59.041Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.041Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879041.2117,
    "timestamp": "2025-08-21T00:07:59.041Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.041Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734879041.372,
    "timestamp": "2025-08-21T00:07:59.041Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:59.041Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878862.1711,
    "timestamp": "2025-08-21T00:07:58.862Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "⚠️ Petición HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ad281228-3168-4b9c-9457-3b0047940e22",
      "timestamp": "2025-08-21T00:07:58.862Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "GET",
      "url": "/api/auth/profile",
      "path": "/profile",
      "statusCode": 401,
      "statusMessage": "Unauthorized",
      "duration": "13ms",
      "responseSize": "189 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "189",
        "x-request-id": "ad281228-3168-4b9c-9457-3b0047940e22"
      },
      "performance": {
        "duration": 13,
        "responseSize": 189,
        "isSlow": false,
        "isLarge": false
      },
      "level": "warn",
      "message": "⚠️ Petición HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878860.1467,
    "timestamp": "2025-08-21T00:07:58.860Z",
    "level": "warn",
    "category": "AUTH_JWT_FAILURE",
    "message": "Autenticación fallida por JWT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ad281228-3168-4b9c-9457-3b0047940e22",
      "timestamp": "2025-08-21T00:07:58.860Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_FAILURE",
      "error": "jwt expired",
      "name": "TokenExpiredError",
      "level": "warn",
      "message": "Autenticación fallida por JWT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878860.5671,
    "timestamp": "2025-08-21T00:07:58.860Z",
    "level": "warn",
    "category": "AUTH_TOKEN_EXPIRED",
    "message": "Token expirado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "ad281228-3168-4b9c-9457-3b0047940e22",
      "timestamp": "2025-08-21T00:07:58.860Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_TOKEN_EXPIRED",
      "exp": "2025-08-20T23:28:51.000Z",
      "currentTime": "2025-08-21T00:07:58.860Z",
      "level": "warn",
      "message": "Token expirado"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878860.3,
    "timestamp": "2025-08-21T00:07:58.860Z",
    "level": "warn",
    "category": "AUTH_VERIFY_ACCESS_FAIL",
    "message": "AuthService.verifyAccessToken: invalid token",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.860Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_VERIFY_ACCESS_FAIL",
      "error": "jwt expired",
      "level": "warn",
      "message": "AuthService.verifyAccessToken: invalid token"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878850.9126,
    "timestamp": "2025-08-21T00:07:58.850Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ad281228-3168-4b9c-9457-3b0047940e22",
      "timestamp": "2025-08-21T00:07:58.850Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/auth/profile",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878848.6514,
    "timestamp": "2025-08-21T00:07:58.848Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ad281228-3168-4b9c-9457-3b0047940e22",
      "timestamp": "2025-08-21T00:07:58.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/auth/profile",
      "path": "/auth/profile",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878848.7253,
    "timestamp": "2025-08-21T00:07:58.848Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878848.9543,
    "timestamp": "2025-08-21T00:07:58.848Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.848Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878848.3599,
    "timestamp": "2025-08-21T00:07:58.848Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.847Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878845.6309,
    "timestamp": "2025-08-21T00:07:58.845Z",
    "level": "info",
    "category": "CORS_ORIGIN_ALLOWED_",
    "message": "CORS Origin Allowed:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.845Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ORIGIN_ALLOWED_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "CORS Origin Allowed:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878844.663,
    "timestamp": "2025-08-21T00:07:58.844Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734878844.702,
    "timestamp": "2025-08-21T00:07:58.844Z",
    "level": "info",
    "category": "_CORS_ORIGIN_CHECK_",
    "message": "🌐 CORS Origin Check:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:58.843Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_CORS_ORIGIN_CHECK_",
      "data": "http://localhost:5173",
      "level": "info",
      "message": "🌐 CORS Origin Check:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734876942.3088,
    "timestamp": "2025-08-21T00:07:56.942Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "📊 Métricas de cola de campañas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:56.942Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "📊 Métricas de cola de campañas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867261.3047,
    "timestamp": "2025-08-21T00:07:47.261Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2dd5e7da-fcda-4d94-b1bc-21e0df52ef55",
      "timestamp": "2025-08-21T00:07:47.261Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "3ms",
      "responseSize": "17156 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "2dd5e7da-fcda-4d94-b1bc-21e0df52ef55"
      },
      "performance": {
        "duration": 3,
        "responseSize": 17156,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867258.7195,
    "timestamp": "2025-08-21T00:07:47.258Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.258Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 23,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867258.3474,
    "timestamp": "2025-08-21T00:07:47.258Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.258Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 23,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867258.7073,
    "timestamp": "2025-08-21T00:07:47.258Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2dd5e7da-fcda-4d94-b1bc-21e0df52ef55",
      "timestamp": "2025-08-21T00:07:47.258Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867161.1902,
    "timestamp": "2025-08-21T00:07:47.161Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fc8baa7f-db0a-4acb-844e-887bfeb5e285",
      "timestamp": "2025-08-21T00:07:47.161Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "6ms",
      "responseSize": "13025 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "fc8baa7f-db0a-4acb-844e-887bfeb5e285"
      },
      "performance": {
        "duration": 6,
        "responseSize": 13025,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867159.2583,
    "timestamp": "2025-08-21T00:07:47.159Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6c7225a5-7fc9-4bc5-8abe-31df32cec10b",
      "timestamp": "2025-08-21T00:07:47.159Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "10ms",
      "responseSize": "1247 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "6c7225a5-7fc9-4bc5-8abe-31df32cec10b"
      },
      "performance": {
        "duration": 10,
        "responseSize": 1247,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867156.905,
    "timestamp": "2025-08-21T00:07:47.156Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.156Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 18,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867156.0264,
    "timestamp": "2025-08-21T00:07:47.156Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "📋 Logs obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.156Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 18,
      "level": "info",
      "message": "📋 Logs obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867155.5198,
    "timestamp": "2025-08-21T00:07:47.155Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fc8baa7f-db0a-4acb-844e-887bfeb5e285",
      "timestamp": "2025-08-21T00:07:47.155Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867151.9614,
    "timestamp": "2025-08-21T00:07:47.151Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENVIANDO_RESPUESTA_",
      "data": {
        "success": true,
        "data": {
          "stats": {
            "total": 13,
            "lastHour": 13,
            "last24Hours": 13,
            "byLevel": {
              "info": 10,
              "warn": 1,
              "error": 1,
              "debug": 1
            },
            "byCategory": {
              "_OBTENIENDO_STATS_": 1,
              "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
              "RATE_LIMIT": 1,
              "MESSAGE": 1,
              "API": 1,
              "WEBSOCKET": 1,
              "CACHE": 1,
              "DATABASE": 1,
              "SYSTEM": 1,
              "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1,
              "HTTP_REQUEST_START": 1,
              "HTTP_SUCCESS": 2
            },
            "topUsers": {
              "system": 12,
              "user_789": 1
            },
            "topEndpoints": {
              "unknown": 6,
              "/api/logs": 6,
              "/api/auth/login": 1
            }
          },
          "rateLimitMetrics": {
            "total": 1,
            "lastHour": 1,
            "byUser": {},
            "byEndpoint": {},
            "timeline": [
              {
                "timestamp": "2025-08-20T23:07:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:12:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:17:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:22:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:27:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:32:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:37:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:42:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:47:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:52:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-20T23:57:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:02:47.150Z",
                "count": 0
              },
              {
                "timestamp": "2025-08-21T00:07:47.150Z",
                "count": 1
              }
            ]
          },
          "timestamp": "2025-08-21T00:07:47.150Z"
        }
      },
      "level": "info",
      "message": "Enviando respuesta:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.979,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "📈 Rate limit metrics obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
      "data": {
        "total": 1,
        "lastHour": 1,
        "byUser": {},
        "byEndpoint": {},
        "timeline": [
          {
            "timestamp": "2025-08-20T23:07:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:12:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:17:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:22:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:27:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:32:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:37:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:42:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:47:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:52:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-20T23:57:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:02:47.150Z",
            "count": 0
          },
          {
            "timestamp": "2025-08-21T00:07:47.150Z",
            "count": 1
          }
        ]
      },
      "level": "info",
      "message": "📈 Rate limit metrics obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.128,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "📈 Obteniendo rate limit metrics...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "📈 Obteniendo rate limit metrics..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.7368,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "📊 Stats obtenidos:",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_STATS_OBTENIDOS_",
      "data": {
        "total": 13,
        "lastHour": 13,
        "last24Hours": 13,
        "byLevel": {
          "info": 10,
          "warn": 1,
          "error": 1,
          "debug": 1
        },
        "byCategory": {
          "_OBTENIENDO_STATS_": 1,
          "LOGS_DE_PRUEBA_GENERADOS_PARA_": 1,
          "RATE_LIMIT": 1,
          "MESSAGE": 1,
          "API": 1,
          "WEBSOCKET": 1,
          "CACHE": 1,
          "DATABASE": 1,
          "SYSTEM": 1,
          "_GENERANDO_LOGS_DE_PRUEBA_PARA": 1,
          "HTTP_REQUEST_START": 1,
          "HTTP_SUCCESS": 2
        },
        "topUsers": {
          "system": 12,
          "user_789": 1
        },
        "topEndpoints": {
          "unknown": 6,
          "/api/logs": 6,
          "/api/auth/login": 1
        }
      },
      "level": "info",
      "message": "📊 Stats obtenidos:"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.3008,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "📊 Obteniendo stats...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "📊 Obteniendo stats..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.5706,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "LOGS_DE_PRUEBA_GENERADOS_PARA_",
    "message": "Logs de prueba generados para dashboard",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_DE_PRUEBA_GENERADOS_PARA_",
      "level": "info",
      "message": "Logs de prueba generados para dashboard"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867150.0193,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "debug",
    "category": "RATE_LIMIT",
    "message": "Rate limit check completado",
    "data": {
      "userId": "user_789",
      "remaining": 95,
      "timestamp": "2025-08-21T00:04:47.150Z",
      "isTestLog": true,
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "user_789",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.8389,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "MESSAGE",
    "message": "Mensaje enviado exitosamente",
    "data": {
      "messageId": "msg_456",
      "recipient": "+1234567890",
      "timestamp": "2025-08-21T00:05:17.150Z",
      "isTestLog": true,
      "userId": "system",
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.7002,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "error",
    "category": "API",
    "message": "Error en endpoint de autenticación",
    "data": {
      "endpoint": "/api/auth/login",
      "error": "Invalid credentials",
      "timestamp": "2025-08-21T00:05:47.150Z",
      "isTestLog": true,
      "userId": "system",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/auth/login"
  },
  {
    "id": 1755734867150.582,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "WEBSOCKET",
    "message": "Nueva conexión WebSocket establecida",
    "data": {
      "clientId": "client_123",
      "room": "general",
      "timestamp": "2025-08-21T00:06:17.150Z",
      "isTestLog": true,
      "userId": "system",
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.5122,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "warn",
    "category": "CACHE",
    "message": "Cache miss en consulta de usuarios",
    "data": {
      "query": "users",
      "cacheKey": "users:list",
      "timestamp": "2025-08-21T00:06:47.150Z",
      "isTestLog": true,
      "userId": "system",
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.9084,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "DATABASE",
    "message": "Conexión a base de datos establecida",
    "data": {
      "connection": "mongodb",
      "status": "connected",
      "timestamp": "2025-08-21T00:07:17.150Z",
      "isTestLog": true,
      "userId": "system",
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.9167,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Sistema iniciado correctamente",
    "data": {
      "component": "startup",
      "version": "2.0.0",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "isTestLog": true,
      "userId": "system",
      "endpoint": "/api/logs",
      "ip": "127.0.0.1"
    },
    "userAgent": "unknown",
    "ip": "127.0.0.1",
    "userId": "system",
    "endpoint": "/api/logs"
  },
  {
    "id": 1755734867150.0286,
    "timestamp": "2025-08-21T00:07:47.150Z",
    "level": "info",
    "category": "_GENERANDO_LOGS_DE_PRUEBA_PARA",
    "message": "🧪 Generando logs de prueba para dashboard...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T00:07:47.150Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_GENERANDO_LOGS_DE_PRUEBA_PARA",
      "level": "info",
      "message": "🧪 Generando logs de prueba para dashboard..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867149.6638,
    "timestamp": "2025-08-21T00:07:47.149Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6c7225a5-7fc9-4bc5-8abe-31df32cec10b",
      "timestamp": "2025-08-21T00:07:47.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867048.7676,
    "timestamp": "2025-08-21T00:07:47.048Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "30cc4899-01c5-48a2-9126-cd51889609e9",
      "timestamp": "2025-08-21T00:07:47.048Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "9ms",
      "responseSize": "1246 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "30cc4899-01c5-48a2-9126-cd51889609e9"
      },
      "performance": {
        "duration": 9,
        "responseSize": 1246,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755734867046.603,
    "timestamp": "2025-08-21T00:07:47.046Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d1ee5402-85ca-46e2-b980-cdd3aebe23d5",
      "timestamp": "2025-08-21T00:07:47.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/logs/clear",
      "path": "/clear",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "2ms",
      "responseSize": "76 bytes",
      "origin": "https://utalk-backend-production.up.railway.app",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "76",
        "x-request-id": "d1ee5402-85ca-46e2-b980-cdd3aebe23d5"
      },
      "performance": {
        "duration": 2,
        "responseSize": 76,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  }
]