# =============================================================================
# UTalk Backend Environment Variables - VERSI√ìN ACTUALIZADA Y COMPLETA
# =============================================================================
# 
# Este archivo contiene TODAS las variables de entorno utilizadas por el backend.
# Las variables est√°n organizadas por prioridad y categor√≠as.
#
# IMPORTANTE: 
# üî¥ CR√çTICAS = Requeridas para que la aplicaci√≥n funcione
# üü° IMPORTANTES = Necesarias para funcionalidad completa
# üü¢ OPCIONALES = Para caracter√≠sticas avanzadas
# =============================================================================

# =============================================================================
# üî¥ VARIABLES CR√çTICAS (REQUERIDAS)
# =============================================================================

# Puerto del servidor (Railway lo inyecta autom√°ticamente)
PORT=3001

# Entorno de ejecuci√≥n
NODE_ENV=production

# Secreto para JWT (REQUERIDO)
JWT_SECRET=your-super-secret-jwt-key-here

# =============================================================================
# üü° VARIABLES IMPORTANTES (FUNCIONALIDAD COMPLETA)
# =============================================================================

# üîí AUTENTICACI√ìN Y SEGURIDAD
JWT_REFRESH_SECRET=your-refresh-token-secret-here
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=utalk-backend
JWT_AUDIENCE=utalk-api
ADMIN_OVERRIDE_KEY=admin-override-key-here

# üì± TWILIO CONFIGURACI√ìN (REQUERIDO PARA MENSAJER√çA)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token-here
TWILIO_WHATSAPP_NUMBER=whatsapp:+1234567890

# üî• FIREBASE CONFIGURACI√ìN (REQUERIDO PARA BASE DE DATOS)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"your-project","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk-xxx@your-project.iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxx%40your-project.iam.gserviceaccount.com"}

# üóÑÔ∏è REDIS Y CACH√â (REQUERIDO PARA FUNCIONALIDAD COMPLETA)
REDIS_URL=redis://localhost:6379
REDISCLOUD_URL=redis://your-rediscloud-url

# üîó FRONTEND Y CORS
FRONTEND_URL=https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://utalk.com,https://www.utalk.com,https://app.utalk.com,https://admin.utalk.com,https://api.utalk.com

# =============================================================================
# üü¢ VARIABLES OPCIONALES (CARACTER√çSTICAS AVANZADAS)
# =============================================================================

# ========================================
# ü§ñ CONFIGURACI√ìN DE IA
# ========================================

# Habilitar IA globalmente
AI_ENABLED=true

# Modelo de IA por defecto
AI_MODEL=gpt-4o-mini

# Temperatura del modelo (0-1)
AI_TEMPERATURE=0.3

# M√°ximo de tokens de respuesta
AI_MAX_TOKENS=150

# Habilitar RAG (Retrieval-Augmented Generation)
AI_RAG_ENABLED=false

# ========================================
# üè† LLM STUDIO LOCAL
# ========================================

# Habilitar LLM Studio como proveedor
LLM_STUDIO_ENABLED=false

# URL de LLM Studio (ej: http://192.168.1.100:3001)
LLM_STUDIO_URL=http://localhost:3001

# ========================================
# ü§ñ PROVEEDORES DE IA
# ========================================

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API Key (opcional)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google Gemini API Key (opcional)
GEMINI_API_KEY=your_gemini_api_key_here

# üì¶ PROCESAMIENTO EN LOTE
BATCH_SIZE=500
MAX_CONCURRENT_BATCHES=10
BATCH_RETRY_ATTEMPTS=3
BATCH_RETRY_DELAY=1000

# üóÑÔ∏è REDIS AVANZADO
REDIS_SENTINELS=["redis://sentinel1:26379", "redis://sentinel2:26379"]
REDIS_MASTER_NAME=mymaster
REDIS_CLUSTER=false
CACHE_COMPRESSION=true

# üìù LOGGING Y MONITOREO
LOG_LEVEL=info
ENABLE_FILE_LOGGING=true
LOG_DIR=./logs
ENABLE_ALERT_FILE=true

# üö´ SEGURIDAD AVANZADA
MAX_FAILED_ATTEMPTS=5
BLOCK_DURATION_MINUTES=30
SUSPICIOUS_THRESHOLD=10
CLEANUP_INTERVAL_MINUTES=60

# üîó WEBHOOKS Y APIs
WEBHOOK_SECRET=your-webhook-secret-here
API_DOCS_URL=https://api.utalk.com/docs

# üè¢ CONFIGURACI√ìN DE EMPRESA
WORKSPACE_ID=default_workspace
TENANT_ID=default_tenant
DEFAULT_WORKSPACE_ID=default_workspace
DEFAULT_TENANT_ID=default_tenant
DEFAULT_AGENT_ID=system
DEFAULT_AGENT_EMAIL=system@utalk.local

# üìß VIEWERS POR DEFECTO
DEFAULT_VIEWER_EMAILS=admin@utalk.com,manager@utalk.com

# üîß CONFIGURACI√ìN DEL SERVIDOR
NODE_OPTIONS=--max-old-space-size=2048

# üì° WEBSOCKET Y SOCKETS
SOCKET_MAX_ROOMS_PER_SOCKET=50
SOCKET_LOG_VERBOSE=false

# üîÑ TWILIO ALTERNATIVOS (para compatibilidad)
TWILIO_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_TOKEN=your-twilio-auth-token-here
TWILIO_FROM=whatsapp:+1234567890
WHATSAPP_FROM=whatsapp:+1234567890

# =============================================================================
# üìã RESUMEN DE PRIORIDADES
# =============================================================================
#
# üî¥ CR√çTICAS (la aplicaci√≥n NO funciona sin estas):
# - PORT (Railway lo inyecta autom√°ticamente)
# - NODE_ENV
# - JWT_SECRET
#
# üü° IMPORTANTES (funcionalidad limitada sin estas):
# - TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN, TWILIO_WHATSAPP_NUMBER
# - FIREBASE_PROJECT_ID, FIREBASE_SERVICE_ACCOUNT_KEY
# - REDIS_URL o REDISCLOUD_URL
# - FRONTEND_URL, CORS_ORIGINS
#
# üü¢ OPCIONALES (caracter√≠sticas avanzadas):
# - Todas las dem√°s variables
#
# ============================================================================= 