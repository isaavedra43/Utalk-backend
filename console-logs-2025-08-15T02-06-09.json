{
  "exportDate": "2025-08-15T02:06:09.012Z",
  "totalLogs": 382,
  "logs": [
    {
      "timestamp": "2025-08-15T02:05:05.787Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de logs iniciada automáticamente"
    },
    {
      "timestamp": "2025-08-15T02:05:05.787Z",
      "level": "info",
      "message": "[2025-08-15T02:05:05.787Z] [INFO] [SYSTEM] Iniciando aplicación UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-15T02:05:05.787Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:05.787Z",
      "level": "info",
      "message": "[2025-08-15T02:05:05.787Z] [INFO] [CONFIG] Configuración válida al iniciar | Data: {\n  \"allSystemsReady\": true,\n  \"timestamp\": \"2025-08-15T02:05:05.787Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:05.801Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.801Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.801Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.801Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.826Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.827Z",
      "level": "warn",
      "message": "⚠️ Usando valores por defecto para workspaceId/tenantId - verificar configuración del backend"
    },
    {
      "timestamp": "2025-08-15T02:05:05.827Z",
      "level": "log",
      "message": "🔐 Fallback - Usando valores de entorno:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.827Z",
      "level": "warn",
      "message": "⚠️ Configuración de rooms con userId null:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.827Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.830Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.830Z",
      "level": "warn",
      "message": "⚠️ Usando valores por defecto para workspaceId/tenantId - verificar configuración del backend"
    },
    {
      "timestamp": "2025-08-15T02:05:05.830Z",
      "level": "log",
      "message": "🔐 Fallback - Usando valores de entorno:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.830Z",
      "level": "warn",
      "message": "⚠️ Configuración de rooms con userId null:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.830Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.859Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.859Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.859Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.859Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.862Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": false,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:05.964Z",
      "level": "debug",
      "message": "[vite] connected."
    },
    {
      "timestamp": "2025-08-15T02:05:18.613Z",
      "level": "info",
      "message": "[2025-08-15T02:05:18.613Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:18.614Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:18.615Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:18.615Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:18.615Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:18.630Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:18.631Z",
      "level": "info",
      "message": "[2025-08-15T02:05:18.631Z] [INFO] [API] Request sin token | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"isAuthEndpoint\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:18.631Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:18.631Z] [DEBUG] [API] Request: POST /api/auth/login | Data: {\n  \"email\": \"admin@company.com\",\n  \"password\": \"12345678\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:19.342Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:19.342Z] [DEBUG] [API] Response: POST /api/auth/login | Data: {\n  \"success\": true,\n  \"message\": \"Login exitoso\",\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjIzNTE4LCJleHAiOjE3NTUyMjQ0MTgsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.i_69lQeKJNuHtnHBmzp29Wfmt5RfUKjhQdHWp97vzPU\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiZmFtaWx5SWQiOiJlM2VhMTVmMS1jNjNjLTQ1MzUtYjAzMi1iYzgzODA4NTRlODQiLCJkZXZpY2VJZCI6ImRiOTFmZTA1LTAzMjQtNDA1OS05OTM1LTIwMjkxZDU2NjBlMiIsImlhdCI6MTc1NTIyMzUxOCwiZXhwIjoxNzU1ODI4MzE4LCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.QhfVuNiQlxwFg566994mS54_TpUJGm7Sc8OHu0otcZo\",\n  \"expiresIn\": \"15m\",\n  \"refreshExpiresIn\": \"7d\",\n  \"user\": {\n    \"id\": \"admin@company.com\",\n    \"email\": \"admin@company.com\",\n    \"name\": \"Administrador del Sistema\",\n    \"phone\": null,\n    \"role\": \"admin\",\n    \"permissions\": [\n      \"users.read\",\n      \"users.write\",\n      \"users.delete\",\n      \"conversations.read\",\n      \"conversations.write\",\n      \"conversations.delete\",\n      \"messages.read\",\n      \"messages.write\",\n      \"campaigns.read\",\n      \"campaigns.write\",\n      \"campaigns.delete\",\n      \"dashboard.read\",\n      \"settings.read\",\n      \"settings.write\",\n      \"crm.read\",\n      \"crm.write\"\n    ],\n    \"department\": \"admin\",\n    \"isActive\": true,\n    \"settings\": {\n      \"notifications\": true,\n      \"language\": \"es\",\n      \"timezone\": \"America/Mexico_City\"\n    },\n    \"lastLoginAt\": {\n      \"_seconds\": 1752719278,\n      \"_nanoseconds\": 484000000\n    },\n    \"createdAt\": {\n      \"_seconds\": 1755223518,\n      \"_nanoseconds\": 742000000\n    },\n    \"updatedAt\": {\n      \"_seconds\": 1753925658,\n      \"_nanoseconds\": 131000000\n    },\n    \"performance\": null\n  },\n  \"deviceInfo\": {\n    \"deviceId\": \"db91fe05-0324-4059-9935-20291d5660e2\",\n    \"deviceType\": \"web\",\n    \"loginAt\": \"2025-08-15T02:05:18.990Z\"\n  }\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:19.342Z",
      "level": "info",
      "message": "[2025-08-15T02:05:19.342Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:19.343Z",
      "level": "log",
      "message": "✅ Login exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T02:05:19.344Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.344Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.344Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.344Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.347Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": true,
          "hasBackendUser": true,
          "loading": false,
          "isAuthenticating": false,
          "userEmail": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.348Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.348Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.355Z",
      "level": "info",
      "message": "[2025-08-15T02:05:19.355Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:19.355Z",
      "level": "info",
      "message": "[2025-08-15T02:05:19.355Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:19.444Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Login exitoso, conectando WebSocket inmediatamente..."
    },
    {
      "timestamp": "2025-08-15T02:05:19.444Z",
      "level": "log",
      "message": "🔌 Iniciando conexión de socket..."
    },
    {
      "timestamp": "2025-08-15T02:05:19.444Z",
      "level": "log",
      "message": "🔌 Configurando socket con URL:",
      "data": [
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.444Z",
      "level": "log",
      "message": "🔌 Token disponible:",
      "data": [
        "Sí"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.444Z",
      "level": "log",
      "message": "🔌 Configuración de entorno:",
      "data": [
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.445Z",
      "level": "log",
      "message": "🔌 Conectando socket con timeout de",
      "data": [
        30000,
        "ms..."
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.446Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Configurando listeners globales"
    },
    {
      "timestamp": "2025-08-15T02:05:19.838Z",
      "level": "log",
      "message": "🔌 Socket conectado exitosamente:",
      "data": [
        "qH-zkKzwT2pK7fRHAABM"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.839Z",
      "level": "log",
      "message": "✅ Socket conectado:",
      "data": [
        "qH-zkKzwT2pK7fRHAABM"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:19.840Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "connected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:20.251Z",
      "level": "log",
      "message": "✅ WebSocketContext - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {},
          "serverTime": "2025-08-15T02:05:20.192Z",
          "syncId": "initial_1755223520192"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:20.251Z",
      "level": "log",
      "message": "🚀 WebSocketContext - Emitiendo evento websocket:state-synced..."
    },
    {
      "timestamp": "2025-08-15T02:05:20.251Z",
      "level": "log",
      "message": "✅ WebSocketContext - Evento websocket:state-synced emitido exitosamente"
    },
    {
      "timestamp": "2025-08-15T02:05:44.033Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.033Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.069Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.071Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.072Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.072Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.073Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.073Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.073Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.073Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.088Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.088Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.088Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:44.088Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T02:05:44.088Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.088Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.088Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:44.088Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T02:05:44.424Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:44.424Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"2 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T02:05:44.356Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.424Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.424Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.462Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.462Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.462Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.463Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.464Z",
      "level": "log",
      "message": "🎧 useChat - Configurando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.464Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.464Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🎧 useChat - Limpiando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.465Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🎧 useChat - Configurando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadMessages:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.466Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.466Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:44.466Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T02:05:44.467Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.467Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.467Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.467Z",
      "level": "error",
      "message": "[2025-08-15T02:05:44.467Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:44.467Z",
      "level": "error",
      "message": "[2025-08-15T02:05:44.467Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:44.467Z",
      "level": "error",
      "message": "[2025-08-15T02:05:44.467Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:44.468Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2120.8429238146805ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:05:44.481Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.481Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.482Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.482Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:44.482Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 983ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.482Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 980ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:44.848Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:44.848Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"2 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T02:05:44.764Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:44.848Z",
      "level": "info",
      "message": "[2025-08-15T02:05:44.848Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:45.075Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.075Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.076Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.076Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.112Z",
      "level": "debug",
      "message": "[2025-08-15T02:05:45.111Z] [DEBUG] [API] Response: GET /api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50 | Data: {\n  \"success\": true,\n  \"data\": {\n    \"messages\": [\n      {\n        \"id\": \"MSG_1755083537705_r20ypc265\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"Holaaa\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-13T11:12:17.705Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM1e4fdeb8cd6430a34c4a194cd9e22cba\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-13T11:12:17.705Z\",\n          \"uniqueTimestamp\": 1755083537705,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-13T11:12:17.918Z\",\n        \"updatedAt\": \"2025-08-13T11:12:17.918Z\"\n      },\n      {\n        \"id\": \"e9f6edd0-d771-4829-89f0-16393b53eed3\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 9\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"queued\",\n        \"timestamp\": \"2025-08-11T22:21:25.840Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T22:21:25.283Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioSid\": \"SM7b74104a3d773a2cc5cd7d7b34453684\",\n          \"twilioStatus\": \"queued\",\n          \"sentAt\": \"2025-08-11T22:21:26.221Z\"\n        },\n        \"createdAt\": \"2025-08-11T22:21:25.999Z\",\n        \"updatedAt\": \"2025-08-11T22:21:25.999Z\"\n      },\n      {\n        \"id\": \"MSG_1754950781909_0fpwl9xst\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 1 de envio\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T22:19:41.909Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SMa3126c3606f11b692d0cfdfe5af6f25a\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T22:19:41.909Z\",\n          \"uniqueTimestamp\": 1754950781909,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T22:19:42.049Z\",\n        \"updatedAt\": \"2025-08-11T22:19:42.049Z\"\n      },\n      {\n        \"id\": \"5b550d66-a89f-4205-8f5b-fa08fe307c07\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 8\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"queued\",\n        \"timestamp\": \"2025-08-11T22:19:32.291Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T22:19:31.636Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioSid\": \"SMa9f4c6a934b0a953e61429e7aedfd343\",\n          \"twilioStatus\": \"queued\",\n          \"sentAt\": \"2025-08-11T22:19:32.759Z\"\n        },\n        \"createdAt\": \"2025-08-11T22:19:32.432Z\",\n        \"updatedAt\": \"2025-08-11T22:19:32.432Z\"\n      },\n      {\n        \"id\": \"16050327-bfed-4ba0-a18f-8dfe989a7e8b\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 7\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:39:40.496Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:39:39.770Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:39:40.899Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:39:40.654Z\",\n        \"updatedAt\": \"2025-08-11T21:39:40.654Z\"\n      },\n      {\n        \"id\": \"6f48c575-bdb1-40c4-9887-98d82bd6aeaf\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 6\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:24:37.443Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:24:36.998Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:24:37.855Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:24:37.709Z\",\n        \"updatedAt\": \"2025-08-11T21:24:37.709Z\"\n      },\n      {\n        \"id\": \"968d44e0-80c4-458d-bbc8-e731090ded63\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 5\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:17:49.359Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:17:48.723Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:17:49.845Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:17:49.562Z\",\n        \"updatedAt\": \"2025-08-11T21:17:49.562Z\"\n      },\n      {\n        \"id\": \"4bebac39-f0a0-4cbc-b48f-8d0bf1bcbabd\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 4\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T20:52:51.752Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T20:52:51.188Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T20:52:51.969Z\",\n        \"updatedAt\": \"2025-08-11T20:52:51.969Z\"\n      },\n      {\n        \"id\": \"MSG_1754941616747_emylhujdz\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"HOLISSS\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T19:46:56.747Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM5fb9060c9614628a880c9273e63af0a3\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T19:46:56.747Z\",\n          \"uniqueTimestamp\": 1754941616747,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T19:46:56.998Z\",\n        \"updatedAt\": \"2025-08-11T19:46:56.998Z\"\n      },\n      {\n        \"id\": \"2b4b292c-67d1-43d6-a9b1-24f17a720213\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:46:21.776Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:46:21.133Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:46:21.980Z\",\n        \"updatedAt\": \"2025-08-11T19:46:21.980Z\"\n      },\n      {\n        \"id\": \"df425d26-9c23-4326-acfe-3c48833ba101\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:46:09.915Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:46:09.293Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:46:10.139Z\",\n        \"updatedAt\": \"2025-08-11T19:46:10.139Z\"\n      },\n      {\n        \"id\": \"f56417c5-e6f5-446e-b5c5-cd5f1b8085e8\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:27:27.845Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:27:27.170Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:27:28.067Z\",\n        \"updatedAt\": \"2025-08-11T19:27:28.067Z\"\n      },\n      {\n        \"id\": \"57783593-19c5-44f0-afdf-051a0e12bbdf\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 2\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:58:35.150Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:58:34.594Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:58:35.350Z\",\n        \"updatedAt\": \"2025-08-11T18:58:35.350Z\"\n      },\n      {\n        \"id\": \"b23da669-896f-4030-8a11-6583b232e96e\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 2\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:58:20.651Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:58:20.111Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:58:20.847Z\",\n        \"updatedAt\": \"2025-08-11T18:58:20.847Z\"\n      },\n      {\n        \"id\": \"cb540857-2d36-45ce-9813-4f8fe42f332a\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 1\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:35:02.059Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:35:01.365Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:35:02.315Z\",\n        \"updatedAt\": \"2025-08-11T18:35:02.315Z\"\n      },\n      {\n        \"id\": \"c920fbcd-4c1f-4d2f-a8e1-53d09c42b39b\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:26:49.061Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:26:48.545Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:26:49.280Z\",\n        \"updatedAt\": \"2025-08-11T18:26:49.280Z\"\n      },\n      {\n        \"id\": \"88292b66-9ecb-4049-968f-33e5550612b3\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:26:21.519Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:26:20.930Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:26:21.722Z\",\n        \"updatedAt\": \"2025-08-11T18:26:21.722Z\"\n      },\n      {\n        \"id\": \"c468044f-0a1e-4a33-8bc9-6bc0f01c46fc\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"jjjj\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:46:54.927Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:46:54.410Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:46:55.060Z\",\n        \"updatedAt\": \"2025-08-11T17:46:55.060Z\"\n      },\n      {\n        \"id\": \"MSG_1754934375246_40d3ybjnv\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"jajajaj\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T17:46:15.247Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM3eb1c0205d6c65d6a5c4d5cbaafc3b7c\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T17:46:15.247Z\",\n          \"uniqueTimestamp\": 1754934375247,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T17:46:15.459Z\",\n        \"updatedAt\": \"2025-08-11T17:46:15.459Z\"\n      },\n      {\n        \"id\": \"79b2ed36-fa5a-43a1-8dad-9b6a6dbfba0d\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"holis\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:45:36.065Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:45:35.561Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:45:36.237Z\",\n        \"updatedAt\": \"2025-08-11T17:45:36.237Z\"\n      },\n      {\n        \"id\": \"4e55eb60-e9b0-4caf-8ced-e0ab6fadf553\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:45:24.369Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:45:23.776Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:45:24.546Z\",\n        \"updatedAt\": \"2025-08-11T17:45:24.546Z\"\n      },\n      {\n        \"id\": \"MSG_1754755557212_3y8gpsrmz\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"Hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-09T16:05:57.212Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM60d2aab9d436ba64a0643f3f3e5f6fb0\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-09T16:05:57.212Z\",\n          \"uniqueTimestamp\": 1754755557212,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-09T16:05:57.431Z\",\n        \"updatedAt\": \"2025-08-09T16:05:57.431Z\"\n      },\n      {\n        \"id\": \"MSG_1754699629675_3ey9znjaj\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-09T00:33:49.675Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM90dd469b5fb26925eaf98bfc90ed96b9\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-09T00:33:49.675Z\",\n          \"uniqueTimestamp\": 1754699629675,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-09T00:33:49.900Z\",\n        \"updatedAt\": \"2025-08-09T00:33:49.900Z\"\n      }\n    ],\n    \"pagination\": {\n      \"hasMore\": false,\n      \"nextCursor\": null,\n      \"totalResults\": 23,\n      \"limit\": 50,\n      \"orderBy\": \"timestamp\",\n      \"order\": \"desc\"\n    },\n    \"metadata\": {\n      \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n      \"totalResults\": 23,\n      \"queryTime\": \"186ms\"\n    }\n  },\n  \"message\": \"23 mensajes encontrados\",\n  \"timestamp\": \"2025-08-15T02:05:45.034Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:45.112Z",
      "level": "info",
      "message": "[2025-08-15T02:05:45.112Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:45.165Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.166Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.182Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.183Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.183Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.183Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 282ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:45.183Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 279ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:45.393Z",
      "level": "log",
      "message": "✅ useConversations - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {},
          "serverTime": "2025-08-15T02:05:45.333Z",
          "syncId": 1755223545333
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.394Z",
      "level": "log",
      "message": "📋 useConversations - Actualizando conversaciones sincronizadas:",
      "data": [
        2
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.464Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1000ms"
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "info",
      "message": "[2025-08-15T02:05:45.465Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:45.465Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.466Z",
      "level": "error",
      "message": "[2025-08-15T02:05:45.466Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:45.466Z",
      "level": "error",
      "message": "[2025-08-15T02:05:45.466Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:45.466Z",
      "level": "error",
      "message": "[2025-08-15T02:05:45.466Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:45.466Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4060.4583258662974ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:05:45.467Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 997ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:45.467Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 997ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:45.467Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.467Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.467Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 997ms"
    },
    {
      "timestamp": "2025-08-15T02:05:45.468Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 999ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.465Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.465Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.466Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en -2ms"
    },
    {
      "timestamp": "2025-08-15T02:05:46.467Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.467Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.467Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.467Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.468Z",
      "level": "info",
      "message": "[2025-08-15T02:05:46.468Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:46.468Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.468Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.468Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.469Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.469Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.469Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.469Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.469Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8452.625768183443ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:05:46.470Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 995ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.470Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:05:46.495Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en -30ms"
    },
    {
      "timestamp": "2025-08-15T02:05:46.495Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.495Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.495Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.496Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.496Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.496Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.496Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.496Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.497Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.497Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.497Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 983ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 953ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 1984ms"
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.512Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.513Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.513Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 982ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.513Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 952ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:46.589Z",
      "level": "info",
      "message": "[2025-08-15T02:05:46.589Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:46.589Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:46.589Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.589Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.589Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.589Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.590Z",
      "level": "error",
      "message": "[2025-08-15T02:05:46.590Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:46.590Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:05:47.467Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.467Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.467Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.467Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.468Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.468Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.468Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.468Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1002ms"
    },
    {
      "timestamp": "2025-08-15T02:05:47.469Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.469Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.469Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.469Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.470Z",
      "level": "info",
      "message": "[2025-08-15T02:05:47.470Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:47.470Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.470Z",
      "level": "error",
      "message": "[2025-08-15T02:05:47.470Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:47.471Z",
      "level": "error",
      "message": "[2025-08-15T02:05:47.471Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:47.471Z",
      "level": "error",
      "message": "[2025-08-15T02:05:47.471Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:47.472Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:47.472Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 994ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:47.472Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 994ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:47.497Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 999ms"
    },
    {
      "timestamp": "2025-08-15T02:05:47.498Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 999ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:48.467Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.468Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.468Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.468Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.468Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.469Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.469Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.469Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.469Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.470Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.470Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.470Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.470Z",
      "level": "info",
      "message": "[2025-08-15T02:05:48.470Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:48.470Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.471Z",
      "level": "error",
      "message": "[2025-08-15T02:05:48.471Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:48.471Z",
      "level": "error",
      "message": "[2025-08-15T02:05:48.471Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:48.471Z",
      "level": "error",
      "message": "[2025-08-15T02:05:48.471Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:48.472Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2000.461014597555ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:05:48.472Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55990ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:48.473Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en -3ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.498Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1976ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.498Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1976ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.499Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.499Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.499Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.499Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755223518,
          "exp": 1755224418,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.500Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en -4ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.501Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.501Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.501Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55961ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:48.501Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.502Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55963ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:48.502Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 1999ms"
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55950ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:48.515Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55947ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:49.447Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - WebSocket timeout, continuando sin tiempo real"
    },
    {
      "timestamp": "2025-08-15T02:05:49.448Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - Login HTTP exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T02:05:49.448Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - Activando modo fallback:",
      "data": [
        {
          "reason": "timeout",
          "timestamp": "2025-08-15T02:05:49.448Z",
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjIzNTE4LCJleHAiOjE3NTUyMjQ0MTgsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.i_69lQeKJNuHtnHBmzp29Wfmt5RfUKjhQdHWp97vzPU"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.448Z",
      "level": "warn",
      "message": "⚠️ Modo offline activado - Funcionalidad de tiempo real limitada"
    },
    {
      "timestamp": "2025-08-15T02:05:49.483Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.483Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.484Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.484Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.484Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 54981ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:49.484Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 54978ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:49.528Z",
      "level": "info",
      "message": "[2025-08-15T02:05:49.528Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:49.528Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:49.528Z",
      "level": "error",
      "message": "[2025-08-15T02:05:49.528Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:49.529Z",
      "level": "error",
      "message": "[2025-08-15T02:05:49.529Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:49.529Z",
      "level": "error",
      "message": "[2025-08-15T02:05:49.529Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:49.529Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4396.019087575317ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:05:50.474Z",
      "level": "info",
      "message": "[2025-08-15T02:05:50.474Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:50.474Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.475Z",
      "level": "error",
      "message": "[2025-08-15T02:05:50.475Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:50.475Z",
      "level": "error",
      "message": "[2025-08-15T02:05:50.475Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:50.475Z",
      "level": "error",
      "message": "[2025-08-15T02:05:50.475Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:50.476Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8332.858332769565ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:05:50.476Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:05:50.502Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.503Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.503Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.503Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.504Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53961ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:50.504Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53958ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:50.504Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en -3ms"
    },
    {
      "timestamp": "2025-08-15T02:05:50.504Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:05:50.519Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.519Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.519Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.519Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:50.520Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53945ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:50.520Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53942ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:52.506Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.506Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.507Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.507Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.507Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51958ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:52.507Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51955ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51944ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:52.521Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51941ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:05:53.927Z",
      "level": "info",
      "message": "[2025-08-15T02:05:53.927Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:53.927Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:53.927Z",
      "level": "error",
      "message": "[2025-08-15T02:05:53.927Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:53.928Z",
      "level": "error",
      "message": "[2025-08-15T02:05:53.928Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:53.928Z",
      "level": "error",
      "message": "[2025-08-15T02:05:53.928Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:53.928Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:05:54.924Z",
      "level": "info",
      "message": "[2025-08-15T02:05:54.924Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:54.924Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:54.924Z",
      "level": "error",
      "message": "[2025-08-15T02:05:54.924Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:54.924Z",
      "level": "error",
      "message": "[2025-08-15T02:05:54.924Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:54.924Z",
      "level": "error",
      "message": "[2025-08-15T02:05:54.924Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:54.925Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:56.592Z",
      "level": "info",
      "message": "[2025-08-15T02:05:56.592Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:56.592Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:56.592Z",
      "level": "error",
      "message": "[2025-08-15T02:05:56.592Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:56.592Z",
      "level": "error",
      "message": "[2025-08-15T02:05:56.592Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:56.593Z",
      "level": "error",
      "message": "[2025-08-15T02:05:56.593Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:56.593Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2091.5156501536317ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:05:58.686Z",
      "level": "info",
      "message": "[2025-08-15T02:05:58.686Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:58.686Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:58.686Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.686Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.687Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.687Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.687Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.687Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.687Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4212.3511072831525ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:05:58.811Z",
      "level": "info",
      "message": "[2025-08-15T02:05:58.811Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:05:58.811Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:05:58.811Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.811Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.811Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.811Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.812Z",
      "level": "error",
      "message": "[2025-08-15T02:05:58.812Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:05:58.812Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8131.594643311116ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:06:02.902Z",
      "level": "info",
      "message": "[2025-08-15T02:06:02.902Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:06:02.902Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:06:02.902Z",
      "level": "error",
      "message": "[2025-08-15T02:06:02.902Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:02.903Z",
      "level": "error",
      "message": "[2025-08-15T02:06:02.902Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:02.903Z",
      "level": "error",
      "message": "[2025-08-15T02:06:02.903Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:02.903Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "info",
      "message": "[2025-08-15T02:06:03.931Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "error",
      "message": "[2025-08-15T02:06:03.931Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "error",
      "message": "[2025-08-15T02:06:03.931Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "error",
      "message": "[2025-08-15T02:06:03.931Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:03.931Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:06.945Z",
      "level": "info",
      "message": "[2025-08-15T02:06:06.945Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:06:06.945Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:06:06.946Z",
      "level": "error",
      "message": "[2025-08-15T02:06:06.946Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:06.946Z",
      "level": "error",
      "message": "[2025-08-15T02:06:06.946Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:06.946Z",
      "level": "error",
      "message": "[2025-08-15T02:06:06.946Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:06:06.947Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2072.8052124777014ms (intento 0)"
    }
  ]
}