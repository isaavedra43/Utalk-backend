{
  "exportDate": "2025-08-15T10:21:43.180Z",
  "totalLogs": 117,
  "logs": [
    {
      "timestamp": "2025-08-15T10:20:59.262Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de logs iniciada autom√°ticamente"
    },
    {
      "timestamp": "2025-08-15T10:20:59.262Z",
      "level": "info",
      "message": "[2025-08-15T10:20:59.262Z] [INFO] [SYSTEM] Iniciando aplicaci√≥n UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-15T10:20:59.262Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:20:59.262Z",
      "level": "info",
      "message": "[2025-08-15T10:20:59.262Z] [INFO] [CONFIG] Configuraci√≥n v√°lida al iniciar | Data: {\n  \"allSystemsReady\": true,\n  \"timestamp\": \"2025-08-15T10:20:59.262Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:20:59.273Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.273Z",
      "level": "log",
      "message": "üîó Room Config - No se puede validar (sin autenticaci√≥n v√°lida)"
    },
    {
      "timestamp": "2025-08-15T10:20:59.273Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.273Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.274Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.274Z",
      "level": "log",
      "message": "üîó Room Config - No se puede validar (sin autenticaci√≥n v√°lida)"
    },
    {
      "timestamp": "2025-08-15T10:20:59.274Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.274Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.285Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:20:59.285Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.113Z",
      "level": "info",
      "message": "[2025-08-15T10:21:06.113Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.124Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.124Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.125Z",
      "level": "info",
      "message": "[2025-08-15T10:21:06.125Z] [INFO] [API] Request sin token | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"isAuthEndpoint\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.125Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:06.125Z] [DEBUG] [API] Request: POST /api/auth/login | Data: {\n  \"email\": \"admin@company.com\",\n  \"password\": \"12345678\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.652Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:06.652Z] [DEBUG] [API] Response: POST /api/auth/login | Data: {\n  \"success\": true,\n  \"message\": \"Login exitoso\",\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjUzMjY2LCJleHAiOjE3NTUyNTQxNjYsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.7V2VLTm0FiUrIQ41rAGVPamBciyEKpYLDZ3EIDjrxi8\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiZmFtaWx5SWQiOiIxZWFkZjhmZS1iOTAzLTQ4NTQtODc2ZC05NzU1MzE2YjQ2MWEiLCJkZXZpY2VJZCI6IjMwNzM3ZGZhLTQ0ODYtNDAyOC05ZmFiLWE0ZWVlYjJmOTUzYyIsImlhdCI6MTc1NTI1MzI2NiwiZXhwIjoxNzU1ODU4MDY2LCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.6RulzZ4vkq8z_LQW52FbrzmEVCDflnkyERe75LTU6CM\",\n  \"expiresIn\": \"15m\",\n  \"refreshExpiresIn\": \"7d\",\n  \"user\": {\n    \"id\": \"admin@company.com\",\n    \"email\": \"admin@company.com\",\n    \"name\": \"Administrador del Sistema\",\n    \"phone\": null,\n    \"role\": \"admin\",\n    \"permissions\": [\n      \"users.read\",\n      \"users.write\",\n      \"users.delete\",\n      \"conversations.read\",\n      \"conversations.write\",\n      \"conversations.delete\",\n      \"messages.read\",\n      \"messages.write\",\n      \"campaigns.read\",\n      \"campaigns.write\",\n      \"campaigns.delete\",\n      \"dashboard.read\",\n      \"settings.read\",\n      \"settings.write\",\n      \"crm.read\",\n      \"crm.write\"\n    ],\n    \"department\": \"admin\",\n    \"isActive\": true,\n    \"settings\": {\n      \"notifications\": true,\n      \"language\": \"es\",\n      \"timezone\": \"America/Mexico_City\"\n    },\n    \"lastLoginAt\": {\n      \"_seconds\": 1752719278,\n      \"_nanoseconds\": 484000000\n    },\n    \"createdAt\": {\n      \"_seconds\": 1755253266,\n      \"_nanoseconds\": 309000000\n    },\n    \"updatedAt\": {\n      \"_seconds\": 1753925658,\n      \"_nanoseconds\": 131000000\n    },\n    \"performance\": null\n  },\n  \"deviceInfo\": {\n    \"deviceId\": \"30737dfa-4486-4028-9fab-a4eeeb2f953c\",\n    \"deviceType\": \"web\",\n    \"loginAt\": \"2025-08-15T10:21:06.470Z\"\n  }\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.652Z",
      "level": "info",
      "message": "[2025-08-15T10:21:06.652Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.652Z",
      "level": "log",
      "message": "‚úÖ Login exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T10:21:06.656Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.656Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.657Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.657Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.663Z",
      "level": "info",
      "message": "[2025-08-15T10:21:06.663Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.664Z",
      "level": "info",
      "message": "[2025-08-15T10:21:06.664Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:06.754Z",
      "level": "log",
      "message": "üîå WebSocketContext - Login exitoso, conectando WebSocket inmediatamente..."
    },
    {
      "timestamp": "2025-08-15T10:21:06.754Z",
      "level": "log",
      "message": "üîå Iniciando conexi√≥n de socket..."
    },
    {
      "timestamp": "2025-08-15T10:21:06.754Z",
      "level": "log",
      "message": "üîå Configurando socket con URL:",
      "data": [
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.754Z",
      "level": "log",
      "message": "üîå Token disponible:",
      "data": [
        "S√≠"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.754Z",
      "level": "log",
      "message": "üîå Configuraci√≥n de entorno:",
      "data": [
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.755Z",
      "level": "log",
      "message": "üîå Conectando socket con timeout de",
      "data": [
        45000,
        "ms..."
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:06.756Z",
      "level": "log",
      "message": "üîå WebSocketContext - Configurando listeners globales"
    },
    {
      "timestamp": "2025-08-15T10:21:07.087Z",
      "level": "log",
      "message": "‚úÖ WebSocket: Conectado exitosamente",
      "data": [
        {
          "socketId": "K0aWNE0zW5jVJJfKAAAW",
          "url": "wss://utalk-backend-production.up.railway.app",
          "timestamp": "2025-08-15T10:21:07.087Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:07.088Z",
      "level": "log",
      "message": "‚úÖ Socket conectado:",
      "data": [
        "K0aWNE0zW5jVJJfKAAAW"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:07.089Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "connected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:07.574Z",
      "level": "log",
      "message": "‚úÖ WebSocketContext - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_++5214773790184_++5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755253044750_0qct3cbn6",
                "content": "Prueba 2 chat",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755253044,
                  "_nanoseconds": 750000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 750000000
              },
              "unreadCount": 1,
              "messageCount": 1,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 907000000
              },
              "updatedAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 907000000
              }
            },
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_++5214773790184_++5214793176502": 1,
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {},
          "serverTime": "2025-08-15T10:21:07.505Z",
          "syncId": "initial_1755253267505"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:07.574Z",
      "level": "log",
      "message": "üöÄ WebSocketContext - Emitiendo evento websocket:state-synced..."
    },
    {
      "timestamp": "2025-08-15T10:21:07.574Z",
      "level": "log",
      "message": "‚úÖ WebSocketContext - Evento websocket:state-synced emitido exitosamente"
    },
    {
      "timestamp": "2025-08-15T10:21:09.405Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:09.405Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:09.435Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:21:09.437Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:21:09.438Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:21:09.438Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:21:09.453Z",
      "level": "info",
      "message": "[2025-08-15T10:21:09.453Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:09.453Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:09.453Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T10:21:09.453Z",
      "level": "info",
      "message": "[2025-08-15T10:21:09.453Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:09.453Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:09.453Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T10:21:09.693Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:09.693Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_++5214773790184_++5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755253044750_0qct3cbn6\",\n        \"content\": \"Prueba 2 chat\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755253044,\n          \"_nanoseconds\": 750000000\n        },\n        \"timestampMs\": 1755253044750,\n        \"timestampISO\": \"2025-08-15T10:17:24.750Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 750000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"messageCount\": 1,\n      \"lastMessageAtMs\": 1755253044750,\n      \"lastMessageAtISO\": \"2025-08-15T10:17:24.750Z\"\n    },\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"3 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T10:21:09.705Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:09.694Z",
      "level": "info",
      "message": "[2025-08-15T10:21:09.694Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:09.938Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:09.938Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_++5214773790184_++5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755253044750_0qct3cbn6\",\n        \"content\": \"Prueba 2 chat\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755253044,\n          \"_nanoseconds\": 750000000\n        },\n        \"timestampMs\": 1755253044750,\n        \"timestampISO\": \"2025-08-15T10:17:24.750Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 750000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"messageCount\": 1,\n      \"lastMessageAtMs\": 1755253044750,\n      \"lastMessageAtISO\": \"2025-08-15T10:17:24.750Z\"\n    },\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"3 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T10:21:09.953Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:09.938Z",
      "level": "info",
      "message": "[2025-08-15T10:21:09.938Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:12.630Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n selectConversation:",
      "data": [
        {
          "id": "conv_++5214773790184_++5214793176502",
          "isValid": true,
          "phones": null,
          "length": 36
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.652Z",
      "level": "log",
      "message": "üîó useChat - Uni√©ndose a conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.653Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n joinConversation:",
      "data": [
        {
          "id": "conv_++5214773790184_++5214793176502",
          "isValid": true,
          "phones": null,
          "length": 36
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.653Z",
      "level": "log",
      "message": "üîó WebSocket: Uni√©ndose a conversaci√≥n",
      "data": [
        {
          "conversationId": "conv_++5214773790184_++5214793176502",
          "timestamp": "2025-08-15T10:21:12.653Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.653Z",
      "level": "log",
      "message": "üîó ID de conversaci√≥n codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_++5214773790184_++5214793176502",
          "sanitizedId": "conv_++5214773790184_++5214793176502",
          "encodedId": "conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.654Z",
      "level": "log",
      "message": "üîê JWT - Informaci√≥n extra√≠da del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.654Z",
      "level": "log",
      "message": "üîê JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755253266,
          "exp": 1755254166,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.654Z",
      "level": "log",
      "message": "üîê JWT - Informaci√≥n extra√≠da del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.654Z",
      "level": "log",
      "message": "üîó Room ID generado (formato simplificado):",
      "data": [
        {
          "conversationId": "conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "roomId": "conversation:conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.655Z",
      "level": "log",
      "message": "‚úÖ WebSocket: Unido a conversaci√≥n",
      "data": [
        {
          "conversationId": "conv_++5214773790184_++5214793176502",
          "roomId": "conversation:conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "timestamp": "2025-08-15T10:21:12.655Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.655Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_++5214773790184_++5214793176502",
          "decodedId": "conv_++5214773790184_++5214793176502",
          "sanitizedId": "conv_++5214773790184_++5214793176502",
          "encodedId": "conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.655Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n loadMessages:",
      "data": [
        {
          "id": "conv_++5214773790184_++5214793176502",
          "isValid": true,
          "phones": null,
          "length": 36
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üéß useChat - Configurando listeners para conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üîå useChat - Saliendo de conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n leaveConversation:",
      "data": [
        {
          "id": "conv_++5214773790184_++5214793176502",
          "isValid": true,
          "phones": null,
          "length": 36
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üîå WebSocket: No est√° en la conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üéß useChat - Limpiando listeners para conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.656Z",
      "level": "log",
      "message": "üéß useChat - Configurando listeners para conversaci√≥n:",
      "data": [
        "conv_++5214773790184_++5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:12.657Z",
      "level": "info",
      "message": "[2025-08-15T10:21:12.656Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:12.657Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:12.657Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:21:12.810Z",
      "level": "error",
      "message": "[2025-08-15T10:21:12.810Z] [ERROR] [API] API Error: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50 | Data: {\n  \"status\": 400,\n  \"data\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"message\": \"Request failed with status code 400\"\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:12.810Z",
      "level": "error",
      "message": "[2025-08-15T10:21:12.810Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"status\": 400,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:12.810Z",
      "level": "log",
      "message": "üîÑ Reintentando loadMessages:conversationId:conv_++5214773790184_++5214793176502 en 2136.42042387769ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T10:21:12.840Z",
      "level": "log",
      "message": "üîó useConversations - Usuario unido a conversaci√≥n:",
      "data": [
        {
          "conversationId": "conv_++5214773790184_++5214793176502",
          "roomId": "conversation:conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "onlineUsers": [
            "admin@company.com"
          ],
          "success": true,
          "timestamp": "2025-08-15T10:21:12.860Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:14.948Z",
      "level": "info",
      "message": "[2025-08-15T10:21:14.948Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:14.949Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:14.949Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:21:15.108Z",
      "level": "error",
      "message": "[2025-08-15T10:21:15.108Z] [ERROR] [API] API Error: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50 | Data: {\n  \"status\": 400,\n  \"data\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"message\": \"Request failed with status code 400\"\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:15.108Z",
      "level": "error",
      "message": "[2025-08-15T10:21:15.108Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"status\": 400,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:15.109Z",
      "level": "log",
      "message": "üîÑ Reintentando loadMessages:conversationId:conv_++5214773790184_++5214793176502 en 4107.917906084864ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T10:21:19.217Z",
      "level": "info",
      "message": "[2025-08-15T10:21:19.217Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:19.217Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:19.217Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:21:19.376Z",
      "level": "error",
      "message": "[2025-08-15T10:21:19.376Z] [ERROR] [API] API Error: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50 | Data: {\n  \"status\": 400,\n  \"data\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"message\": \"Request failed with status code 400\"\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:19.376Z",
      "level": "error",
      "message": "[2025-08-15T10:21:19.376Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"status\": 400,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:19.377Z",
      "level": "log",
      "message": "üîÑ Reintentando loadMessages:conversationId:conv_++5214773790184_++5214793176502 en 8124.58475095185ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T10:21:27.502Z",
      "level": "info",
      "message": "[2025-08-15T10:21:27.502Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:27.502Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:27.502Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:21:27.672Z",
      "level": "error",
      "message": "[2025-08-15T10:21:27.672Z] [ERROR] [API] API Error: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50 | Data: {\n  \"status\": 400,\n  \"data\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"message\": \"Request failed with status code 400\"\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:27.672Z",
      "level": "error",
      "message": "[2025-08-15T10:21:27.672Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"status\": 400,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:27.673Z",
      "level": "log",
      "message": "üîÑ Reintentando loadMessages:conversationId:conv_++5214773790184_++5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T10:21:36.758Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - WebSocket timeout, continuando sin tiempo real"
    },
    {
      "timestamp": "2025-08-15T10:21:36.758Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - Login HTTP exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T10:21:36.758Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - Activando modo fallback:",
      "data": [
        {
          "reason": "timeout",
          "timestamp": "2025-08-15T10:21:36.758Z",
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjUzMjY2LCJleHAiOjE3NTUyNTQxNjYsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.7V2VLTm0FiUrIQ41rAGVPamBciyEKpYLDZ3EIDjrxi8"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:36.758Z",
      "level": "warn",
      "message": "‚ö†Ô∏è Modo offline activado - Funcionalidad de tiempo real limitada"
    },
    {
      "timestamp": "2025-08-15T10:21:37.675Z",
      "level": "info",
      "message": "[2025-08-15T10:21:37.675Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:37.675Z",
      "level": "debug",
      "message": "[2025-08-15T10:21:37.675Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:21:37.853Z",
      "level": "error",
      "message": "[2025-08-15T10:21:37.852Z] [ERROR] [API] API Error: GET /api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50 | Data: {\n  \"status\": 400,\n  \"data\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"message\": \"Request failed with status code 400\"\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.853Z",
      "level": "error",
      "message": "[2025-08-15T10:21:37.853Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50\",\n  \"status\": 400,\n  \"statusText\": \"\",\n  \"errorData\": {\n    \"error\": \"validation_error\",\n    \"details\": [\n      {\n        \"field\": \"conversationId\",\n        \"code\": \"invalid_format\",\n        \"message\": \"Formato de conversationId inv√°lido en query parameters\",\n        \"value\": \"conv_++5214773790184_++5214793176502\",\n        \"normalized\": \"conv_++5214773790184_++5214793176502\"\n      }\n    ]\n  },\n  \"isNetworkError\": false,\n  \"isTimeout\": false\n} | Error: Request failed with status code 400 | Stack: AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.854Z",
      "level": "error",
      "message": "Error cargando mensajes:",
      "data": [
        {
          "message": "Request failed with status code 400",
          "name": "AxiosError",
          "stack": "AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2143:41)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:58:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:145:11)",
          "config": {
            "transitional": {
              "silentJSONParsing": true,
              "forcedJSONParsing": true,
              "clarifyTimeoutError": false
            },
            "adapter": [
              "xhr",
              "http",
              "fetch"
            ],
            "transformRequest": [
              null
            ],
            "transformResponse": [
              null
            ],
            "timeout": 30000,
            "xsrfCookieName": "XSRF-TOKEN",
            "xsrfHeaderName": "X-XSRF-TOKEN",
            "maxContentLength": -1,
            "maxBodyLength": -1,
            "env": {},
            "headers": {
              "Accept": "application/json, text/plain, */*",
              "Content-Type": "application/json",
              "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjUzMjY2LCJleHAiOjE3NTUyNTQxNjYsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.7V2VLTm0FiUrIQ41rAGVPamBciyEKpYLDZ3EIDjrxi8"
            },
            "baseURL": "https://utalk-backend-production.up.railway.app",
            "method": "get",
            "url": "/api/messages?conversationId=conv_%2B%2B5214773790184_%2B%2B5214793176502&limit=50",
            "allowAbsoluteUrls": true
          },
          "code": "ERR_BAD_REQUEST",
          "status": 400
        }
      ],
      "stack": "AxiosError: Request failed with status code 400\n    at settle (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1253:12)\n    at XMLHttpRequest.onloadend (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:1585:7)\n    at Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2143:41)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:58:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:145:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.855Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_++5214773790184_++5214793176502",
          "decodedId": "conv_++5214773790184_++5214793176502",
          "sanitizedId": "conv_++5214773790184_++5214793176502",
          "encodedId": "conv_%2B%2B5214773790184_%2B%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:37.855Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n loadConversation:",
      "data": [
        {
          "id": "conv_++5214773790184_++5214793176502",
          "isValid": true,
          "phones": null,
          "length": 36
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:37.855Z",
      "level": "info",
      "message": "[2025-08-15T10:21:37.855Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:37.856Z",
      "level": "warn",
      "message": "‚ö†Ô∏è ID de conversaci√≥n inv√°lido:",
      "data": [
        "conv_%2B%2B5214773790184_%2B%2B5214793176502",
        "decoded:",
        "conv_%2B%2B5214773790184_%2B%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:37.856Z",
      "level": "error",
      "message": "[2025-08-15T10:21:37.856Z] [ERROR] [API] ID de conversaci√≥n inv√°lido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"invalidId\": \"conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"decodedId\": \"conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.856Z",
      "level": "error",
      "message": "[2025-08-15T10:21:37.856Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\"\n} | Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.857Z",
      "level": "error",
      "message": "[2025-08-15T10:21:37.857Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.857Z",
      "level": "log",
      "message": "üîÑ Reintentando loadConversation:conversationId:conv_++5214773790184_++5214793176502 en 2038.579864842097ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T10:21:37.859Z",
      "level": "log",
      "message": "üé® ChatComponent - Estado de renderizado:",
      "data": [
        {
          "isConnected": true,
          "isJoined": false,
          "loading": false,
          "error": "Request failed with status code 400",
          "messagesCount": 0,
          "conversationId": "conv_++5214773790184_++5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:39.897Z",
      "level": "info",
      "message": "[2025-08-15T10:21:39.897Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:21:39.898Z",
      "level": "warn",
      "message": "‚ö†Ô∏è ID de conversaci√≥n inv√°lido:",
      "data": [
        "conv_%2B%2B5214773790184_%2B%2B5214793176502",
        "decoded:",
        "conv_%2B%2B5214773790184_%2B%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:21:39.898Z",
      "level": "error",
      "message": "[2025-08-15T10:21:39.898Z] [ERROR] [API] ID de conversaci√≥n inv√°lido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"invalidId\": \"conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"decodedId\": \"conv_%2B%2B5214773790184_%2B%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:39.899Z",
      "level": "error",
      "message": "[2025-08-15T10:21:39.899Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\"\n} | Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:39.899Z",
      "level": "error",
      "message": "[2025-08-15T10:21:39.899Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502 | Stack: Error: ID de conversaci√≥n inv√°lido: conv_%2B%2B5214773790184_%2B%2B5214793176502\n    at http://localhost:5173/src/services/api.ts?t=1755252758905:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:94:24\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts?t=1755253230130:146:11)"
    },
    {
      "timestamp": "2025-08-15T10:21:39.899Z",
      "level": "log",
      "message": "üîÑ Reintentando loadConversation:conversationId:conv_++5214773790184_++5214793176502 en 4095.836581845591ms (intento 1)"
    }
  ]
}