{
  "exportDate": "2025-08-15T02:55:55.519Z",
  "totalLogs": 414,
  "logs": [
    {
      "timestamp": "2025-08-15T02:55:17.061Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de logs iniciada automáticamente"
    },
    {
      "timestamp": "2025-08-15T02:55:17.061Z",
      "level": "info",
      "message": "[2025-08-15T02:55:17.061Z] [INFO] [SYSTEM] Iniciando aplicación UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-15T02:55:17.061Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:17.061Z",
      "level": "info",
      "message": "[2025-08-15T02:55:17.061Z] [INFO] [CONFIG] Configuración válida al iniciar | Data: {\n  \"allSystemsReady\": true,\n  \"timestamp\": \"2025-08-15T02:55:17.061Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:17.067Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.067Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.067Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.067Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.086Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.087Z",
      "level": "warn",
      "message": "⚠️ Usando valores por defecto para workspaceId/tenantId - verificar configuración del backend"
    },
    {
      "timestamp": "2025-08-15T02:55:17.087Z",
      "level": "log",
      "message": "🔐 Fallback - Usando valores de entorno:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.087Z",
      "level": "warn",
      "message": "⚠️ Configuración de rooms con userId null:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.087Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "warn",
      "message": "⚠️ Usando valores por defecto para workspaceId/tenantId - verificar configuración del backend"
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 Fallback - Usando valores de entorno:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "warn",
      "message": "⚠️ Configuración de rooms con userId null:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": null
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.090Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:17.100Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": false,
          "isAuthenticating": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.886Z",
      "level": "info",
      "message": "[2025-08-15T02:55:20.886Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:20.886Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.887Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.887Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.887Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.901Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": false,
          "hasBackendUser": false,
          "loading": true,
          "isAuthenticating": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:20.901Z",
      "level": "info",
      "message": "[2025-08-15T02:55:20.901Z] [INFO] [API] Request sin token | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"isAuthEndpoint\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:20.901Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:20.901Z] [DEBUG] [API] Request: POST /api/auth/login | Data: {\n  \"email\": \"admin@company.com\",\n  \"password\": \"12345678\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:21.883Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:21.883Z] [DEBUG] [API] Response: POST /api/auth/login | Data: {\n  \"success\": true,\n  \"message\": \"Login exitoso\",\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1MjI2NTIxLCJleHAiOjE3NTUyMjc0MjEsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.0tZslbOW-sCoW-Bpas0f3jOF4pUSxhO6naVLUHarJTY\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJmYW1pbHlJZCI6IjM5ZWMwY2Y1LTM1ZmQtNDUzYS1iYWNkLTg3YjMzNWRlYmY4NCIsImRldmljZUlkIjoiYTljNzUxYzYtMmIyYi00ZjUxLWIxODctNWUxZTNmZDMwNjU5IiwiaWF0IjoxNzU1MjI2NTIxLCJleHAiOjE3NTU4MzEzMjEsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.ZCXF5ndJooHQUdllgYKN3OD-4OELShlkgjC3LUWeEts\",\n  \"expiresIn\": \"15m\",\n  \"refreshExpiresIn\": \"7d\",\n  \"user\": {\n    \"id\": \"admin@company.com\",\n    \"email\": \"admin@company.com\",\n    \"name\": \"Administrador del Sistema\",\n    \"phone\": null,\n    \"role\": \"admin\",\n    \"permissions\": [\n      \"users.read\",\n      \"users.write\",\n      \"users.delete\",\n      \"conversations.read\",\n      \"conversations.write\",\n      \"conversations.delete\",\n      \"messages.read\",\n      \"messages.write\",\n      \"campaigns.read\",\n      \"campaigns.write\",\n      \"campaigns.delete\",\n      \"dashboard.read\",\n      \"settings.read\",\n      \"settings.write\",\n      \"crm.read\",\n      \"crm.write\"\n    ],\n    \"department\": \"admin\",\n    \"isActive\": true,\n    \"settings\": {\n      \"notifications\": true,\n      \"language\": \"es\",\n      \"timezone\": \"America/Mexico_City\"\n    },\n    \"lastLoginAt\": {\n      \"_seconds\": 1752719278,\n      \"_nanoseconds\": 484000000\n    },\n    \"createdAt\": {\n      \"_seconds\": 1755226521,\n      \"_nanoseconds\": 375000000\n    },\n    \"updatedAt\": {\n      \"_seconds\": 1753925658,\n      \"_nanoseconds\": 131000000\n    },\n    \"performance\": null\n  },\n  \"deviceInfo\": {\n    \"deviceId\": \"a9c751c6-2b2b-4f51-b187-5e1e3fd30659\",\n    \"deviceType\": \"web\",\n    \"loginAt\": \"2025-08-15T02:55:21.552Z\"\n  }\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:21.883Z",
      "level": "info",
      "message": "[2025-08-15T02:55:21.883Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:21.884Z",
      "level": "log",
      "message": "✅ Login exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T02:55:21.885Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.885Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.885Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.885Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.889Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado de autenticación:",
      "data": [
        {
          "isAuthenticated": true,
          "hasBackendUser": true,
          "loading": false,
          "isAuthenticating": false,
          "userEmail": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.890Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.890Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.904Z",
      "level": "info",
      "message": "[2025-08-15T02:55:21.904Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:21.905Z",
      "level": "info",
      "message": "[2025-08-15T02:55:21.905Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:21.985Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Login exitoso, conectando WebSocket inmediatamente..."
    },
    {
      "timestamp": "2025-08-15T02:55:21.985Z",
      "level": "log",
      "message": "🔌 Iniciando conexión de socket..."
    },
    {
      "timestamp": "2025-08-15T02:55:21.985Z",
      "level": "log",
      "message": "🔌 Configurando socket con URL:",
      "data": [
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.985Z",
      "level": "log",
      "message": "🔌 Token disponible:",
      "data": [
        "Sí"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.985Z",
      "level": "log",
      "message": "🔌 Configuración de entorno:",
      "data": [
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.986Z",
      "level": "log",
      "message": "🔌 Conectando socket con timeout de",
      "data": [
        30000,
        "ms..."
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:21.987Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Configurando listeners globales"
    },
    {
      "timestamp": "2025-08-15T02:55:22.561Z",
      "level": "log",
      "message": "🔌 Socket conectado exitosamente:",
      "data": [
        "Oc4Ds5n6qxKfiXiHAAAB"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:22.561Z",
      "level": "log",
      "message": "✅ Socket conectado:",
      "data": [
        "Oc4Ds5n6qxKfiXiHAAAB"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:22.563Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "connected"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:22.803Z",
      "level": "log",
      "message": "✅ WebSocketContext - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {},
          "serverTime": "2025-08-15T02:55:22.676Z",
          "syncId": "initial_1755226522676"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:22.803Z",
      "level": "log",
      "message": "🚀 WebSocketContext - Emitiendo evento websocket:state-synced..."
    },
    {
      "timestamp": "2025-08-15T02:55:22.803Z",
      "level": "log",
      "message": "✅ WebSocketContext - Evento websocket:state-synced emitido exitosamente"
    },
    {
      "timestamp": "2025-08-15T02:55:31.172Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.172Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.203Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.205Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.206Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.206Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.206Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.207Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.207Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.207Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronización inicial..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.222Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.222Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.222Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.222Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T02:55:31.222Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.222Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.222Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.222Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T02:55:31.612Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.612Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"2 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T02:55:31.514Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.612Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.612Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.634Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.635Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.635Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.635Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.635Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.635Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.636Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.636Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.636Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.636Z",
      "level": "log",
      "message": "🎧 useChat - Configurando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.637Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🎧 useChat - Limpiando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🎧 useChat - Configurando listeners para conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 997ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadMessages:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.638Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.639Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.639Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.639Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:31.639Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:31.639Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:31.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:31.639Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:31.640Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2134.050786749056ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:55:31.652Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.652Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.653Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.653Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.653Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 984ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.653Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 982ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.717Z",
      "level": "log",
      "message": "🔌 useConversations - Usuario salió de conversación:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502",
          "timestamp": "2025-08-15T02:55:31.673Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.788Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.788Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 840ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.797Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 838ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:31.853Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.853Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"2 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T02:55:31.806Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.853Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.853Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.998Z",
      "level": "debug",
      "message": "[2025-08-15T02:55:31.998Z] [DEBUG] [API] Response: GET /api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50 | Data: {\n  \"success\": true,\n  \"data\": {\n    \"messages\": [\n      {\n        \"id\": \"MSG_1755083537705_r20ypc265\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"Holaaa\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-13T11:12:17.705Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM1e4fdeb8cd6430a34c4a194cd9e22cba\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-13T11:12:17.705Z\",\n          \"uniqueTimestamp\": 1755083537705,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-13T11:12:17.918Z\",\n        \"updatedAt\": \"2025-08-13T11:12:17.918Z\"\n      },\n      {\n        \"id\": \"e9f6edd0-d771-4829-89f0-16393b53eed3\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 9\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"queued\",\n        \"timestamp\": \"2025-08-11T22:21:25.840Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T22:21:25.283Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioSid\": \"SM7b74104a3d773a2cc5cd7d7b34453684\",\n          \"twilioStatus\": \"queued\",\n          \"sentAt\": \"2025-08-11T22:21:26.221Z\"\n        },\n        \"createdAt\": \"2025-08-11T22:21:25.999Z\",\n        \"updatedAt\": \"2025-08-11T22:21:25.999Z\"\n      },\n      {\n        \"id\": \"MSG_1754950781909_0fpwl9xst\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 1 de envio\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T22:19:41.909Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SMa3126c3606f11b692d0cfdfe5af6f25a\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T22:19:41.909Z\",\n          \"uniqueTimestamp\": 1754950781909,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T22:19:42.049Z\",\n        \"updatedAt\": \"2025-08-11T22:19:42.049Z\"\n      },\n      {\n        \"id\": \"5b550d66-a89f-4205-8f5b-fa08fe307c07\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 8\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"queued\",\n        \"timestamp\": \"2025-08-11T22:19:32.291Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T22:19:31.636Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioSid\": \"SMa9f4c6a934b0a953e61429e7aedfd343\",\n          \"twilioStatus\": \"queued\",\n          \"sentAt\": \"2025-08-11T22:19:32.759Z\"\n        },\n        \"createdAt\": \"2025-08-11T22:19:32.432Z\",\n        \"updatedAt\": \"2025-08-11T22:19:32.432Z\"\n      },\n      {\n        \"id\": \"16050327-bfed-4ba0-a18f-8dfe989a7e8b\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 7\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:39:40.496Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:39:39.770Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:39:40.899Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:39:40.654Z\",\n        \"updatedAt\": \"2025-08-11T21:39:40.654Z\"\n      },\n      {\n        \"id\": \"6f48c575-bdb1-40c4-9887-98d82bd6aeaf\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 6\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:24:37.443Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:24:36.998Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:24:37.855Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:24:37.709Z\",\n        \"updatedAt\": \"2025-08-11T21:24:37.709Z\"\n      },\n      {\n        \"id\": \"968d44e0-80c4-458d-bbc8-e731090ded63\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 5\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"failed\",\n        \"timestamp\": \"2025-08-11T21:17:49.359Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T21:17:48.723Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioError\": \"Authenticate\",\n          \"failedAt\": \"2025-08-11T21:17:49.845Z\"\n        },\n        \"createdAt\": \"2025-08-11T21:17:49.562Z\",\n        \"updatedAt\": \"2025-08-11T21:17:49.562Z\"\n      },\n      {\n        \"id\": \"4bebac39-f0a0-4cbc-b48f-8d0bf1bcbabd\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 4\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T20:52:51.752Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T20:52:51.188Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T20:52:51.969Z\",\n        \"updatedAt\": \"2025-08-11T20:52:51.969Z\"\n      },\n      {\n        \"id\": \"MSG_1754941616747_emylhujdz\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"HOLISSS\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T19:46:56.747Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM5fb9060c9614628a880c9273e63af0a3\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T19:46:56.747Z\",\n          \"uniqueTimestamp\": 1754941616747,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T19:46:56.998Z\",\n        \"updatedAt\": \"2025-08-11T19:46:56.998Z\"\n      },\n      {\n        \"id\": \"2b4b292c-67d1-43d6-a9b1-24f17a720213\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:46:21.776Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:46:21.133Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:46:21.980Z\",\n        \"updatedAt\": \"2025-08-11T19:46:21.980Z\"\n      },\n      {\n        \"id\": \"df425d26-9c23-4326-acfe-3c48833ba101\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"PRUEBA 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:46:09.915Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:46:09.293Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:46:10.139Z\",\n        \"updatedAt\": \"2025-08-11T19:46:10.139Z\"\n      },\n      {\n        \"id\": \"f56417c5-e6f5-446e-b5c5-cd5f1b8085e8\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 3\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T19:27:27.845Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T19:27:27.170Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T19:27:28.067Z\",\n        \"updatedAt\": \"2025-08-11T19:27:28.067Z\"\n      },\n      {\n        \"id\": \"57783593-19c5-44f0-afdf-051a0e12bbdf\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 2\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:58:35.150Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:58:34.594Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:58:35.350Z\",\n        \"updatedAt\": \"2025-08-11T18:58:35.350Z\"\n      },\n      {\n        \"id\": \"b23da669-896f-4030-8a11-6583b232e96e\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 2\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:58:20.651Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:58:20.111Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:58:20.847Z\",\n        \"updatedAt\": \"2025-08-11T18:58:20.847Z\"\n      },\n      {\n        \"id\": \"cb540857-2d36-45ce-9813-4f8fe42f332a\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"prueba 1\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:35:02.059Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:35:01.365Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:35:02.315Z\",\n        \"updatedAt\": \"2025-08-11T18:35:02.315Z\"\n      },\n      {\n        \"id\": \"c920fbcd-4c1f-4d2f-a8e1-53d09c42b39b\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:26:49.061Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:26:48.545Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:26:49.280Z\",\n        \"updatedAt\": \"2025-08-11T18:26:49.280Z\"\n      },\n      {\n        \"id\": \"88292b66-9ecb-4049-968f-33e5550612b3\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T18:26:21.519Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T18:26:20.930Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T18:26:21.722Z\",\n        \"updatedAt\": \"2025-08-11T18:26:21.722Z\"\n      },\n      {\n        \"id\": \"c468044f-0a1e-4a33-8bc9-6bc0f01c46fc\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"jjjj\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:46:54.927Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:46:54.410Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:46:55.060Z\",\n        \"updatedAt\": \"2025-08-11T17:46:55.060Z\"\n      },\n      {\n        \"id\": \"MSG_1754934375246_40d3ybjnv\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"jajajaj\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-11T17:46:15.247Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM3eb1c0205d6c65d6a5c4d5cbaafc3b7c\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-11T17:46:15.247Z\",\n          \"uniqueTimestamp\": 1754934375247,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-11T17:46:15.459Z\",\n        \"updatedAt\": \"2025-08-11T17:46:15.459Z\"\n      },\n      {\n        \"id\": \"79b2ed36-fa5a-43a1-8dad-9b6a6dbfba0d\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"holis\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:45:36.065Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:45:35.561Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:45:36.237Z\",\n        \"updatedAt\": \"2025-08-11T17:45:36.237Z\"\n      },\n      {\n        \"id\": \"4e55eb60-e9b0-4caf-8ced-e0ab6fadf553\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214773790184\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214773790184\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:45:24.369Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:45:23.776Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:45:24.546Z\",\n        \"updatedAt\": \"2025-08-11T17:45:24.546Z\"\n      },\n      {\n        \"id\": \"MSG_1754755557212_3y8gpsrmz\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"Hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-09T16:05:57.212Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM60d2aab9d436ba64a0643f3f3e5f6fb0\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-09T16:05:57.212Z\",\n          \"uniqueTimestamp\": 1754755557212,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-09T16:05:57.431Z\",\n        \"updatedAt\": \"2025-08-09T16:05:57.431Z\"\n      },\n      {\n        \"id\": \"MSG_1754699629675_3ey9znjaj\",\n        \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214773790184\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214773790184\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-09T00:33:49.675Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SM90dd469b5fb26925eaf98bfc90ed96b9\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-09T00:33:49.675Z\",\n          \"uniqueTimestamp\": 1754699629675,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-09T00:33:49.900Z\",\n        \"updatedAt\": \"2025-08-09T00:33:49.900Z\"\n      }\n    ],\n    \"pagination\": {\n      \"hasMore\": false,\n      \"nextCursor\": null,\n      \"totalResults\": 23,\n      \"limit\": 50,\n      \"orderBy\": \"timestamp\",\n      \"order\": \"desc\"\n    },\n    \"metadata\": {\n      \"conversationId\": \"conv_+5214773790184_+5214793176502\",\n      \"totalResults\": 23,\n      \"queryTime\": \"95ms\"\n    }\n  },\n  \"message\": \"23 mensajes encontrados\",\n  \"timestamp\": \"2025-08-15T02:55:31.943Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:31.998Z",
      "level": "info",
      "message": "[2025-08-15T02:55:31.998Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:32.207Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.208Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.209Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.209Z",
      "level": "log",
      "message": "🔄 useConversations - Sincronizando estado inicial...",
      "data": [
        {
          "reason": "initial"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.287Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.287Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.301Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.302Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 335ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.302Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 333ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.302Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.302Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "RATE_LIMIT_EXCEEDED",
          "message": "Too many requests. Please slow down.",
          "eventName": "sync-state",
          "retryAfter": 2000
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.548Z",
      "level": "log",
      "message": "✅ useConversations - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {},
          "serverTime": "2025-08-15T02:55:32.502Z",
          "syncId": 1755226532502
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.549Z",
      "level": "log",
      "message": "📋 useConversations - Actualizando conversaciones sincronizadas:",
      "data": [
        2
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.636Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.636Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.636Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 999ms"
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.637Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.638Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.638Z",
      "level": "info",
      "message": "[2025-08-15T02:55:32.638Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:32.638Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:32.639Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:32.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:32.639Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:32.639Z",
      "level": "error",
      "message": "[2025-08-15T02:55:32.639Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:32.640Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4186.571277767372ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:55:32.640Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.640Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.640Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.641Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.641Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.641Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.641Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.641Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.642Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.642Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:32.642Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 995ms"
    },
    {
      "timestamp": "2025-08-15T02:55:32.642Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 999ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:32.642Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 999ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.637Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.637Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.638Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.638Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.638Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.638Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.639Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.639Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en -3ms"
    },
    {
      "timestamp": "2025-08-15T02:55:33.639Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.640Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.640Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.640Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.641Z",
      "level": "info",
      "message": "[2025-08-15T02:55:33.641Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:33.641Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.641Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.641Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.642Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.642Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.642Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.642Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.642Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8706.87448932051ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:55:33.642Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 995ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.643Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 994ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.644Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en -7ms"
    },
    {
      "timestamp": "2025-08-15T02:55:33.644Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 1000ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.673Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:55:33.674Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.674Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.675Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.675Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.688Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 985ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.688Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 949ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.688Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.688Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.688Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.689Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.689Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 984ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.689Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 948ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.751Z",
      "level": "log",
      "message": "🔌 useConversations - Usuario salió de conversación:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502",
          "timestamp": "2025-08-15T02:55:33.707Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "info",
      "message": "[2025-08-15T02:55:33.775Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.775Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.775Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "error",
      "message": "[2025-08-15T02:55:33.775Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:33.775Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:55:33.805Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.805Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 852ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:33.821Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 816ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:34.639Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.639Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.639Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.640Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.640Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.640Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.640Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.640Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1004ms"
    },
    {
      "timestamp": "2025-08-15T02:55:34.641Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.641Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.641Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.641Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.642Z",
      "level": "info",
      "message": "[2025-08-15T02:55:34.642Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:34.642Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.642Z",
      "level": "error",
      "message": "[2025-08-15T02:55:34.642Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:34.642Z",
      "level": "error",
      "message": "[2025-08-15T02:55:34.642Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:34.643Z",
      "level": "error",
      "message": "[2025-08-15T02:55:34.643Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:34.643Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:34.643Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:34.643Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:34.643Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 996ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:34.644Z",
      "level": "error",
      "message": "❌ useChat - Error uniéndose a conversación:",
      "data": [
        {}
      ],
      "stack": "Error: Operación throttled. Espera 995ms antes de reintentar.\n    at Throttler.execute (http://localhost:5173/src/utils/throttleUtils.ts:33:13)\n    at throttledExecute (http://localhost:5173/src/utils/throttleUtils.ts:98:30)\n    at async joinOperation (http://localhost:5173/src/hooks/useChat.ts:117:11)"
    },
    {
      "timestamp": "2025-08-15T02:55:34.674Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.674Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:34.675Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 998ms"
    },
    {
      "timestamp": "2025-08-15T02:55:34.676Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 998ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:34.676Z",
      "level": "error",
      "message": "❌ useChat - Error saliendo de conversación:",
      "data": [
        {}
      ],
      "stack": "Error: Operación throttled. Espera 998ms antes de reintentar.\n    at Throttler.execute (http://localhost:5173/src/utils/throttleUtils.ts:33:13)\n    at throttledExecute (http://localhost:5173/src/utils/throttleUtils.ts:98:30)\n    at async leaveOperation (http://localhost:5173/src/hooks/useChat.ts:147:15)"
    },
    {
      "timestamp": "2025-08-15T02:55:34.676Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 998ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.640Z",
      "level": "log",
      "message": "🔗 Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.640Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.641Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.641Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.641Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.642Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.642Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.642Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 2ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.642Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.642Z",
      "level": "log",
      "message": "📋 useChat - Mensajes cargados desde cache:",
      "data": [
        0
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.643Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "decodedId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.643Z",
      "level": "log",
      "message": "🔍 ID de Conversación loadConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.643Z",
      "level": "info",
      "message": "[2025-08-15T02:55:35.643Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:35.644Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.644Z",
      "level": "error",
      "message": "[2025-08-15T02:55:35.644Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:35.644Z",
      "level": "error",
      "message": "[2025-08-15T02:55:35.644Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:35.644Z",
      "level": "error",
      "message": "[2025-08-15T02:55:35.644Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:35.645Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2024.8257820731424ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:55:35.645Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55990ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.645Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55990ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.646Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en -2ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.671Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1976ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.671Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1976ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.672Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.672Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.673Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.673Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.673Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 1ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.673Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55962ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔌 Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔗 ID de conversación codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214773790184_+5214793176502",
          "sanitizedId": "conv_+5214773790184_+5214793176502",
          "encodedId": "conv_%2B5214773790184_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "iat": 1755226521,
          "exp": 1755227421,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔗 Room ID generado:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "workspaceId": "default",
          "tenantId": "na",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "log",
      "message": "🔌 Room ID para salir:",
      "data": [
        "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en -2ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.675Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:55:35.676Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55961ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.676Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55961ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.689Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.690Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.690Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.690Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.690Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55947ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.690Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 55945ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:35.757Z",
      "level": "log",
      "message": "🔌 useConversations - Usuario salió de conversación:",
      "data": [
        {
          "conversationId": "conv_%2B5214773790184_%2B5214793176502",
          "roomId": "ws:default:ten:na:conv:conv_%2B5214773790184_%2B5214793176502",
          "timestamp": "2025-08-15T02:55:35.713Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.805Z",
      "level": "error",
      "message": "🚨 Error de socket:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:35.805Z",
      "level": "error",
      "message": "❌ Error del servidor:",
      "data": [
        {
          "error": "PERMISSION_DENIED",
          "message": "No permission to join this conversation",
          "conversationId": "conv_%2B5214773790184_%2B5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:36.827Z",
      "level": "info",
      "message": "[2025-08-15T02:55:36.827Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:36.828Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:36.828Z",
      "level": "error",
      "message": "[2025-08-15T02:55:36.828Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:36.828Z",
      "level": "error",
      "message": "[2025-08-15T02:55:36.828Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:36.828Z",
      "level": "error",
      "message": "[2025-08-15T02:55:36.828Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:36.829Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4243.248974694592ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:55:37.649Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en 1999ms"
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53971ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:37.666Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53969ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "info",
      "message": "[2025-08-15T02:55:37.670Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "error",
      "message": "[2025-08-15T02:55:37.670Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "error",
      "message": "[2025-08-15T02:55:37.670Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "error",
      "message": "[2025-08-15T02:55:37.670Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:37.670Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8471.032340384743ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:55:37.676Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para leave-conversation, reintentando en 2000ms"
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53948ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:37.689Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 53946ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:39.649Z",
      "level": "warn",
      "message": "⚠️ Rate limit excedido para join-conversation, reintentando en -1ms"
    },
    {
      "timestamp": "2025-08-15T02:55:39.678Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.679Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.679Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.679Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.679Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51958ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:39.679Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51956ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51943ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:39.694Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 51941ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:41.073Z",
      "level": "info",
      "message": "[2025-08-15T02:55:41.073Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:41.074Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:41.074Z",
      "level": "error",
      "message": "[2025-08-15T02:55:41.074Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:41.074Z",
      "level": "error",
      "message": "[2025-08-15T02:55:41.074Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:41.074Z",
      "level": "error",
      "message": "[2025-08-15T02:55:41.074Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:41.075Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "info",
      "message": "[2025-08-15T02:55:42.350Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "error",
      "message": "[2025-08-15T02:55:42.351Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "error",
      "message": "[2025-08-15T02:55:42.351Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "error",
      "message": "[2025-08-15T02:55:42.351Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:42.351Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:43.773Z",
      "level": "log",
      "message": "🔍 ConsoleExporter: Logs descargados como console-logs-2025-08-15T02-55-43.json"
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "info",
      "message": "[2025-08-15T02:55:43.776Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "error",
      "message": "[2025-08-15T02:55:43.777Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "error",
      "message": "[2025-08-15T02:55:43.777Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "error",
      "message": "[2025-08-15T02:55:43.777Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:43.777Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2082.241550786294ms (intento 0)"
    },
    {
      "timestamp": "2025-08-15T02:55:45.861Z",
      "level": "info",
      "message": "[2025-08-15T02:55:45.861Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:45.861Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:45.861Z",
      "level": "error",
      "message": "[2025-08-15T02:55:45.861Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:45.862Z",
      "level": "error",
      "message": "[2025-08-15T02:55:45.862Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:45.862Z",
      "level": "error",
      "message": "[2025-08-15T02:55:45.862Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:45.862Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 4101.1526795991695ms (intento 1)"
    },
    {
      "timestamp": "2025-08-15T02:55:46.143Z",
      "level": "info",
      "message": "[2025-08-15T02:55:46.143Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:46.144Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:46.144Z",
      "level": "error",
      "message": "[2025-08-15T02:55:46.144Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:46.145Z",
      "level": "error",
      "message": "[2025-08-15T02:55:46.145Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:46.145Z",
      "level": "error",
      "message": "[2025-08-15T02:55:46.145Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:46.145Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 8586.74245559645ms (intento 2)"
    },
    {
      "timestamp": "2025-08-15T02:55:49.965Z",
      "level": "info",
      "message": "[2025-08-15T02:55:49.965Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:49.965Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:49.966Z",
      "level": "error",
      "message": "[2025-08-15T02:55:49.966Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:49.966Z",
      "level": "error",
      "message": "[2025-08-15T02:55:49.966Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:49.966Z",
      "level": "error",
      "message": "[2025-08-15T02:55:49.966Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:49.966Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 10000ms (intento 3)"
    },
    {
      "timestamp": "2025-08-15T02:55:51.077Z",
      "level": "info",
      "message": "[2025-08-15T02:55:51.077Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:51.077Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:51.077Z",
      "level": "error",
      "message": "[2025-08-15T02:55:51.077Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:51.077Z",
      "level": "error",
      "message": "[2025-08-15T02:55:51.077Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:51.077Z",
      "level": "error",
      "message": "[2025-08-15T02:55:51.077Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:51.078Z",
      "level": "error",
      "message": "Error cargando conversación:",
      "data": [
        {}
      ],
      "stack": "Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:51.988Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - WebSocket timeout, continuando sin tiempo real"
    },
    {
      "timestamp": "2025-08-15T02:55:51.988Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - Login HTTP exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T02:55:51.989Z",
      "level": "warn",
      "message": "⚠️ WebSocketContext - Activando modo fallback:",
      "data": [
        {
          "reason": "timeout",
          "timestamp": "2025-08-15T02:55:51.988Z",
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU1MjI2NTIxLCJleHAiOjE3NTUyMjc0MjEsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.0tZslbOW-sCoW-Bpas0f3jOF4pUSxhO6naVLUHarJTY"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:51.989Z",
      "level": "warn",
      "message": "⚠️ Modo offline activado - Funcionalidad de tiempo real limitada"
    },
    {
      "timestamp": "2025-08-15T02:55:52.018Z",
      "level": "log",
      "message": "🔌 useChat - Saliendo de conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:52.018Z",
      "level": "log",
      "message": "🔍 ID de Conversación leaveConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:52.019Z",
      "level": "log",
      "message": "🔗 useChat - Uniéndose a conversación:",
      "data": [
        "conv_+5214773790184_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:52.019Z",
      "level": "log",
      "message": "🔍 ID de Conversación joinConversation:",
      "data": [
        {
          "id": "conv_+5214773790184_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214773790184",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:52.019Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 39618ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:52.019Z",
      "level": "log",
      "message": "⏳ Operación throttled, esperando 39616ms antes de reintentar..."
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "info",
      "message": "[2025-08-15T02:55:54.733Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "warn",
      "message": "⚠️ ID de conversación inválido:",
      "data": [
        "conv_%2B5214773790184_%2B5214793176502",
        "decoded:",
        "conv_%2B5214773790184_%2B5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "error",
      "message": "[2025-08-15T02:55:54.733Z] [ERROR] [API] ID de conversación inválido detectado en URL | Data: {\n  \"originalUrl\": \"/api/conversations/conv_%2B5214773790184_%2B5214793176502\",\n  \"invalidId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214773790184_%2B5214793176502\",\n  \"method\": \"GET\"\n} | Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: Invalid conversation ID: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:50:75\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "error",
      "message": "[2025-08-15T02:55:54.733Z] [ERROR] [API] API Error: undefined undefined | Data: {\n  \"message\": \"ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\"\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "error",
      "message": "[2025-08-15T02:55:54.733Z] [ERROR] [API] Error en respuesta de API | Data: {\n  \"isNetworkError\": true,\n  \"isTimeout\": false\n} | Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502 | Stack: Error: ID de conversación inválido: conv_%2B5214773790184_%2B5214793176502\n    at http://localhost:5173/src/services/api.ts:56:33\n    at async Axios.request (http://localhost:5173/node_modules/.vite/deps/axios.js?v=ecd98c77:2139:14)\n    at async retryWithBackoff (http://localhost:5173/src/utils/retryUtils.ts:113:14)\n    at async http://localhost:5173/src/hooks/useChat.ts:91:24"
    },
    {
      "timestamp": "2025-08-15T02:55:54.733Z",
      "level": "log",
      "message": "🔄 Reintentando loadConversation:conversationId:conv_+5214773790184_+5214793176502 en 2122.066639652208ms (intento 0)"
    }
  ]
}